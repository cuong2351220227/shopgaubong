<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<VBox xmlns="http://javafx.com/javafx"
      xmlns:fx="http://javafx.com/fxml"
      fx:controller="com.example.shopgaubong.controller.PromotionManagementController"
      spacing="15" style="-fx-background-color: #f5f5f5;">

    <padding>
        <Insets top="20" right="20" bottom="20" left="20"/>
    </padding>

    <HBox alignment="CENTER_LEFT" spacing="15">
        <Label text="ðŸŽ QUáº¢N LÃ KHUYáº¾N MÃƒI" style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-text-fill: #2196F3;"/>
        <Region HBox.hgrow="ALWAYS"/>
        <Button text="ðŸ”„ LÃ m má»›i" onAction="#handleRefresh"
                style="-fx-background-color: #2196F3; -fx-text-fill: white; -fx-font-size: 12px; -fx-padding: 8 16;"/>
    </HBox>

    <Separator/>

    <HBox spacing="10" alignment="CENTER_LEFT" style="-fx-background-color: white; -fx-padding: 15;">
        <Label text="TÃ¬m kiáº¿m:" style="-fx-font-size: 14px;"/>
        <TextField fx:id="txtSearch" promptText="Nháº­p mÃ£ hoáº·c tÃªn khuyáº¿n mÃ£i..." 
                   prefWidth="300" style="-fx-font-size: 14px;"/>
        <CheckBox fx:id="cbActiveOnly" text="Chá»‰ hiá»ƒn thá»‹ Ä‘ang hoáº¡t Ä‘á»™ng" style="-fx-font-size: 13px;"/>
        <Button text="ðŸ” TÃ¬m" onAction="#handleSearch"
                style="-fx-background-color: #4CAF50; -fx-text-fill: white; -fx-font-size: 14px; -fx-padding: 8 20;"/>
    </HBox>

    <SplitPane dividerPositions="0.55" VBox.vgrow="ALWAYS">
        <VBox spacing="10" style="-fx-background-color: white; -fx-padding: 15;">
            <Label text="DANH SÃCH KHUYáº¾N MÃƒI" style="-fx-font-size: 16px; -fx-font-weight: bold;"/>
            <Separator/>
            
            <TableView fx:id="promotionTable" VBox.vgrow="ALWAYS">
                <columns>
                    <TableColumn fx:id="colCode" text="MÃ£ KM" prefWidth="100"/>
                    <TableColumn fx:id="colName" text="TÃªn khuyáº¿n mÃ£i" prefWidth="200"/>
                    <TableColumn fx:id="colType" text="Loáº¡i" prefWidth="100"/>
                    <TableColumn fx:id="colValue" text="GiÃ¡ trá»‹" prefWidth="100"/>
                    <TableColumn fx:id="colValidPeriod" text="Thá»i gian" prefWidth="180"/>
                    <TableColumn fx:id="colActive" text="Tráº¡ng thÃ¡i" prefWidth="100"/>
                </columns>
                <placeholder>
                    <Label text="ChÆ°a cÃ³ khuyáº¿n mÃ£i nÃ o"/>
                </placeholder>
            </TableView>
        </VBox>

        <VBox spacing="12" style="-fx-background-color: white; -fx-padding: 15;">
            <Label text="THÃ”NG TIN KHUYáº¾N MÃƒI" style="-fx-font-size: 16px; -fx-font-weight: bold;"/>
            <Separator/>

            <ScrollPane fitToWidth="true" VBox.vgrow="ALWAYS">
                <VBox spacing="12">
                    <GridPane hgap="10" vgap="12">
                        <columnConstraints>
                            <ColumnConstraints hgrow="NEVER" minWidth="120"/>
                            <ColumnConstraints hgrow="ALWAYS"/>
                        </columnConstraints>

                        <Label text="MÃ£ KM: *" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                        <TextField fx:id="txtCode" promptText="VD: SUMMER2025" GridPane.columnIndex="1" GridPane.rowIndex="0"/>

                        <Label text="TÃªn KM: *" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                        <TextField fx:id="txtName" promptText="TÃªn khuyáº¿n mÃ£i" GridPane.columnIndex="1" GridPane.rowIndex="1"/>

                        <Label text="Loáº¡i: *" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
                        <ComboBox fx:id="cbType" GridPane.columnIndex="1" GridPane.rowIndex="2" maxWidth="Infinity"/>

                        <Label text="GiÃ¡ trá»‹: *" GridPane.columnIndex="0" GridPane.rowIndex="3"/>
                        <TextField fx:id="txtDiscountValue" promptText="10 hoáº·c 50000" GridPane.columnIndex="1" GridPane.rowIndex="3"/>

                        <Label text="ÄH tá»‘i thiá»ƒu:" GridPane.columnIndex="0" GridPane.rowIndex="4"/>
                        <TextField fx:id="txtMinOrderValue" promptText="0" GridPane.columnIndex="1" GridPane.rowIndex="4"/>

                        <Label text="Giáº£m tá»‘i Ä‘a:" GridPane.columnIndex="0" GridPane.rowIndex="5"/>
                        <TextField fx:id="txtMaxDiscount" promptText="Chá»‰ cho %" GridPane.columnIndex="1" GridPane.rowIndex="5"/>

                        <Label text="Sá»‘ láº§n SD:" GridPane.columnIndex="0" GridPane.rowIndex="6"/>
                        <TextField fx:id="txtUsageLimit" promptText="Äá»ƒ trá»‘ng = khÃ´ng giá»›i háº¡n" GridPane.columnIndex="1" GridPane.rowIndex="6"/>

                        <Label text="NgÃ y báº¯t Ä‘áº§u: *" GridPane.columnIndex="0" GridPane.rowIndex="7"/>
                        <DatePicker fx:id="dpStartDate" GridPane.columnIndex="1" GridPane.rowIndex="7" maxWidth="Infinity"/>

                        <Label text="NgÃ y káº¿t thÃºc: *" GridPane.columnIndex="0" GridPane.rowIndex="8"/>
                        <DatePicker fx:id="dpEndDate" GridPane.columnIndex="1" GridPane.rowIndex="8" maxWidth="Infinity"/>
                    </GridPane>

                    <Label text="MÃ´ táº£:"/>
                    <TextArea fx:id="txtDescription" promptText="MÃ´ táº£ chi tiáº¿t..." prefRowCount="3" wrapText="true"/>

                    <CheckBox fx:id="cbIsActive" text="Khuyáº¿n mÃ£i Ä‘ang hoáº¡t Ä‘á»™ng" selected="true"/>
                </VBox>
            </ScrollPane>

            <Separator/>

            <HBox spacing="10" alignment="CENTER">
                <Button fx:id="btnSave" text="âœš ThÃªm má»›i" onAction="#handleSave"
                        style="-fx-background-color: #4CAF50; -fx-text-fill: white; -fx-font-size: 14px; -fx-padding: 10 20;"/>
                <Button fx:id="btnDelete" text="ðŸ—‘ï¸ XÃ³a" onAction="#handleDelete"
                        style="-fx-background-color: #f44336; -fx-text-fill: white; -fx-font-size: 14px; -fx-padding: 10 20;"/>
                <Button fx:id="btnClear" text="ðŸ”„ LÃ m má»›i form" onAction="#handleClear"
                        style="-fx-background-color: #9E9E9E; -fx-text-fill: white; -fx-font-size: 14px; -fx-padding: 10 20;"/>
            </HBox>
        </VBox>
    </SplitPane>

    <VBox spacing="5" style="-fx-background-color: #e3f2fd; -fx-padding: 10; -fx-border-color: #2196F3; -fx-border-width: 1;">
        <Label text="â„¹ï¸ LÆ°u Ã½:" style="-fx-font-weight: bold; -fx-text-fill: #1976D2;"/>
        <Label text="â€¢ Loáº¡i Pháº§n trÄƒm: giáº£m theo %, cáº§n thiáº¿t láº­p giáº£m tá»‘i Ä‘a. VD: giáº£m 10%, tá»‘i Ä‘a 50.000Ä‘"
               wrapText="true" style="-fx-font-size: 12px;"/>
        <Label text="â€¢ Loáº¡i Sá»‘ tiá»n: giáº£m cá»‘ Ä‘á»‹nh. VD: giáº£m 50.000Ä‘"
               wrapText="true" style="-fx-font-size: 12px;"/>
    </VBox>

</VBox>
