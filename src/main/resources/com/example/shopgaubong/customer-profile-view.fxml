<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<VBox xmlns="http://javafx.com/javafx"
      xmlns:fx="http://javafx.com/fxml"
      fx:controller="com.example.shopgaubong.controller.CustomerProfileController"
      spacing="20" style="-fx-background-color: #f5f5f5;">

    <padding>
        <Insets top="20" right="20" bottom="20" left="20"/>
    </padding>

    <!-- Header -->
    <HBox alignment="CENTER_LEFT" spacing="15">
        <Label text="THÃ”NG TIN CÃ NHÃ‚N" style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
        <Region HBox.hgrow="ALWAYS"/>
        <Button fx:id="btnSaveAll" text="ðŸ’¾ LÆ°u táº¥t cáº£" onAction="#handleSaveAll"
                style="-fx-background-color: #27ae60; -fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: bold; -fx-padding: 10 25; -fx-background-radius: 5; -fx-cursor: hand;"/>
    </HBox>

    <Separator/>

    <!-- Content Container -->
    <ScrollPane fitToWidth="true" style="-fx-background-color: transparent;" VBox.vgrow="ALWAYS">
        <VBox spacing="20" style="-fx-background-color: transparent;">

            <!-- Account Information Card (Read-only) -->
            <VBox spacing="15" style="-fx-background-color: white; -fx-background-radius: 10; -fx-padding: 20; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 2);">
                <HBox alignment="CENTER_LEFT">
                    <Label text="ðŸ“‹ ThÃ´ng tin tÃ i khoáº£n" style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #34495e;"/>
                    <Region HBox.hgrow="ALWAYS"/>
                    <Label text="(Chá»‰ xem)" style="-fx-font-size: 12px; -fx-text-fill: #95a5a6; -fx-font-style: italic;"/>
                </HBox>
                <Separator/>

                <GridPane hgap="15" vgap="12">
                    <columnConstraints>
                        <ColumnConstraints minWidth="150" prefWidth="150"/>
                        <ColumnConstraints hgrow="ALWAYS" minWidth="200"/>
                        <ColumnConstraints minWidth="150" prefWidth="150"/>
                        <ColumnConstraints hgrow="ALWAYS" minWidth="200"/>
                    </columnConstraints>

                    <!-- Username -->
                    <Label text="TÃªn Ä‘Äƒng nháº­p:" GridPane.columnIndex="0" GridPane.rowIndex="0" 
                           style="-fx-font-weight: bold; -fx-text-fill: #555;"/>
                    <Label fx:id="lblUsername" GridPane.columnIndex="1" GridPane.rowIndex="0"
                           style="-fx-font-size: 14px; -fx-text-fill: #2c3e50;"/>

                    <!-- Role -->
                    <Label text="Vai trÃ²:" GridPane.columnIndex="2" GridPane.rowIndex="0"
                           style="-fx-font-weight: bold; -fx-text-fill: #555;"/>
                    <Label fx:id="lblRole" GridPane.columnIndex="3" GridPane.rowIndex="0"
                           style="-fx-font-size: 14px; -fx-text-fill: #2c3e50;"/>

                    <!-- Created At -->
                    <Label text="NgÃ y táº¡o:" GridPane.columnIndex="0" GridPane.rowIndex="1"
                           style="-fx-font-weight: bold; -fx-text-fill: #555;"/>
                    <Label fx:id="lblCreatedAt" GridPane.columnIndex="1" GridPane.rowIndex="1"
                           style="-fx-font-size: 14px; -fx-text-fill: #2c3e50;"/>

                    <!-- Account Status -->
                    <Label text="Tráº¡ng thÃ¡i:" GridPane.columnIndex="2" GridPane.rowIndex="1"
                           style="-fx-font-weight: bold; -fx-text-fill: #555;"/>
                    <Label fx:id="lblStatus" GridPane.columnIndex="3" GridPane.rowIndex="1"
                           style="-fx-font-size: 14px; -fx-font-weight: bold;"/>
                </GridPane>
            </VBox>

            <!-- Profile Information Card (Editable) -->
            <VBox spacing="15" style="-fx-background-color: white; -fx-background-radius: 10; -fx-padding: 20; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 2);">
                <HBox alignment="CENTER_LEFT">
                    <Label text="ðŸ‘¤ ThÃ´ng tin cÃ¡ nhÃ¢n" style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #34495e;"/>
                    <Region HBox.hgrow="ALWAYS"/>
                    <Label text="(CÃ³ thá»ƒ chá»‰nh sá»­a)" style="-fx-font-size: 12px; -fx-text-fill: #3498db; -fx-font-style: italic;"/>
                </HBox>
                <Separator/>

                <GridPane hgap="15" vgap="15">
                    <columnConstraints>
                        <ColumnConstraints minWidth="150" prefWidth="150"/>
                        <ColumnConstraints hgrow="ALWAYS" minWidth="300"/>
                    </columnConstraints>

                    <!-- Full Name -->
                    <Label text="Há» vÃ  tÃªn: *" GridPane.columnIndex="0" GridPane.rowIndex="0" 
                           style="-fx-font-weight: bold; -fx-text-fill: #e74c3c;"/>
                    <TextField fx:id="txtFullName" GridPane.columnIndex="1" GridPane.rowIndex="0"
                               promptText="Nháº­p há» vÃ  tÃªn Ä‘áº§y Ä‘á»§" 
                               style="-fx-font-size: 14px; -fx-padding: 8;"/>

                    <!-- Email -->
                    <Label text="Email:" GridPane.columnIndex="0" GridPane.rowIndex="1"
                           style="-fx-font-weight: bold; -fx-text-fill: #555;"/>
                    <TextField fx:id="txtEmail" GridPane.columnIndex="1" GridPane.rowIndex="1"
                               promptText="example@email.com" 
                               style="-fx-font-size: 14px; -fx-padding: 8;"/>

                    <!-- Phone -->
                    <Label text="Sá»‘ Ä‘iá»‡n thoáº¡i:" GridPane.columnIndex="0" GridPane.rowIndex="2"
                           style="-fx-font-weight: bold; -fx-text-fill: #555;"/>
                    <TextField fx:id="txtPhone" GridPane.columnIndex="1" GridPane.rowIndex="2"
                               promptText="0xxxxxxxxx (10-11 sá»‘)" 
                               style="-fx-font-size: 14px; -fx-padding: 8;"/>
                </GridPane>
            </VBox>

            <!-- Address Information Card (Editable) -->
            <VBox spacing="15" style="-fx-background-color: white; -fx-background-radius: 10; -fx-padding: 20; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 2);">
                <Label text="ðŸ“ Äá»‹a chá»‰ liÃªn há»‡" style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #34495e;"/>
                <Separator/>

                <GridPane hgap="15" vgap="15">
                    <columnConstraints>
                        <ColumnConstraints minWidth="150" prefWidth="150"/>
                        <ColumnConstraints hgrow="ALWAYS" minWidth="300"/>
                    </columnConstraints>

                    <!-- Address -->
                    <Label text="Äá»‹a chá»‰:" GridPane.columnIndex="0" GridPane.rowIndex="0"
                           style="-fx-font-weight: bold; -fx-text-fill: #555;"/>
                    <TextArea fx:id="txtAddress" GridPane.columnIndex="1" GridPane.rowIndex="0"
                              promptText="Sá»‘ nhÃ , tÃªn Ä‘Æ°á»ng..." prefRowCount="3" wrapText="true"
                              style="-fx-font-size: 14px;"/>

                    <!-- City -->
                    <Label text="Tá»‰nh/ThÃ nh phá»‘:" GridPane.columnIndex="0" GridPane.rowIndex="1"
                           style="-fx-font-weight: bold; -fx-text-fill: #555;"/>
                    <TextField fx:id="txtCity" GridPane.columnIndex="1" GridPane.rowIndex="1"
                               promptText="VD: TP. Há»“ ChÃ­ Minh" 
                               style="-fx-font-size: 14px; -fx-padding: 8;"/>

                    <!-- District -->
                    <Label text="Quáº­n/Huyá»‡n:" GridPane.columnIndex="0" GridPane.rowIndex="2"
                           style="-fx-font-weight: bold; -fx-text-fill: #555;"/>
                    <TextField fx:id="txtDistrict" GridPane.columnIndex="1" GridPane.rowIndex="2"
                               promptText="VD: Quáº­n 1" 
                               style="-fx-font-size: 14px; -fx-padding: 8;"/>

                    <!-- Ward -->
                    <Label text="PhÆ°á»ng/XÃ£:" GridPane.columnIndex="0" GridPane.rowIndex="3"
                           style="-fx-font-weight: bold; -fx-text-fill: #555;"/>
                    <TextField fx:id="txtWard" GridPane.columnIndex="1" GridPane.rowIndex="3"
                               promptText="VD: PhÆ°á»ng Báº¿n NghÃ©" 
                               style="-fx-font-size: 14px; -fx-padding: 8;"/>
                </GridPane>

                <!-- Save Profile Button -->
                <HBox spacing="10" alignment="CENTER_RIGHT" style="-fx-padding: 10 0 0 0;">
                    <Button text="ðŸ’¾ Cáº­p nháº­t thÃ´ng tin" onAction="#handleUpdateProfile"
                            style="-fx-background-color: #3498db; -fx-text-fill: white; -fx-font-size: 14px; -fx-padding: 10 20; -fx-background-radius: 5; -fx-cursor: hand;"/>
                    <Button text="ðŸ”„ LÃ m má»›i" onAction="#handleRefreshProfile"
                            style="-fx-background-color: #95a5a6; -fx-text-fill: white; -fx-font-size: 14px; -fx-padding: 10 20; -fx-background-radius: 5; -fx-cursor: hand;"/>
                </HBox>
            </VBox>

            <!-- Change Password Card -->
            <VBox spacing="15" style="-fx-background-color: white; -fx-background-radius: 10; -fx-padding: 20; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 2);">
                <Label text="ðŸ” Äá»•i máº­t kháº©u" style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #34495e;"/>
                <Separator/>

                <GridPane hgap="15" vgap="15">
                    <columnConstraints>
                        <ColumnConstraints minWidth="150" prefWidth="150"/>
                        <ColumnConstraints hgrow="ALWAYS" minWidth="300"/>
                    </columnConstraints>

                    <!-- Current Password -->
                    <Label text="Máº­t kháº©u hiá»‡n táº¡i: *" GridPane.columnIndex="0" GridPane.rowIndex="0"
                           style="-fx-font-weight: bold; -fx-text-fill: #e74c3c;"/>
                    <PasswordField fx:id="txtCurrentPassword" GridPane.columnIndex="1" GridPane.rowIndex="0"
                                   promptText="Nháº­p máº­t kháº©u hiá»‡n táº¡i" 
                                   style="-fx-font-size: 14px; -fx-padding: 8;"/>

                    <!-- New Password -->
                    <Label text="Máº­t kháº©u má»›i: *" GridPane.columnIndex="0" GridPane.rowIndex="1"
                           style="-fx-font-weight: bold; -fx-text-fill: #e74c3c;"/>
                    <PasswordField fx:id="txtNewPassword" GridPane.columnIndex="1" GridPane.rowIndex="1"
                                   promptText="Nháº­p máº­t kháº©u má»›i (tá»‘i thiá»ƒu 6 kÃ½ tá»±)" 
                                   style="-fx-font-size: 14px; -fx-padding: 8;"/>

                    <!-- Confirm Password -->
                    <Label text="XÃ¡c nháº­n máº­t kháº©u: *" GridPane.columnIndex="0" GridPane.rowIndex="2"
                           style="-fx-font-weight: bold; -fx-text-fill: #e74c3c;"/>
                    <PasswordField fx:id="txtConfirmPassword" GridPane.columnIndex="1" GridPane.rowIndex="2"
                                   promptText="Nháº­p láº¡i máº­t kháº©u má»›i" 
                                   style="-fx-font-size: 14px; -fx-padding: 8;"/>
                </GridPane>

                <!-- Password Helper Text -->
                <HBox spacing="5" style="-fx-padding: 5 0 0 0;">
                    <Label text="â„¹ï¸" style="-fx-text-fill: #3498db; -fx-font-size: 14px;"/>
                    <Label text="Máº­t kháº©u pháº£i cÃ³ Ã­t nháº¥t 6 kÃ½ tá»±. NÃªn bao gá»“m chá»¯ hoa, chá»¯ thÆ°á»ng vÃ  sá»‘ Ä‘á»ƒ báº£o máº­t tá»‘t hÆ¡n."
                           style="-fx-text-fill: #7f8c8d; -fx-font-size: 12px; -fx-font-style: italic;"
                           wrapText="true"/>
                </HBox>

                <!-- Change Password Buttons -->
                <HBox spacing="10" alignment="CENTER_RIGHT">
                    <Button text="ðŸ”‘ Äá»•i máº­t kháº©u" onAction="#handleChangePassword"
                            style="-fx-background-color: #e74c3c; -fx-text-fill: white; -fx-font-size: 14px; -fx-font-weight: bold; -fx-padding: 10 20; -fx-background-radius: 5; -fx-cursor: hand;"/>
                    <Button text="âŒ Há»§y" onAction="#handleCancelPassword"
                            style="-fx-background-color: #95a5a6; -fx-text-fill: white; -fx-font-size: 14px; -fx-padding: 10 20; -fx-background-radius: 5; -fx-cursor: hand;"/>
                </HBox>
            </VBox>

        </VBox>
    </ScrollPane>
</VBox>
