<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<VBox xmlns="http://javafx.com/javafx"
      xmlns:fx="http://javafx.com/fxml"
      fx:controller="com.example.shopgaubong.controller.ItemManagementController"
      spacing="10" style="-fx-background-color: #f5f5f5;">
    <padding>
        <Insets top="20" right="20" bottom="20" left="20"/>
    </padding>

    <!-- Header -->
    <HBox alignment="CENTER_LEFT" spacing="10">
        <Label text="ðŸ“¦ QUáº¢N LÃ Sáº¢N PHáº¨M">
            <font>
                <Font name="System Bold" size="20"/>
            </font>
        </Label>
        <Region HBox.hgrow="ALWAYS"/>
        <TextField fx:id="txtSearch" promptText="ðŸ” TÃ¬m kiáº¿m (SKU, tÃªn, danh má»¥c)..."
                   prefWidth="300" style="-fx-font-size: 13px;"/>
        <Button text="ðŸ”„ LÃ m má»›i" onAction="#handleRefresh"
                style="-fx-background-color: #2196F3; -fx-text-fill: white; -fx-font-size: 13px;"/>
    </HBox>

    <Separator/>

    <!-- Split: Table (Left) and Form (Right) -->
    <SplitPane dividerPositions="0.6" VBox.vgrow="ALWAYS">

        <!-- LEFT: Table View -->
        <VBox spacing="10">
            <Label text="Danh sÃ¡ch sáº£n pháº©m">
                <font>
                    <Font name="System Bold" size="14"/>
                </font>
            </Label>

            <TableView fx:id="itemTable" VBox.vgrow="ALWAYS">
                <columns>
                    <TableColumn fx:id="colId" text="ID" prefWidth="50"/>
                    <TableColumn fx:id="colSku" text="MÃ£ SKU" prefWidth="100"/>
                    <TableColumn fx:id="colName" text="TÃªn sáº£n pháº©m" prefWidth="200"/>
                    <TableColumn fx:id="colCategory" text="Danh má»¥c" prefWidth="120"/>
                    <TableColumn fx:id="colPrice" text="GiÃ¡" prefWidth="100"/>
                    <TableColumn fx:id="colUnit" text="ÄÆ¡n vá»‹" prefWidth="70"/>
                    <TableColumn fx:id="colActive" text="Tráº¡ng thÃ¡i" prefWidth="100"/>
                </columns>
            </TableView>

            <HBox spacing="10" alignment="CENTER_LEFT">
                <Button text="ðŸ—‘ï¸ XÃ³a" onAction="#handleDelete"
                        style="-fx-background-color: #f44336; -fx-text-fill: white;"/>
            </HBox>
        </VBox>

        <!-- RIGHT: Form -->
        <VBox spacing="15" style="-fx-background-color: white; -fx-padding: 15;">
            <Label text="ThÃ´ng tin sáº£n pháº©m">
                <font>
                    <Font name="System Bold" size="14"/>
                </font>
            </Label>

            <GridPane hgap="10" vgap="12">
                <columnConstraints>
                    <ColumnConstraints minWidth="100" prefWidth="100"/>
                    <ColumnConstraints hgrow="ALWAYS"/>
                </columnConstraints>

                <!-- Row 0: SKU -->
                <Label text="MÃ£ SKU:" GridPane.rowIndex="0" GridPane.columnIndex="0">
                    <font><Font name="System Bold" size="12"/></font>
                </Label>
                <TextField fx:id="txtSku" GridPane.rowIndex="0" GridPane.columnIndex="1"
                           promptText="Nháº­p mÃ£ SKU (VD: TB-001)"/>

                <!-- Row 1: Name -->
                <Label text="TÃªn SP:" GridPane.rowIndex="1" GridPane.columnIndex="0">
                    <font><Font name="System Bold" size="12"/></font>
                </Label>
                <TextField fx:id="txtName" GridPane.rowIndex="1" GridPane.columnIndex="1"
                           promptText="Nháº­p tÃªn sáº£n pháº©m"/>

                <!-- Row 2: Category -->
                <Label text="Danh má»¥c:" GridPane.rowIndex="2" GridPane.columnIndex="0">
                    <font><Font name="System Bold" size="12"/></font>
                </Label>
                <ComboBox fx:id="cmbCategory" GridPane.rowIndex="2" GridPane.columnIndex="1"
                          prefWidth="9999" promptText="Chá»n danh má»¥c"/>

                <!-- Row 3: Price -->
                <Label text="GiÃ¡:" GridPane.rowIndex="3" GridPane.columnIndex="0">
                    <font><Font name="System Bold" size="12"/></font>
                </Label>
                <HBox spacing="5" GridPane.rowIndex="3" GridPane.columnIndex="1">
                    <TextField fx:id="txtPrice" HBox.hgrow="ALWAYS"
                               promptText="Nháº­p giÃ¡ (VNÄ)"/>
                    <Label text="Ä‘" style="-fx-font-weight: bold;">
                        <HBox.margin>
                            <Insets top="5"/>
                        </HBox.margin>
                    </Label>
                </HBox>

                <!-- Row 4: Unit & Weight -->
                <Label text="ÄÆ¡n vá»‹:" GridPane.rowIndex="4" GridPane.columnIndex="0">
                    <font><Font name="System Bold" size="12"/></font>
                </Label>
                <HBox spacing="10" GridPane.rowIndex="4" GridPane.columnIndex="1">
                    <TextField fx:id="txtUnit" HBox.hgrow="ALWAYS" text="CÃ¡i"
                               promptText="ÄÆ¡n vá»‹"/>
                    <Label text="Khá»‘i lÆ°á»£ng:" style="-fx-font-weight: bold;">
                        <HBox.margin>
                            <Insets top="5"/>
                        </HBox.margin>
                    </Label>
                    <TextField fx:id="txtWeight" prefWidth="100"
                               promptText="kg"/>
                </HBox>

                <!-- Row 5: Image -->
                <Label text="HÃ¬nh áº£nh:" GridPane.rowIndex="5" GridPane.columnIndex="0">
                    <font><Font name="System Bold" size="12"/></font>
                </Label>
                <VBox spacing="5" GridPane.rowIndex="5" GridPane.columnIndex="1">
                    <HBox spacing="10" alignment="CENTER_LEFT">
                        <Button fx:id="btnChooseImage" text="Chá»n áº£nh" onAction="#handleChooseImage"/>
                        <Label fx:id="lblImageFileName" text="ChÆ°a chá»n áº£nh" style="-fx-text-fill: #666;"/>
                    </HBox>
                    <ImageView fx:id="imgPreview" fitWidth="150" fitHeight="150" 
                               preserveRatio="true" smooth="true"/>
                </VBox>

                <!-- Row 6: Description -->
                <Label text="MÃ´ táº£:" GridPane.rowIndex="6" GridPane.columnIndex="0">
                    <font><Font name="System Bold" size="12"/></font>
                </Label>
                <TextArea fx:id="txtDescription" GridPane.rowIndex="6" GridPane.columnIndex="1"
                          prefRowCount="3" promptText="Nháº­p mÃ´ táº£ sáº£n pháº©m"/>

                <!-- Row 7: Active Status -->
                <Label text="Tráº¡ng thÃ¡i:" GridPane.rowIndex="7" GridPane.columnIndex="0">
                    <font><Font name="System Bold" size="12"/></font>
                </Label>
                <CheckBox fx:id="chkActive" text="Äang hoáº¡t Ä‘á»™ng" selected="true"
                          GridPane.rowIndex="7" GridPane.columnIndex="1"/>
            </GridPane>

            <Separator/>

            <!-- Action Buttons -->
            <HBox spacing="10" alignment="CENTER">
                <Button text="âž• ThÃªm má»›i" onAction="#handleNew"
                        style="-fx-background-color: #4CAF50; -fx-text-fill: white; -fx-font-size: 13px; -fx-padding: 10 20;"/>
                <Button fx:id="btnSave" text="ðŸ’¾ LÆ°u" onAction="#handleSave"
                        style="-fx-background-color: #2196F3; -fx-text-fill: white; -fx-font-size: 13px; -fx-padding: 10 20;"/>
                <Button fx:id="btnCancel" text="âœ– Há»§y" onAction="#handleCancel"
                        style="-fx-background-color: #9E9E9E; -fx-text-fill: white; -fx-font-size: 13px; -fx-padding: 10 20;"/>
            </HBox>
        </VBox>
    </SplitPane>
</VBox>

