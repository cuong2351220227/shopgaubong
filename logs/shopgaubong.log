2025-12-01 00:38:57.399 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 00:38:57.545 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 00:38:57.569 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 00:38:57.587 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 00:38:57.756 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 00:38:57.760 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 00:38:57.761 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 00:38:57.761 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 00:38:57.761 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 00:38:57.763 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 00:38:57.913 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 00:38:58.236 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 00:38:58.853 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@7ebfe01a] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 00:38:58.945 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 00:38:59.163 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 00:39:05.267 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: admin
2025-12-01 00:39:09.981 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tải kho thành công: 0 kho
2025-12-01 00:39:14.808 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 0 stock items
2025-12-01 00:39:14.808 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - StockManagementController initialized
2025-12-01 00:39:19.733 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tải kho thành công: 0 kho
2025-12-01 00:39:35.354 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tải kho thành công: 0 kho
2025-12-01 00:39:35.820 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 0 stock items
2025-12-01 00:39:35.821 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - StockManagementController initialized
2025-12-01 00:39:36.954 [JavaFX Application Thread] INFO  c.e.s.c.OrderManagementController - Tải đơn hàng thành công: 0 đơn
2025-12-01 00:39:37.498 [JavaFX Application Thread] ERROR c.e.s.c.PromotionManagementController - Lỗi khi tải khuyến mãi: Cannot invoke "com.example.shopgaubong.service.PromotionService.getAllPromotions()" because "this.promotionService" is null
java.lang.NullPointerException: Cannot invoke "com.example.shopgaubong.service.PromotionService.getAllPromotions()" because "this.promotionService" is null
	at com.example.shopgaubong/com.example.shopgaubong.controller.PromotionManagementController.loadPromotions(PromotionManagementController.java:159)
	at com.example.shopgaubong/com.example.shopgaubong.controller.PromotionManagementController.initialize(PromotionManagementController.java:78)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at javafx.base@21.0.6/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)
	at javafx.fxml@21.0.6/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2688)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2563)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2531)
	at com.example.shopgaubong/com.example.shopgaubong.controller.AdminMainController.loadView(AdminMainController.java:102)
	at com.example.shopgaubong/com.example.shopgaubong.controller.AdminMainController.handleManagePromotions(AdminMainController.java:68)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at javafx.base@21.0.6/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)
	at javafx.fxml@21.0.6/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1855)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1726)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Node.fireEvent(Node.java:8875)
	at javafx.controls@21.0.6/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 00:39:43.044 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng xuất: admin
2025-12-01 00:39:49.688 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: staff
2025-12-01 00:39:51.354 [JavaFX Application Thread] INFO  c.e.s.c.OrderManagementController - Tải đơn hàng thành công: 0 đơn
2025-12-01 00:39:55.157 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tải kho thành công: 0 kho
2025-12-01 00:40:00.531 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 0 stock items
2025-12-01 00:40:00.531 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - StockManagementController initialized
2025-12-01 00:40:22.183 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 0 stock items
2025-12-01 00:40:22.184 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - StockManagementController initialized
2025-12-01 00:40:23.349 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tải kho thành công: 0 kho
2025-12-01 00:40:24.520 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 0 stock items
2025-12-01 00:40:24.520 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - StockManagementController initialized
2025-12-01 00:40:27.717 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tải kho thành công: 0 kho
2025-12-01 00:40:28.289 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 0 stock items
2025-12-01 00:40:28.289 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - StockManagementController initialized
2025-12-01 00:40:34.284 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng xuất: staff
2025-12-01 00:40:41.507 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: customer
2025-12-01 00:40:44.400 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi thêm sản phẩm vào đơn hàng: Không đủ hàng trong kho
2025-12-01 00:40:48.026 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi thêm sản phẩm vào đơn hàng: Không đủ hàng trong kho
2025-12-01 00:40:53.605 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 0 sản phẩm
2025-12-01 00:40:56.510 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 0 sản phẩm
2025-12-01 00:40:57.639 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 0 sản phẩm
2025-12-01 00:41:01.619 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi thêm sản phẩm vào đơn hàng: Không đủ hàng trong kho
2025-12-01 00:41:03.988 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 00:41:03.997 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-01 00:41:35.506 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 00:41:35.619 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 00:41:35.644 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 00:41:35.662 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 00:41:35.834 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 00:41:35.838 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 00:41:35.839 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 00:41:35.839 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 00:41:35.839 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 00:41:35.841 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 00:41:35.974 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 00:41:36.301 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 00:41:36.951 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@da9374c] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 00:41:37.047 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 00:41:37.275 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 00:41:44.090 [JavaFX Application Thread] WARN  c.e.shopgaubong.service.AuthService - Đăng nhập thất bại: Sai mật khẩu cho tài khoản admin
2025-12-01 00:41:52.117 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: admin
2025-12-01 00:41:53.926 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tải kho thành công: 0 kho
2025-12-01 00:43:10.466 [JavaFX Application Thread] INFO  c.e.shopgaubong.dao.WarehouseDAO - Đã lưu entity: com.example.shopgaubong.entity.Warehouse@64190f61
2025-12-01 00:43:10.467 [JavaFX Application Thread] INFO  c.e.s.service.WarehouseService - Tạo kho mới: W123 - kho me linh
2025-12-01 00:43:11.401 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tạo kho mới: kho me linh
2025-12-01 00:43:11.405 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tải kho thành công: 1 kho
2025-12-01 00:44:52.149 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 0 stock items
2025-12-01 00:44:52.149 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - StockManagementController initialized
2025-12-01 00:45:09.170 [JavaFX Application Thread] INFO  c.e.shopgaubong.dao.StockItemDAO - Đã lưu entity: com.example.shopgaubong.entity.StockItem@6e214439
2025-12-01 00:45:09.170 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.StockService - Tạo tồn kho mới: kho me linh - gáu bông đen trănhs (số lượng: 3)
2025-12-01 00:45:10.206 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 1 stock items
2025-12-01 00:45:35.524 [JavaFX Application Thread] INFO  c.e.shopgaubong.dao.StockItemDAO - Đã lưu entity: com.example.shopgaubong.entity.StockItem@36898b43
2025-12-01 00:45:35.525 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.StockService - Tạo tồn kho mới: kho me linh - gau bongvang (số lượng: 5)
2025-12-01 00:45:36.427 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 2 stock items
2025-12-01 00:45:42.249 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tải kho thành công: 1 kho
2025-12-01 00:45:50.831 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng xuất: admin
2025-12-01 00:45:55.881 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: admin
2025-12-01 00:45:56.830 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 2 stock items
2025-12-01 00:45:56.832 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - StockManagementController initialized
2025-12-01 00:45:57.676 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tải kho thành công: 1 kho
2025-12-01 00:46:00.619 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tải kho thành công: 1 kho
2025-12-01 00:46:03.181 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tải kho thành công: 1 kho
2025-12-01 00:46:09.273 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tải kho thành công: 1 kho
2025-12-01 00:46:09.670 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 2 stock items
2025-12-01 00:46:09.670 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - StockManagementController initialized
2025-12-01 00:46:14.403 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 2 stock items
2025-12-01 00:46:14.403 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - StockManagementController initialized
2025-12-01 00:46:17.102 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 00:46:17.111 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-01 00:47:18.356 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 00:47:18.481 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 00:47:18.508 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 00:47:18.525 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 00:47:18.698 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 00:47:18.702 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 00:47:18.702 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 00:47:18.703 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 00:47:18.703 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 00:47:18.704 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 00:47:18.849 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 00:47:19.226 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 00:47:19.878 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@14b96c1e] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 00:47:19.974 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 00:47:20.199 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 00:47:20.307 [main] INFO  c.e.shopgaubong.dao.StockItemDAO - Đã lưu entity: com.example.shopgaubong.entity.StockItem@452a32f2
2025-12-01 00:47:20.307 [main] INFO  c.e.shopgaubong.service.StockService - Tạo tồn kho mới: kho me linh - gau bong moc khoa mau vang (số lượng: 100)
2025-12-01 00:47:20.307 [main] INFO  c.e.s.util.DatabaseInitializer - Tạo tồn kho cho sản phẩm: gau bong moc khoa mau vang (100 đơn vị)
2025-12-01 00:47:20.310 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 1 mục tồn kho trong kho kho me linh
2025-12-01 00:47:20.310 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 00:47:26.031 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: admin
2025-12-01 00:47:27.400 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 3 stock items
2025-12-01 00:47:27.400 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - StockManagementController initialized
2025-12-01 00:50:12.706 [JavaFX Application Thread] ERROR c.e.s.c.PromotionManagementController - Lỗi khi tải khuyến mãi: Cannot invoke "com.example.shopgaubong.service.PromotionService.getAllPromotions()" because "this.promotionService" is null
java.lang.NullPointerException: Cannot invoke "com.example.shopgaubong.service.PromotionService.getAllPromotions()" because "this.promotionService" is null
	at com.example.shopgaubong/com.example.shopgaubong.controller.PromotionManagementController.loadPromotions(PromotionManagementController.java:159)
	at com.example.shopgaubong/com.example.shopgaubong.controller.PromotionManagementController.initialize(PromotionManagementController.java:78)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at javafx.base@21.0.6/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)
	at javafx.fxml@21.0.6/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2688)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2563)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2531)
	at com.example.shopgaubong/com.example.shopgaubong.controller.AdminMainController.loadView(AdminMainController.java:102)
	at com.example.shopgaubong/com.example.shopgaubong.controller.AdminMainController.handleManagePromotions(AdminMainController.java:68)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at javafx.base@21.0.6/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)
	at javafx.fxml@21.0.6/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1855)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1726)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Node.fireEvent(Node.java:8875)
	at javafx.controls@21.0.6/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 00:50:19.510 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 00:50:19.520 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-01 00:51:11.367 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 00:51:11.476 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 00:51:11.500 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 00:51:11.518 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 00:51:11.695 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 00:51:11.699 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 00:51:11.699 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 00:51:11.700 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 00:51:11.700 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 00:51:11.702 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 00:51:11.834 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 00:51:12.161 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 00:51:12.807 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@14b96c1e] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 00:51:12.901 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 00:51:13.147 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 00:51:13.214 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-01 00:51:13.214 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 00:51:19.093 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: admin
2025-12-01 00:51:21.776 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tải kho thành công: 1 kho
2025-12-01 00:51:24.472 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 3 stock items
2025-12-01 00:51:24.472 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - StockManagementController initialized
2025-12-01 00:51:57.690 [JavaFX Application Thread] ERROR c.e.s.c.PromotionManagementController - Lỗi khi tải khuyến mãi: Cannot invoke "com.example.shopgaubong.service.PromotionService.getAllPromotions()" because "this.promotionService" is null
java.lang.NullPointerException: Cannot invoke "com.example.shopgaubong.service.PromotionService.getAllPromotions()" because "this.promotionService" is null
	at com.example.shopgaubong/com.example.shopgaubong.controller.PromotionManagementController.loadPromotions(PromotionManagementController.java:159)
	at com.example.shopgaubong/com.example.shopgaubong.controller.PromotionManagementController.initialize(PromotionManagementController.java:78)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at javafx.base@21.0.6/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)
	at javafx.fxml@21.0.6/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2688)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2563)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2531)
	at com.example.shopgaubong/com.example.shopgaubong.controller.AdminMainController.loadView(AdminMainController.java:102)
	at com.example.shopgaubong/com.example.shopgaubong.controller.AdminMainController.handleManagePromotions(AdminMainController.java:68)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at javafx.base@21.0.6/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)
	at javafx.fxml@21.0.6/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1855)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1726)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Node.fireEvent(Node.java:8875)
	at javafx.controls@21.0.6/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 00:54:54.402 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 00:54:54.512 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 00:54:54.538 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 00:54:54.556 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 00:54:54.755 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 00:54:54.758 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 00:54:54.758 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 00:54:54.758 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 00:54:54.758 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 00:54:54.761 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 00:54:54.904 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 00:54:55.236 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 00:54:55.869 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@229514ff] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 00:54:55.958 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 00:54:56.194 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 00:54:56.277 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-01 00:54:56.277 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 00:55:01.766 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: admin
2025-12-01 00:55:03.571 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 3 stock items
2025-12-01 00:55:03.571 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - StockManagementController initialized
2025-12-01 00:55:05.955 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 00:55:05.960 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-01 00:57:37.898 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 00:57:38.006 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 00:57:38.034 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 00:57:38.059 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 00:57:38.290 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 00:57:38.295 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 00:57:38.295 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 00:57:38.295 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 00:57:38.295 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 00:57:38.297 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 00:57:38.435 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 00:57:38.772 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 00:57:39.408 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@2553dcc0] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 00:57:39.502 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 00:57:39.741 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 00:57:39.813 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-01 00:57:39.813 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 00:57:45.658 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: admin
2025-12-01 00:57:46.998 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 3 stock items
2025-12-01 00:57:46.998 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - StockManagementController initialized
2025-12-01 00:57:54.373 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 00:57:54.379 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-01 00:59:24.672 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 00:59:24.783 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 00:59:24.808 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 00:59:24.828 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 00:59:25.025 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 00:59:25.029 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 00:59:25.030 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 00:59:25.030 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 00:59:25.030 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 00:59:25.031 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 00:59:25.167 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 00:59:25.499 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 00:59:26.147 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@746e534] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 00:59:26.238 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 00:59:26.482 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 00:59:26.560 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-01 00:59:26.560 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 00:59:31.844 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: admin
2025-12-01 00:59:32.970 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 3 stock items
2025-12-01 00:59:32.970 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - StockManagementController initialized
2025-12-01 00:59:44.062 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 3 stock items
2025-12-01 00:59:44.062 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - StockManagementController initialized
2025-12-01 00:59:52.014 [JavaFX Application Thread] INFO  c.e.shopgaubong.dao.StockItemDAO - Đã cập nhật entity: com.example.shopgaubong.entity.StockItem@354d35fd
2025-12-01 00:59:52.014 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.StockService - Cập nhật tồn kho: gau bong moc khoa mau vang (số lượng: 100)
2025-12-01 00:59:53.088 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 3 stock items
2025-12-01 01:00:27.321 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 3 stock items
2025-12-01 01:00:38.348 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng xuất: admin
2025-12-01 01:00:45.648 [JavaFX Application Thread] WARN  c.e.shopgaubong.service.AuthService - Đăng nhập thất bại: Tài khoản customer123 không tồn tại
2025-12-01 01:00:48.618 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: customer
2025-12-01 01:00:51.041 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi thêm sản phẩm vào đơn hàng: failed to lazily initialize a collection of role: com.example.shopgaubong.entity.Order.orderItems: could not initialize proxy - no Session
2025-12-01 01:01:46.719 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 01:01:46.733 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-01 01:03:03.180 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 01:03:03.284 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 01:03:03.309 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 01:03:03.328 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 01:03:03.520 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 01:03:03.524 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 01:03:03.525 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 01:03:03.525 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 01:03:03.525 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 01:03:03.527 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 01:03:03.660 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 01:03:03.987 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 01:03:04.670 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@746e534] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 01:03:04.768 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 01:03:05.009 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 01:03:05.090 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-01 01:03:05.091 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 01:03:13.205 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: customer
2025-12-01 01:03:16.269 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi thêm sản phẩm vào đơn hàng: failed to lazily initialize a collection of role: com.example.shopgaubong.entity.Order.orderItems: could not initialize proxy - no Session
2025-12-01 01:03:20.250 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi thêm sản phẩm vào đơn hàng: failed to lazily initialize a collection of role: com.example.shopgaubong.entity.Order.orderItems: could not initialize proxy - no Session
2025-12-01 01:03:22.083 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi thêm sản phẩm vào đơn hàng: failed to lazily initialize a collection of role: com.example.shopgaubong.entity.Order.orderItems: could not initialize proxy - no Session
2025-12-01 01:03:27.093 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 01:03:27.101 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-01 01:05:04.915 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 01:05:05.017 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 01:05:05.041 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 01:05:05.059 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 01:05:05.252 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 01:05:05.257 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 01:05:05.257 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 01:05:05.258 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 01:05:05.258 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 01:05:05.260 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 01:05:05.391 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 01:05:05.722 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 01:05:06.401 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@746e534] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 01:05:06.495 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 01:05:06.728 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 01:05:06.800 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-01 01:05:06.800 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 01:05:14.237 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: customer
2025-12-01 01:05:17.134 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi thêm sản phẩm vào đơn hàng: failed to lazily initialize a collection of role: com.example.shopgaubong.entity.Order.orderItems: could not initialize proxy - no Session
2025-12-01 01:05:18.884 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 01:05:18.889 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-01 01:10:44.554 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 01:10:44.664 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 01:10:44.688 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 01:10:44.707 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 01:10:44.900 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 01:10:44.906 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 01:10:44.906 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 01:10:44.906 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 01:10:44.906 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 01:10:44.907 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 01:10:45.041 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 01:10:45.365 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 01:10:45.995 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@746e534] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 01:10:46.080 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 01:10:46.313 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 01:10:46.392 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-01 01:10:46.392 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 01:10:51.359 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: admin
2025-12-01 01:10:52.956 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 3 stock items
2025-12-01 01:10:52.957 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - StockManagementController initialized
2025-12-01 01:10:56.511 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng xuất: admin
2025-12-01 01:11:04.088 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: customer
2025-12-01 01:11:06.457 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi thêm sản phẩm vào đơn hàng: failed to lazily initialize a collection of role: com.example.shopgaubong.entity.Order.orderItems: could not initialize proxy - no Session
2025-12-01 01:11:09.037 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng xuất: customer
2025-12-01 01:11:10.370 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 01:11:10.377 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-01 01:13:14.578 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 01:13:14.692 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 01:13:14.718 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 01:13:14.737 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 01:13:14.929 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 01:13:14.932 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 01:13:14.933 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 01:13:14.933 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 01:13:14.933 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 01:13:14.935 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 01:13:15.073 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 01:13:15.408 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 01:13:16.081 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@746e534] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 01:13:16.176 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 01:13:16.411 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 01:13:16.491 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-01 01:13:16.491 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 01:13:23.364 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: customer
2025-12-01 01:13:25.867 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi thêm sản phẩm vào đơn hàng: failed to lazily initialize a collection of role: com.example.shopgaubong.entity.Order.orderItems: could not initialize proxy - no Session
2025-12-01 01:14:47.009 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 01:14:47.114 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 01:14:47.139 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 01:14:47.158 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 01:14:47.350 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 01:14:47.353 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 01:14:47.353 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 01:14:47.354 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 01:14:47.354 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 01:14:47.355 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 01:14:47.493 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 01:14:47.819 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 01:14:48.458 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@50e6ee24] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 01:14:48.552 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 01:14:48.789 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 01:14:48.869 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-01 01:14:48.870 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 01:14:56.061 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: customer
2025-12-01 01:14:58.669 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi thêm sản phẩm: Cannot invoke "java.math.BigDecimal.multiply(java.math.BigDecimal)" because "this.unitPrice" is null
2025-12-01 01:16:00.717 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 01:16:00.727 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-01 01:19:22.297 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 01:19:22.400 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 01:19:22.427 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 01:19:22.446 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 01:19:22.640 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 01:19:22.644 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 01:19:22.644 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 01:19:22.645 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 01:19:22.645 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 01:19:22.646 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 01:19:22.781 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 01:19:23.108 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 01:19:23.794 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@2e4d2232] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 01:19:23.889 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 01:19:24.127 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 01:19:24.204 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-01 01:19:24.204 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 01:19:30.834 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: customer
2025-12-01 01:19:34.170 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.OrderService - Thêm sản phẩm vào đơn hàng ORD-20251130210026-811: gáu bông đen trănhs x1
2025-12-01 01:19:36.465 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 01:19:41.280 [JavaFX Application Thread] ERROR c.e.s.controller.CartController - Lỗi khi chuyển sang checkout: class javafx.scene.layout.HBox cannot be cast to class javafx.scene.layout.VBox (javafx.scene.layout.HBox and javafx.scene.layout.VBox are in module javafx.graphics@21.0.6 of loader 'app')
java.lang.ClassCastException: class javafx.scene.layout.HBox cannot be cast to class javafx.scene.layout.VBox (javafx.scene.layout.HBox and javafx.scene.layout.VBox are in module javafx.graphics@21.0.6 of loader 'app')
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController.handleCheckout(CartController.java:246)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at javafx.base@21.0.6/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)
	at javafx.fxml@21.0.6/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1855)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1726)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Node.fireEvent(Node.java:8875)
	at javafx.controls@21.0.6/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 01:19:44.363 [JavaFX Application Thread] ERROR c.e.s.controller.CartController - Lỗi khi chuyển sang checkout: class javafx.scene.layout.HBox cannot be cast to class javafx.scene.layout.VBox (javafx.scene.layout.HBox and javafx.scene.layout.VBox are in module javafx.graphics@21.0.6 of loader 'app')
java.lang.ClassCastException: class javafx.scene.layout.HBox cannot be cast to class javafx.scene.layout.VBox (javafx.scene.layout.HBox and javafx.scene.layout.VBox are in module javafx.graphics@21.0.6 of loader 'app')
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController.handleCheckout(CartController.java:246)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at javafx.base@21.0.6/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)
	at javafx.fxml@21.0.6/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1855)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1726)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Node.fireEvent(Node.java:8875)
	at javafx.controls@21.0.6/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 01:19:46.995 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 1 -> số lượng 2
2025-12-01 01:19:46.998 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 01:19:49.753 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 1 -> số lượng 1
2025-12-01 01:19:49.755 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 01:19:49.780 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 1 -> số lượng 1
2025-12-01 01:19:49.783 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 01:19:49.785 [JavaFX Application Thread] ERROR c.e.s.controller.CartController - Lỗi khi cập nhật số lượng: showAndWait is not allowed during animation or layout processing
java.lang.IllegalStateException: showAndWait is not allowed during animation or layout processing
	at javafx.controls@21.0.6/javafx.scene.control.Dialog.showAndWait(Dialog.java:333)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController.showSuccess(CartController.java:317)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController.updateQuantity(CartController.java:152)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController$1.lambda$updateItem$0(CartController.java:91)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:386)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ReadOnlyObjectWrapper.fireValueChangedEvent(ReadOnlyObjectWrapper.java:100)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase$Listener.invalidated(ObjectPropertyBase.java:234)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:376)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:147)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory.setValue(SpinnerValueFactory.java:146)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController$1.updateItem(CartController.java:87)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController$1.updateItem(CartController.java:78)
	at javafx.controls@21.0.6/javafx.scene.control.TableCell.updateItem(TableCell.java:700)
	at javafx.controls@21.0.6/javafx.scene.control.TableCell.indexChanged(TableCell.java:485)
	at javafx.controls@21.0.6/javafx.scene.control.IndexedCell$1.invalidated(IndexedCell.java:85)
	at javafx.base@21.0.6/javafx.beans.property.IntegerPropertyBase.markInvalid(IntegerPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.IntegerPropertyBase.set(IntegerPropertyBase.java:148)
	at javafx.controls@21.0.6/javafx.scene.control.IndexedCell.updateIndex(IndexedCell.java:130)
	at javafx.controls@21.0.6/javafx.scene.control.skin.TableRowSkinBase.requestCellUpdate(TableRowSkinBase.java:701)
	at javafx.controls@21.0.6/javafx.scene.control.skin.TableRowSkinBase.lambda$new$1(TableRowSkinBase.java:167)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.LambdaMultiplePropertyChangeListenerHandler.lambda$new$2(LambdaMultiplePropertyChangeListenerHandler.java:95)
	at javafx.base@21.0.6/javafx.beans.WeakInvalidationListener.invalidated(WeakInvalidationListener.java:82)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$SingleInvalidation.fireValueChangedEvent(ExpressionHelper.java:147)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:147)
	at javafx.controls@21.0.6/javafx.scene.control.Cell.setItem(Cell.java:404)
	at javafx.controls@21.0.6/javafx.scene.control.Cell.updateItem(Cell.java:694)
	at javafx.controls@21.0.6/javafx.scene.control.TableRow.updateItem(TableRow.java:260)
	at javafx.controls@21.0.6/javafx.scene.control.TableRow.indexChanged(TableRow.java:226)
	at javafx.controls@21.0.6/javafx.scene.control.IndexedCell$1.invalidated(IndexedCell.java:85)
	at javafx.base@21.0.6/javafx.beans.property.IntegerPropertyBase.markInvalid(IntegerPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.IntegerPropertyBase.set(IntegerPropertyBase.java:148)
	at javafx.controls@21.0.6/javafx.scene.control.IndexedCell.updateIndex(IndexedCell.java:130)
	at javafx.controls@21.0.6/javafx.scene.control.skin.VirtualFlow.setCellIndex(VirtualFlow.java:1813)
	at javafx.controls@21.0.6/javafx.scene.control.skin.VirtualFlow.addLeadingCells(VirtualFlow.java:2106)
	at javafx.controls@21.0.6/javafx.scene.control.skin.VirtualFlow.layoutChildren(VirtualFlow.java:1325)
	at javafx.graphics@21.0.6/javafx.scene.Parent.layout(Parent.java:1208)
	at javafx.graphics@21.0.6/javafx.scene.Parent.layout(Parent.java:1215)
	at javafx.graphics@21.0.6/javafx.scene.Parent.layout(Parent.java:1215)
	at javafx.graphics@21.0.6/javafx.scene.Parent.layout(Parent.java:1215)
	at javafx.graphics@21.0.6/javafx.scene.Parent.layout(Parent.java:1215)
	at javafx.graphics@21.0.6/javafx.scene.Parent.layout(Parent.java:1215)
	at javafx.graphics@21.0.6/javafx.scene.Scene.doLayoutPass(Scene.java:594)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePulseListener.pulse(Scene.java:2600)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.Toolkit.lambda$runPulse$2(Toolkit.java:401)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.Toolkit.runPulse(Toolkit.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.Toolkit.firePulse(Toolkit.java:430)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:592)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:572)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.pulseFromQueue(QuantumToolkit.java:565)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.lambda$runToolkit$11(QuantumToolkit.java:352)
	at javafx.graphics@21.0.6/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._enterNestedEventLoopImpl(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._enterNestedEventLoop(WinApplication.java:212)
	at javafx.graphics@21.0.6/com.sun.glass.ui.Application.enterNestedEventLoop(Application.java:515)
	at javafx.graphics@21.0.6/com.sun.glass.ui.EventLoop.enter(EventLoop.java:107)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.enterNestedEventLoop(QuantumToolkit.java:650)
	at javafx.graphics@21.0.6/javafx.stage.Stage.showAndWait(Stage.java:469)
	at javafx.controls@21.0.6/javafx.scene.control.HeavyweightDialog.showAndWait(HeavyweightDialog.java:162)
	at javafx.controls@21.0.6/javafx.scene.control.Dialog.showAndWait(Dialog.java:346)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController.showSuccess(CartController.java:317)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController.updateQuantity(CartController.java:152)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController$1.lambda$updateItem$0(CartController.java:91)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:386)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ReadOnlyObjectWrapper.fireValueChangedEvent(ReadOnlyObjectWrapper.java:100)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase$Listener.invalidated(ObjectPropertyBase.java:234)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:376)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:147)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory.setValue(SpinnerValueFactory.java:146)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory$IntegerSpinnerValueFactory.decrement(SpinnerValueFactory.java:590)
	at javafx.controls@21.0.6/javafx.scene.control.Spinner.decrement(Spinner.java:441)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.decrement(SpinnerBehavior.java:121)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.lambda$new$0(SpinnerBehavior.java:68)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.startSpinning(SpinnerBehavior.java:138)
	at javafx.controls@21.0.6/javafx.scene.control.skin.SpinnerSkin.lambda$new$3(SpinnerSkin.java:165)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 01:20:00.040 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 01:20:06.263 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 01:20:07.417 [JavaFX Application Thread] INFO  c.e.s.c.CustomerOrderController - Tải đơn hàng thành công: 0 đơn
2025-12-01 01:20:14.342 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 01:20:15.919 [JavaFX Application Thread] INFO  c.e.s.c.CustomerOrderController - Tải đơn hàng thành công: 0 đơn
2025-12-01 01:20:20.030 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 01:20:22.059 [JavaFX Application Thread] INFO  c.e.s.c.CustomerOrderController - Tải đơn hàng thành công: 0 đơn
2025-12-01 01:20:26.016 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 01:20:29.641 [JavaFX Application Thread] INFO  c.e.s.c.CustomerOrderController - Tải đơn hàng thành công: 0 đơn
2025-12-01 01:20:31.830 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 01:20:40.155 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 01:20:42.725 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 01:20:46.553 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 01:22:42.159 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 01:22:42.883 [JavaFX Application Thread] INFO  c.e.s.c.CustomerOrderController - Tải đơn hàng thành công: 0 đơn
2025-12-01 01:22:43.405 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 01:22:45.562 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 01:22:45.979 [JavaFX Application Thread] INFO  c.e.s.c.CustomerOrderController - Tải đơn hàng thành công: 0 đơn
2025-12-01 01:23:00.154 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 01:23:00.165 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-01 01:27:34.863 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 01:27:34.971 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 01:27:34.996 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 01:27:35.014 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 01:27:35.191 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 01:27:35.196 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 01:27:35.196 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 01:27:35.196 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 01:27:35.196 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 01:27:35.198 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 01:27:35.332 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 01:27:35.660 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 01:27:36.314 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@7acb5200] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 01:27:36.388 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 01:27:36.635 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 01:27:36.716 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-01 01:27:36.717 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 01:27:44.589 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: customer
2025-12-01 01:27:45.806 [JavaFX Application Thread] INFO  c.e.s.c.CustomerOrderController - Tải đơn hàng thành công: 0 đơn
2025-12-01 01:27:48.290 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 01:27:51.199 [JavaFX Application Thread] ERROR c.e.s.controller.CartController - Lỗi khi chuyển sang checkout: class javafx.scene.layout.HBox cannot be cast to class javafx.scene.layout.VBox (javafx.scene.layout.HBox and javafx.scene.layout.VBox are in module javafx.graphics@21.0.6 of loader 'app')
java.lang.ClassCastException: class javafx.scene.layout.HBox cannot be cast to class javafx.scene.layout.VBox (javafx.scene.layout.HBox and javafx.scene.layout.VBox are in module javafx.graphics@21.0.6 of loader 'app')
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController.handleCheckout(CartController.java:246)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at javafx.base@21.0.6/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)
	at javafx.fxml@21.0.6/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1855)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1726)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Node.fireEvent(Node.java:8875)
	at javafx.controls@21.0.6/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 01:27:54.198 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 01:27:56.958 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.OrderService - Thêm sản phẩm vào đơn hàng ORD-20251130210026-811: gau bongvang x1
2025-12-01 01:28:08.970 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 01:28:18.829 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 2 -> số lượng 2
2025-12-01 01:28:18.832 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 01:28:20.766 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 2 -> số lượng 3
2025-12-01 01:28:20.769 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 01:28:20.796 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 2 -> số lượng 3
2025-12-01 01:28:20.799 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 01:28:20.800 [JavaFX Application Thread] ERROR c.e.s.controller.CartController - Lỗi khi cập nhật số lượng: showAndWait is not allowed during animation or layout processing
java.lang.IllegalStateException: showAndWait is not allowed during animation or layout processing
	at javafx.controls@21.0.6/javafx.scene.control.Dialog.showAndWait(Dialog.java:333)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController.showSuccess(CartController.java:317)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController.updateQuantity(CartController.java:152)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController$1.lambda$updateItem$0(CartController.java:91)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:386)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ReadOnlyObjectWrapper.fireValueChangedEvent(ReadOnlyObjectWrapper.java:100)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase$Listener.invalidated(ObjectPropertyBase.java:234)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:376)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:147)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory.setValue(SpinnerValueFactory.java:146)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController$1.updateItem(CartController.java:87)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController$1.updateItem(CartController.java:78)
	at javafx.controls@21.0.6/javafx.scene.control.TableCell.updateItem(TableCell.java:700)
	at javafx.controls@21.0.6/javafx.scene.control.TableCell.indexChanged(TableCell.java:485)
	at javafx.controls@21.0.6/javafx.scene.control.IndexedCell$1.invalidated(IndexedCell.java:85)
	at javafx.base@21.0.6/javafx.beans.property.IntegerPropertyBase.markInvalid(IntegerPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.IntegerPropertyBase.set(IntegerPropertyBase.java:148)
	at javafx.controls@21.0.6/javafx.scene.control.IndexedCell.updateIndex(IndexedCell.java:130)
	at javafx.controls@21.0.6/javafx.scene.control.skin.TableRowSkinBase.requestCellUpdate(TableRowSkinBase.java:701)
	at javafx.controls@21.0.6/javafx.scene.control.skin.TableRowSkinBase.lambda$new$1(TableRowSkinBase.java:167)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.LambdaMultiplePropertyChangeListenerHandler.lambda$new$2(LambdaMultiplePropertyChangeListenerHandler.java:95)
	at javafx.base@21.0.6/javafx.beans.WeakInvalidationListener.invalidated(WeakInvalidationListener.java:82)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$SingleInvalidation.fireValueChangedEvent(ExpressionHelper.java:147)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:147)
	at javafx.controls@21.0.6/javafx.scene.control.Cell.setItem(Cell.java:404)
	at javafx.controls@21.0.6/javafx.scene.control.Cell.updateItem(Cell.java:694)
	at javafx.controls@21.0.6/javafx.scene.control.TableRow.updateItem(TableRow.java:260)
	at javafx.controls@21.0.6/javafx.scene.control.TableRow.indexChanged(TableRow.java:226)
	at javafx.controls@21.0.6/javafx.scene.control.IndexedCell$1.invalidated(IndexedCell.java:85)
	at javafx.base@21.0.6/javafx.beans.property.IntegerPropertyBase.markInvalid(IntegerPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.IntegerPropertyBase.set(IntegerPropertyBase.java:148)
	at javafx.controls@21.0.6/javafx.scene.control.IndexedCell.updateIndex(IndexedCell.java:130)
	at javafx.controls@21.0.6/javafx.scene.control.skin.VirtualFlow.setCellIndex(VirtualFlow.java:1813)
	at javafx.controls@21.0.6/javafx.scene.control.skin.VirtualFlow.addLeadingCells(VirtualFlow.java:2106)
	at javafx.controls@21.0.6/javafx.scene.control.skin.VirtualFlow.layoutChildren(VirtualFlow.java:1325)
	at javafx.graphics@21.0.6/javafx.scene.Parent.layout(Parent.java:1208)
	at javafx.graphics@21.0.6/javafx.scene.Parent.layout(Parent.java:1215)
	at javafx.graphics@21.0.6/javafx.scene.Parent.layout(Parent.java:1215)
	at javafx.graphics@21.0.6/javafx.scene.Parent.layout(Parent.java:1215)
	at javafx.graphics@21.0.6/javafx.scene.Parent.layout(Parent.java:1215)
	at javafx.graphics@21.0.6/javafx.scene.Parent.layout(Parent.java:1215)
	at javafx.graphics@21.0.6/javafx.scene.Scene.doLayoutPass(Scene.java:594)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePulseListener.pulse(Scene.java:2600)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.Toolkit.lambda$runPulse$2(Toolkit.java:401)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.Toolkit.runPulse(Toolkit.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.Toolkit.firePulse(Toolkit.java:430)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:592)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:572)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.pulseFromQueue(QuantumToolkit.java:565)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.lambda$runToolkit$11(QuantumToolkit.java:352)
	at javafx.graphics@21.0.6/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._enterNestedEventLoopImpl(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._enterNestedEventLoop(WinApplication.java:212)
	at javafx.graphics@21.0.6/com.sun.glass.ui.Application.enterNestedEventLoop(Application.java:515)
	at javafx.graphics@21.0.6/com.sun.glass.ui.EventLoop.enter(EventLoop.java:107)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.enterNestedEventLoop(QuantumToolkit.java:650)
	at javafx.graphics@21.0.6/javafx.stage.Stage.showAndWait(Stage.java:469)
	at javafx.controls@21.0.6/javafx.scene.control.HeavyweightDialog.showAndWait(HeavyweightDialog.java:162)
	at javafx.controls@21.0.6/javafx.scene.control.Dialog.showAndWait(Dialog.java:346)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController.showSuccess(CartController.java:317)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController.updateQuantity(CartController.java:152)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController$1.lambda$updateItem$0(CartController.java:91)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:386)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ReadOnlyObjectWrapper.fireValueChangedEvent(ReadOnlyObjectWrapper.java:100)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase$Listener.invalidated(ObjectPropertyBase.java:234)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:376)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:147)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory.setValue(SpinnerValueFactory.java:146)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory$IntegerSpinnerValueFactory.increment(SpinnerValueFactory.java:599)
	at javafx.controls@21.0.6/javafx.scene.control.Spinner.increment(Spinner.java:408)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.increment(SpinnerBehavior.java:117)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.lambda$new$0(SpinnerBehavior.java:66)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.startSpinning(SpinnerBehavior.java:138)
	at javafx.controls@21.0.6/javafx.scene.control.skin.SpinnerSkin.lambda$new$1(SpinnerSkin.java:139)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 01:28:23.507 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 2 -> số lượng 4
2025-12-01 01:28:23.511 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 01:28:23.536 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 2 -> số lượng 4
2025-12-01 01:28:23.538 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 01:28:23.539 [JavaFX Application Thread] ERROR c.e.s.controller.CartController - Lỗi khi cập nhật số lượng: showAndWait is not allowed during animation or layout processing
java.lang.IllegalStateException: showAndWait is not allowed during animation or layout processing
	at javafx.controls@21.0.6/javafx.scene.control.Dialog.showAndWait(Dialog.java:333)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController.showSuccess(CartController.java:317)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController.updateQuantity(CartController.java:152)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController$1.lambda$updateItem$0(CartController.java:91)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:386)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ReadOnlyObjectWrapper.fireValueChangedEvent(ReadOnlyObjectWrapper.java:100)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase$Listener.invalidated(ObjectPropertyBase.java:234)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:376)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:147)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory.setValue(SpinnerValueFactory.java:146)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController$1.updateItem(CartController.java:87)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController$1.updateItem(CartController.java:78)
	at javafx.controls@21.0.6/javafx.scene.control.TableCell.updateItem(TableCell.java:700)
	at javafx.controls@21.0.6/javafx.scene.control.TableCell.indexChanged(TableCell.java:485)
	at javafx.controls@21.0.6/javafx.scene.control.IndexedCell$1.invalidated(IndexedCell.java:85)
	at javafx.base@21.0.6/javafx.beans.property.IntegerPropertyBase.markInvalid(IntegerPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.IntegerPropertyBase.set(IntegerPropertyBase.java:148)
	at javafx.controls@21.0.6/javafx.scene.control.IndexedCell.updateIndex(IndexedCell.java:130)
	at javafx.controls@21.0.6/javafx.scene.control.skin.TableRowSkinBase.requestCellUpdate(TableRowSkinBase.java:701)
	at javafx.controls@21.0.6/javafx.scene.control.skin.TableRowSkinBase.lambda$new$1(TableRowSkinBase.java:167)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.LambdaMultiplePropertyChangeListenerHandler.lambda$new$2(LambdaMultiplePropertyChangeListenerHandler.java:95)
	at javafx.base@21.0.6/javafx.beans.WeakInvalidationListener.invalidated(WeakInvalidationListener.java:82)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$SingleInvalidation.fireValueChangedEvent(ExpressionHelper.java:147)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:147)
	at javafx.controls@21.0.6/javafx.scene.control.Cell.setItem(Cell.java:404)
	at javafx.controls@21.0.6/javafx.scene.control.Cell.updateItem(Cell.java:694)
	at javafx.controls@21.0.6/javafx.scene.control.TableRow.updateItem(TableRow.java:260)
	at javafx.controls@21.0.6/javafx.scene.control.TableRow.indexChanged(TableRow.java:226)
	at javafx.controls@21.0.6/javafx.scene.control.IndexedCell$1.invalidated(IndexedCell.java:85)
	at javafx.base@21.0.6/javafx.beans.property.IntegerPropertyBase.markInvalid(IntegerPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.IntegerPropertyBase.set(IntegerPropertyBase.java:148)
	at javafx.controls@21.0.6/javafx.scene.control.IndexedCell.updateIndex(IndexedCell.java:130)
	at javafx.controls@21.0.6/javafx.scene.control.skin.VirtualFlow.setCellIndex(VirtualFlow.java:1813)
	at javafx.controls@21.0.6/javafx.scene.control.skin.VirtualFlow.addLeadingCells(VirtualFlow.java:2106)
	at javafx.controls@21.0.6/javafx.scene.control.skin.VirtualFlow.layoutChildren(VirtualFlow.java:1325)
	at javafx.graphics@21.0.6/javafx.scene.Parent.layout(Parent.java:1208)
	at javafx.graphics@21.0.6/javafx.scene.Parent.layout(Parent.java:1215)
	at javafx.graphics@21.0.6/javafx.scene.Parent.layout(Parent.java:1215)
	at javafx.graphics@21.0.6/javafx.scene.Parent.layout(Parent.java:1215)
	at javafx.graphics@21.0.6/javafx.scene.Parent.layout(Parent.java:1215)
	at javafx.graphics@21.0.6/javafx.scene.Parent.layout(Parent.java:1215)
	at javafx.graphics@21.0.6/javafx.scene.Scene.doLayoutPass(Scene.java:594)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePulseListener.pulse(Scene.java:2600)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.Toolkit.lambda$runPulse$2(Toolkit.java:401)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.Toolkit.runPulse(Toolkit.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.Toolkit.firePulse(Toolkit.java:430)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:592)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:572)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.pulseFromQueue(QuantumToolkit.java:565)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.lambda$runToolkit$11(QuantumToolkit.java:352)
	at javafx.graphics@21.0.6/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._enterNestedEventLoopImpl(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._enterNestedEventLoop(WinApplication.java:212)
	at javafx.graphics@21.0.6/com.sun.glass.ui.Application.enterNestedEventLoop(Application.java:515)
	at javafx.graphics@21.0.6/com.sun.glass.ui.EventLoop.enter(EventLoop.java:107)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.enterNestedEventLoop(QuantumToolkit.java:650)
	at javafx.graphics@21.0.6/javafx.stage.Stage.showAndWait(Stage.java:469)
	at javafx.controls@21.0.6/javafx.scene.control.HeavyweightDialog.showAndWait(HeavyweightDialog.java:162)
	at javafx.controls@21.0.6/javafx.scene.control.Dialog.showAndWait(Dialog.java:346)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController.showSuccess(CartController.java:317)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController.updateQuantity(CartController.java:152)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController$1.lambda$updateItem$0(CartController.java:91)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:386)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ReadOnlyObjectWrapper.fireValueChangedEvent(ReadOnlyObjectWrapper.java:100)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase$Listener.invalidated(ObjectPropertyBase.java:234)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:376)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:147)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory.setValue(SpinnerValueFactory.java:146)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory$IntegerSpinnerValueFactory.increment(SpinnerValueFactory.java:599)
	at javafx.controls@21.0.6/javafx.scene.control.Spinner.increment(Spinner.java:408)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.increment(SpinnerBehavior.java:117)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.lambda$new$0(SpinnerBehavior.java:66)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.startSpinning(SpinnerBehavior.java:138)
	at javafx.controls@21.0.6/javafx.scene.control.skin.SpinnerSkin.lambda$new$1(SpinnerSkin.java:139)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 01:28:23.550 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 2 -> số lượng 4
2025-12-01 01:28:23.553 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 01:28:23.554 [JavaFX Application Thread] ERROR c.e.s.controller.CartController - Lỗi khi cập nhật số lượng: showAndWait is not allowed during animation or layout processing
java.lang.IllegalStateException: showAndWait is not allowed during animation or layout processing
	at javafx.controls@21.0.6/javafx.scene.control.Dialog.showAndWait(Dialog.java:333)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController.showSuccess(CartController.java:317)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController.updateQuantity(CartController.java:152)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController$1.lambda$updateItem$0(CartController.java:91)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:386)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ReadOnlyObjectWrapper.fireValueChangedEvent(ReadOnlyObjectWrapper.java:100)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase$Listener.invalidated(ObjectPropertyBase.java:234)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:376)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:147)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory.setValue(SpinnerValueFactory.java:146)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController$1.updateItem(CartController.java:87)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController$1.updateItem(CartController.java:78)
	at javafx.controls@21.0.6/javafx.scene.control.TableCell.updateItem(TableCell.java:700)
	at javafx.controls@21.0.6/javafx.scene.control.TableCell.indexChanged(TableCell.java:485)
	at javafx.controls@21.0.6/javafx.scene.control.IndexedCell$1.invalidated(IndexedCell.java:85)
	at javafx.base@21.0.6/javafx.beans.property.IntegerPropertyBase.markInvalid(IntegerPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.IntegerPropertyBase.set(IntegerPropertyBase.java:148)
	at javafx.controls@21.0.6/javafx.scene.control.IndexedCell.updateIndex(IndexedCell.java:130)
	at javafx.controls@21.0.6/javafx.scene.control.skin.TableRowSkinBase.requestCellUpdate(TableRowSkinBase.java:701)
	at javafx.controls@21.0.6/javafx.scene.control.skin.TableRowSkinBase.lambda$new$1(TableRowSkinBase.java:167)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.LambdaMultiplePropertyChangeListenerHandler.lambda$new$2(LambdaMultiplePropertyChangeListenerHandler.java:95)
	at javafx.base@21.0.6/javafx.beans.WeakInvalidationListener.invalidated(WeakInvalidationListener.java:82)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$SingleInvalidation.fireValueChangedEvent(ExpressionHelper.java:147)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:147)
	at javafx.controls@21.0.6/javafx.scene.control.Cell.setItem(Cell.java:404)
	at javafx.controls@21.0.6/javafx.scene.control.Cell.updateItem(Cell.java:694)
	at javafx.controls@21.0.6/javafx.scene.control.TableRow.updateItem(TableRow.java:260)
	at javafx.controls@21.0.6/javafx.scene.control.TableRow.indexChanged(TableRow.java:226)
	at javafx.controls@21.0.6/javafx.scene.control.IndexedCell$1.invalidated(IndexedCell.java:85)
	at javafx.base@21.0.6/javafx.beans.property.IntegerPropertyBase.markInvalid(IntegerPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.IntegerPropertyBase.set(IntegerPropertyBase.java:148)
	at javafx.controls@21.0.6/javafx.scene.control.IndexedCell.updateIndex(IndexedCell.java:130)
	at javafx.controls@21.0.6/javafx.scene.control.skin.VirtualFlow.setCellIndex(VirtualFlow.java:1813)
	at javafx.controls@21.0.6/javafx.scene.control.skin.VirtualFlow.addLeadingCells(VirtualFlow.java:2106)
	at javafx.controls@21.0.6/javafx.scene.control.skin.VirtualFlow.layoutChildren(VirtualFlow.java:1325)
	at javafx.graphics@21.0.6/javafx.scene.Parent.layout(Parent.java:1208)
	at javafx.graphics@21.0.6/javafx.scene.Parent.layout(Parent.java:1215)
	at javafx.graphics@21.0.6/javafx.scene.Parent.layout(Parent.java:1215)
	at javafx.graphics@21.0.6/javafx.scene.Parent.layout(Parent.java:1215)
	at javafx.graphics@21.0.6/javafx.scene.Parent.layout(Parent.java:1215)
	at javafx.graphics@21.0.6/javafx.scene.Parent.layout(Parent.java:1215)
	at javafx.graphics@21.0.6/javafx.scene.Scene.doLayoutPass(Scene.java:594)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePulseListener.pulse(Scene.java:2600)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.Toolkit.lambda$runPulse$2(Toolkit.java:401)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.Toolkit.runPulse(Toolkit.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.Toolkit.firePulse(Toolkit.java:430)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:592)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:572)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.pulseFromQueue(QuantumToolkit.java:565)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.lambda$runToolkit$11(QuantumToolkit.java:352)
	at javafx.graphics@21.0.6/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._enterNestedEventLoopImpl(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._enterNestedEventLoop(WinApplication.java:212)
	at javafx.graphics@21.0.6/com.sun.glass.ui.Application.enterNestedEventLoop(Application.java:515)
	at javafx.graphics@21.0.6/com.sun.glass.ui.EventLoop.enter(EventLoop.java:107)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.enterNestedEventLoop(QuantumToolkit.java:650)
	at javafx.graphics@21.0.6/javafx.stage.Stage.showAndWait(Stage.java:469)
	at javafx.controls@21.0.6/javafx.scene.control.HeavyweightDialog.showAndWait(HeavyweightDialog.java:162)
	at javafx.controls@21.0.6/javafx.scene.control.Dialog.showAndWait(Dialog.java:346)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController.showSuccess(CartController.java:317)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController.updateQuantity(CartController.java:152)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController$1.lambda$updateItem$0(CartController.java:91)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:386)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ReadOnlyObjectWrapper.fireValueChangedEvent(ReadOnlyObjectWrapper.java:100)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase$Listener.invalidated(ObjectPropertyBase.java:234)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:376)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:147)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory.setValue(SpinnerValueFactory.java:146)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory$IntegerSpinnerValueFactory.increment(SpinnerValueFactory.java:599)
	at javafx.controls@21.0.6/javafx.scene.control.Spinner.increment(Spinner.java:408)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.increment(SpinnerBehavior.java:117)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.lambda$new$0(SpinnerBehavior.java:66)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.startSpinning(SpinnerBehavior.java:138)
	at javafx.controls@21.0.6/javafx.scene.control.skin.SpinnerSkin.lambda$new$1(SpinnerSkin.java:139)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 01:28:26.423 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 2 -> số lượng 5
2025-12-01 01:28:26.426 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 01:28:26.449 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 2 -> số lượng 5
2025-12-01 01:28:26.452 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 01:28:26.453 [JavaFX Application Thread] ERROR c.e.s.controller.CartController - Lỗi khi cập nhật số lượng: showAndWait is not allowed during animation or layout processing
java.lang.IllegalStateException: showAndWait is not allowed during animation or layout processing
	at javafx.controls@21.0.6/javafx.scene.control.Dialog.showAndWait(Dialog.java:333)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController.showSuccess(CartController.java:317)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController.updateQuantity(CartController.java:152)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController$1.lambda$updateItem$0(CartController.java:91)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:386)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ReadOnlyObjectWrapper.fireValueChangedEvent(ReadOnlyObjectWrapper.java:100)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase$Listener.invalidated(ObjectPropertyBase.java:234)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:376)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:147)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory.setValue(SpinnerValueFactory.java:146)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController$1.updateItem(CartController.java:87)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController$1.updateItem(CartController.java:78)
	at javafx.controls@21.0.6/javafx.scene.control.TableCell.updateItem(TableCell.java:700)
	at javafx.controls@21.0.6/javafx.scene.control.TableCell.indexChanged(TableCell.java:485)
	at javafx.controls@21.0.6/javafx.scene.control.IndexedCell$1.invalidated(IndexedCell.java:85)
	at javafx.base@21.0.6/javafx.beans.property.IntegerPropertyBase.markInvalid(IntegerPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.IntegerPropertyBase.set(IntegerPropertyBase.java:148)
	at javafx.controls@21.0.6/javafx.scene.control.IndexedCell.updateIndex(IndexedCell.java:130)
	at javafx.controls@21.0.6/javafx.scene.control.skin.TableRowSkinBase.requestCellUpdate(TableRowSkinBase.java:701)
	at javafx.controls@21.0.6/javafx.scene.control.skin.TableRowSkinBase.lambda$new$1(TableRowSkinBase.java:167)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.LambdaMultiplePropertyChangeListenerHandler.lambda$new$2(LambdaMultiplePropertyChangeListenerHandler.java:95)
	at javafx.base@21.0.6/javafx.beans.WeakInvalidationListener.invalidated(WeakInvalidationListener.java:82)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$SingleInvalidation.fireValueChangedEvent(ExpressionHelper.java:147)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:147)
	at javafx.controls@21.0.6/javafx.scene.control.Cell.setItem(Cell.java:404)
	at javafx.controls@21.0.6/javafx.scene.control.Cell.updateItem(Cell.java:694)
	at javafx.controls@21.0.6/javafx.scene.control.TableRow.updateItem(TableRow.java:260)
	at javafx.controls@21.0.6/javafx.scene.control.TableRow.indexChanged(TableRow.java:226)
	at javafx.controls@21.0.6/javafx.scene.control.IndexedCell$1.invalidated(IndexedCell.java:85)
	at javafx.base@21.0.6/javafx.beans.property.IntegerPropertyBase.markInvalid(IntegerPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.IntegerPropertyBase.set(IntegerPropertyBase.java:148)
	at javafx.controls@21.0.6/javafx.scene.control.IndexedCell.updateIndex(IndexedCell.java:130)
	at javafx.controls@21.0.6/javafx.scene.control.skin.VirtualFlow.setCellIndex(VirtualFlow.java:1813)
	at javafx.controls@21.0.6/javafx.scene.control.skin.VirtualFlow.addLeadingCells(VirtualFlow.java:2106)
	at javafx.controls@21.0.6/javafx.scene.control.skin.VirtualFlow.layoutChildren(VirtualFlow.java:1325)
	at javafx.graphics@21.0.6/javafx.scene.Parent.layout(Parent.java:1208)
	at javafx.graphics@21.0.6/javafx.scene.Parent.layout(Parent.java:1215)
	at javafx.graphics@21.0.6/javafx.scene.Parent.layout(Parent.java:1215)
	at javafx.graphics@21.0.6/javafx.scene.Parent.layout(Parent.java:1215)
	at javafx.graphics@21.0.6/javafx.scene.Parent.layout(Parent.java:1215)
	at javafx.graphics@21.0.6/javafx.scene.Parent.layout(Parent.java:1215)
	at javafx.graphics@21.0.6/javafx.scene.Scene.doLayoutPass(Scene.java:594)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePulseListener.pulse(Scene.java:2600)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.Toolkit.lambda$runPulse$2(Toolkit.java:401)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.Toolkit.runPulse(Toolkit.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.Toolkit.firePulse(Toolkit.java:430)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:592)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:572)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.pulseFromQueue(QuantumToolkit.java:565)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.lambda$runToolkit$11(QuantumToolkit.java:352)
	at javafx.graphics@21.0.6/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._enterNestedEventLoopImpl(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._enterNestedEventLoop(WinApplication.java:212)
	at javafx.graphics@21.0.6/com.sun.glass.ui.Application.enterNestedEventLoop(Application.java:515)
	at javafx.graphics@21.0.6/com.sun.glass.ui.EventLoop.enter(EventLoop.java:107)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.enterNestedEventLoop(QuantumToolkit.java:650)
	at javafx.graphics@21.0.6/javafx.stage.Stage.showAndWait(Stage.java:469)
	at javafx.controls@21.0.6/javafx.scene.control.HeavyweightDialog.showAndWait(HeavyweightDialog.java:162)
	at javafx.controls@21.0.6/javafx.scene.control.Dialog.showAndWait(Dialog.java:346)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController.showSuccess(CartController.java:317)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController.updateQuantity(CartController.java:152)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController$1.lambda$updateItem$0(CartController.java:91)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:386)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ReadOnlyObjectWrapper.fireValueChangedEvent(ReadOnlyObjectWrapper.java:100)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase$Listener.invalidated(ObjectPropertyBase.java:234)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:376)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:147)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory.setValue(SpinnerValueFactory.java:146)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory$IntegerSpinnerValueFactory.increment(SpinnerValueFactory.java:599)
	at javafx.controls@21.0.6/javafx.scene.control.Spinner.increment(Spinner.java:408)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.increment(SpinnerBehavior.java:117)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.lambda$new$0(SpinnerBehavior.java:66)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.startSpinning(SpinnerBehavior.java:138)
	at javafx.controls@21.0.6/javafx.scene.control.skin.SpinnerSkin.lambda$new$1(SpinnerSkin.java:139)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 01:28:26.462 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 2 -> số lượng 5
2025-12-01 01:28:26.465 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 01:28:26.466 [JavaFX Application Thread] ERROR c.e.s.controller.CartController - Lỗi khi cập nhật số lượng: showAndWait is not allowed during animation or layout processing
java.lang.IllegalStateException: showAndWait is not allowed during animation or layout processing
	at javafx.controls@21.0.6/javafx.scene.control.Dialog.showAndWait(Dialog.java:333)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController.showSuccess(CartController.java:317)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController.updateQuantity(CartController.java:152)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController$1.lambda$updateItem$0(CartController.java:91)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:386)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ReadOnlyObjectWrapper.fireValueChangedEvent(ReadOnlyObjectWrapper.java:100)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase$Listener.invalidated(ObjectPropertyBase.java:234)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:376)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:147)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory.setValue(SpinnerValueFactory.java:146)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController$1.updateItem(CartController.java:87)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController$1.updateItem(CartController.java:78)
	at javafx.controls@21.0.6/javafx.scene.control.TableCell.updateItem(TableCell.java:700)
	at javafx.controls@21.0.6/javafx.scene.control.TableCell.indexChanged(TableCell.java:485)
	at javafx.controls@21.0.6/javafx.scene.control.IndexedCell$1.invalidated(IndexedCell.java:85)
	at javafx.base@21.0.6/javafx.beans.property.IntegerPropertyBase.markInvalid(IntegerPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.IntegerPropertyBase.set(IntegerPropertyBase.java:148)
	at javafx.controls@21.0.6/javafx.scene.control.IndexedCell.updateIndex(IndexedCell.java:130)
	at javafx.controls@21.0.6/javafx.scene.control.skin.TableRowSkinBase.requestCellUpdate(TableRowSkinBase.java:701)
	at javafx.controls@21.0.6/javafx.scene.control.skin.TableRowSkinBase.lambda$new$1(TableRowSkinBase.java:167)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.LambdaMultiplePropertyChangeListenerHandler.lambda$new$2(LambdaMultiplePropertyChangeListenerHandler.java:95)
	at javafx.base@21.0.6/javafx.beans.WeakInvalidationListener.invalidated(WeakInvalidationListener.java:82)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$SingleInvalidation.fireValueChangedEvent(ExpressionHelper.java:147)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:147)
	at javafx.controls@21.0.6/javafx.scene.control.Cell.setItem(Cell.java:404)
	at javafx.controls@21.0.6/javafx.scene.control.Cell.updateItem(Cell.java:694)
	at javafx.controls@21.0.6/javafx.scene.control.TableRow.updateItem(TableRow.java:260)
	at javafx.controls@21.0.6/javafx.scene.control.TableRow.indexChanged(TableRow.java:226)
	at javafx.controls@21.0.6/javafx.scene.control.IndexedCell$1.invalidated(IndexedCell.java:85)
	at javafx.base@21.0.6/javafx.beans.property.IntegerPropertyBase.markInvalid(IntegerPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.IntegerPropertyBase.set(IntegerPropertyBase.java:148)
	at javafx.controls@21.0.6/javafx.scene.control.IndexedCell.updateIndex(IndexedCell.java:130)
	at javafx.controls@21.0.6/javafx.scene.control.skin.VirtualFlow.setCellIndex(VirtualFlow.java:1813)
	at javafx.controls@21.0.6/javafx.scene.control.skin.VirtualFlow.addLeadingCells(VirtualFlow.java:2106)
	at javafx.controls@21.0.6/javafx.scene.control.skin.VirtualFlow.layoutChildren(VirtualFlow.java:1325)
	at javafx.graphics@21.0.6/javafx.scene.Parent.layout(Parent.java:1208)
	at javafx.graphics@21.0.6/javafx.scene.Parent.layout(Parent.java:1215)
	at javafx.graphics@21.0.6/javafx.scene.Parent.layout(Parent.java:1215)
	at javafx.graphics@21.0.6/javafx.scene.Parent.layout(Parent.java:1215)
	at javafx.graphics@21.0.6/javafx.scene.Parent.layout(Parent.java:1215)
	at javafx.graphics@21.0.6/javafx.scene.Parent.layout(Parent.java:1215)
	at javafx.graphics@21.0.6/javafx.scene.Scene.doLayoutPass(Scene.java:594)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePulseListener.pulse(Scene.java:2600)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.Toolkit.lambda$runPulse$2(Toolkit.java:401)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.Toolkit.runPulse(Toolkit.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.Toolkit.firePulse(Toolkit.java:430)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:592)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:572)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.pulseFromQueue(QuantumToolkit.java:565)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.lambda$runToolkit$11(QuantumToolkit.java:352)
	at javafx.graphics@21.0.6/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._enterNestedEventLoopImpl(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._enterNestedEventLoop(WinApplication.java:212)
	at javafx.graphics@21.0.6/com.sun.glass.ui.Application.enterNestedEventLoop(Application.java:515)
	at javafx.graphics@21.0.6/com.sun.glass.ui.EventLoop.enter(EventLoop.java:107)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.enterNestedEventLoop(QuantumToolkit.java:650)
	at javafx.graphics@21.0.6/javafx.stage.Stage.showAndWait(Stage.java:469)
	at javafx.controls@21.0.6/javafx.scene.control.HeavyweightDialog.showAndWait(HeavyweightDialog.java:162)
	at javafx.controls@21.0.6/javafx.scene.control.Dialog.showAndWait(Dialog.java:346)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController.showSuccess(CartController.java:317)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController.updateQuantity(CartController.java:152)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController$1.lambda$updateItem$0(CartController.java:91)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:386)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ReadOnlyObjectWrapper.fireValueChangedEvent(ReadOnlyObjectWrapper.java:100)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase$Listener.invalidated(ObjectPropertyBase.java:234)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:376)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:147)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory.setValue(SpinnerValueFactory.java:146)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory$IntegerSpinnerValueFactory.increment(SpinnerValueFactory.java:599)
	at javafx.controls@21.0.6/javafx.scene.control.Spinner.increment(Spinner.java:408)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.increment(SpinnerBehavior.java:117)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.lambda$new$0(SpinnerBehavior.java:66)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.startSpinning(SpinnerBehavior.java:138)
	at javafx.controls@21.0.6/javafx.scene.control.skin.SpinnerSkin.lambda$new$1(SpinnerSkin.java:139)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 01:28:46.201 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Xóa toàn bộ giỏ hàng cho khách hàng ID 3
2025-12-01 01:28:46.203 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 0 sản phẩm
2025-12-01 01:28:48.493 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 0 sản phẩm
2025-12-01 01:29:19.504 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 0 sản phẩm
2025-12-01 01:29:55.697 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 01:29:55.704 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-01 01:33:39.397 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 01:33:39.508 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 01:33:39.534 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 01:33:39.551 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 01:33:39.725 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 01:33:39.730 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 01:33:39.730 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 01:33:39.730 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 01:33:39.730 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 01:33:39.732 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 01:33:39.873 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 01:33:40.224 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 01:33:40.872 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@50e6ee24] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 01:33:40.947 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 01:33:41.180 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 01:33:41.253 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-01 01:33:41.253 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 01:33:48.840 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: customer
2025-12-01 01:34:03.680 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 0 sản phẩm
2025-12-01 01:34:07.060 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.OrderService - Thêm sản phẩm vào đơn hàng ORD-20251130210026-811: gau bongvang x1
2025-12-01 01:34:08.777 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 01:34:10.919 [JavaFX Application Thread] ERROR c.e.s.controller.CartController - Lỗi khi chuyển sang checkout: class javafx.scene.layout.HBox cannot be cast to class javafx.scene.layout.VBox (javafx.scene.layout.HBox and javafx.scene.layout.VBox are in module javafx.graphics@21.0.6 of loader 'app')
java.lang.ClassCastException: class javafx.scene.layout.HBox cannot be cast to class javafx.scene.layout.VBox (javafx.scene.layout.HBox and javafx.scene.layout.VBox are in module javafx.graphics@21.0.6 of loader 'app')
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController.handleCheckout(CartController.java:247)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at javafx.base@21.0.6/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)
	at javafx.fxml@21.0.6/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1855)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1726)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Node.fireEvent(Node.java:8875)
	at javafx.controls@21.0.6/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 01:34:56.144 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 01:34:58.459 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 01:34:59.443 [JavaFX Application Thread] INFO  c.e.s.c.CustomerOrderController - Tải đơn hàng thành công: 0 đơn
2025-12-01 01:35:00.270 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 01:35:00.997 [JavaFX Application Thread] INFO  c.e.s.c.CustomerOrderController - Tải đơn hàng thành công: 0 đơn
2025-12-01 01:35:04.752 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 01:35:06.406 [JavaFX Application Thread] ERROR c.e.s.controller.CartController - Lỗi khi chuyển sang checkout: class javafx.scene.layout.HBox cannot be cast to class javafx.scene.layout.VBox (javafx.scene.layout.HBox and javafx.scene.layout.VBox are in module javafx.graphics@21.0.6 of loader 'app')
java.lang.ClassCastException: class javafx.scene.layout.HBox cannot be cast to class javafx.scene.layout.VBox (javafx.scene.layout.HBox and javafx.scene.layout.VBox are in module javafx.graphics@21.0.6 of loader 'app')
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController.handleCheckout(CartController.java:247)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at javafx.base@21.0.6/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)
	at javafx.fxml@21.0.6/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1855)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1726)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Node.fireEvent(Node.java:8875)
	at javafx.controls@21.0.6/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 01:35:07.979 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 3 -> số lượng 2
2025-12-01 01:35:07.981 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 01:35:11.003 [JavaFX Application Thread] ERROR c.e.s.controller.CartController - Lỗi khi chuyển sang checkout: class javafx.scene.layout.HBox cannot be cast to class javafx.scene.layout.VBox (javafx.scene.layout.HBox and javafx.scene.layout.VBox are in module javafx.graphics@21.0.6 of loader 'app')
java.lang.ClassCastException: class javafx.scene.layout.HBox cannot be cast to class javafx.scene.layout.VBox (javafx.scene.layout.HBox and javafx.scene.layout.VBox are in module javafx.graphics@21.0.6 of loader 'app')
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController.handleCheckout(CartController.java:247)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at javafx.base@21.0.6/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)
	at javafx.fxml@21.0.6/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1855)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1726)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Node.fireEvent(Node.java:8875)
	at javafx.controls@21.0.6/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 01:35:25.411 [JavaFX Application Thread] ERROR c.e.s.controller.CartController - Lỗi khi chuyển sang checkout: class javafx.scene.layout.HBox cannot be cast to class javafx.scene.layout.VBox (javafx.scene.layout.HBox and javafx.scene.layout.VBox are in module javafx.graphics@21.0.6 of loader 'app')
java.lang.ClassCastException: class javafx.scene.layout.HBox cannot be cast to class javafx.scene.layout.VBox (javafx.scene.layout.HBox and javafx.scene.layout.VBox are in module javafx.graphics@21.0.6 of loader 'app')
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController.handleCheckout(CartController.java:247)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at javafx.base@21.0.6/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)
	at javafx.fxml@21.0.6/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1855)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1726)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Node.fireEvent(Node.java:8875)
	at javafx.controls@21.0.6/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 01:40:16.968 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 01:40:16.977 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-01 01:44:16.349 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 01:44:16.454 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 01:44:16.479 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 01:44:16.499 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 01:44:16.688 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 01:44:16.692 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 01:44:16.693 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 01:44:16.693 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 01:44:16.693 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 01:44:16.696 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 01:44:16.828 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 01:44:17.164 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 01:44:17.814 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@2e4d2232] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 01:44:17.895 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 01:44:18.139 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 01:44:18.212 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-01 01:44:18.212 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 01:44:31.747 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: customer
2025-12-01 01:44:36.911 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 01:44:38.862 [JavaFX Application Thread] ERROR c.e.s.controller.CartController - Lỗi khi chuyển sang checkout: class javafx.scene.layout.HBox cannot be cast to class javafx.scene.layout.VBox (javafx.scene.layout.HBox and javafx.scene.layout.VBox are in module javafx.graphics@21.0.6 of loader 'app')
java.lang.ClassCastException: class javafx.scene.layout.HBox cannot be cast to class javafx.scene.layout.VBox (javafx.scene.layout.HBox and javafx.scene.layout.VBox are in module javafx.graphics@21.0.6 of loader 'app')
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController.handleCheckout(CartController.java:248)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at javafx.base@21.0.6/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)
	at javafx.fxml@21.0.6/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1855)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1726)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Node.fireEvent(Node.java:8875)
	at javafx.controls@21.0.6/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 01:48:32.686 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 01:48:32.795 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 01:48:32.819 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 01:48:32.839 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 01:48:33.034 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 01:48:33.037 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 01:48:33.037 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 01:48:33.038 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 01:48:33.038 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 01:48:33.040 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 01:48:33.180 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 01:48:33.510 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 01:48:34.138 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@7acb5200] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 01:48:34.211 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 01:48:34.450 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 01:48:34.521 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-01 01:48:34.521 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 01:48:41.333 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: customer
2025-12-01 01:48:45.122 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 01:49:17.247 [JavaFX Application Thread] INFO  c.e.shopgaubong.dao.StockItemDAO - Đã cập nhật entity: com.example.shopgaubong.entity.StockItem@67cb3bca
2025-12-01 01:49:17.248 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.StockService - Giữ chỗ tồn kho: kho me linh - gau bongvang (số lượng: 2)
2025-12-01 01:49:17.254 [JavaFX Application Thread] INFO  c.e.s.controller.CheckoutController - Đặt hàng thành công: ORD-20251130210026-811
2025-12-01 01:49:39.327 [JavaFX Application Thread] INFO  c.example.shopgaubong.dao.OrderDAO - Đã lưu entity: com.example.shopgaubong.entity.Order@4c32c3c8
2025-12-01 01:49:39.328 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 0 sản phẩm
2025-12-01 01:49:43.720 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 0 sản phẩm
2025-12-01 01:49:47.061 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 0 sản phẩm
2025-12-01 01:49:48.786 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 0 sản phẩm
2025-12-01 01:49:51.648 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng xuất: customer
2025-12-01 01:50:01.447 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: staff
2025-12-01 01:50:03.315 [JavaFX Application Thread] INFO  c.e.s.c.OrderManagementController - Tải đơn hàng thành công: 1 đơn
2025-12-01 01:50:09.489 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tải kho thành công: 1 kho
2025-12-01 01:50:11.144 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 3 stock items
2025-12-01 01:50:11.144 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - StockManagementController initialized
2025-12-01 01:50:14.768 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 3 stock items
2025-12-01 01:50:14.768 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - StockManagementController initialized
2025-12-01 01:50:16.198 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tải kho thành công: 1 kho
2025-12-01 01:50:20.284 [JavaFX Application Thread] INFO  c.e.s.c.OrderManagementController - Tải đơn hàng thành công: 1 đơn
2025-12-01 01:57:03.850 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 01:57:03.956 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 01:57:03.984 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 01:57:04.003 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 01:57:04.204 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 01:57:04.207 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 01:57:04.207 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 01:57:04.207 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 01:57:04.208 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 01:57:04.211 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 01:57:04.345 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 01:57:04.676 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 01:57:05.315 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@50e6ee24] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 01:57:05.388 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 01:57:05.616 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 01:57:05.675 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-01 01:57:05.676 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 01:57:12.202 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: customer
2025-12-01 01:57:14.130 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 0 sản phẩm
2025-12-01 01:57:19.098 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.OrderService - Thêm sản phẩm vào đơn hàng ORD-20251201014939-582: gau bongvang x1
2025-12-01 01:57:23.066 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 01:57:40.963 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 01:57:42.884 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 01:57:42.892 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-01 01:58:15.077 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 01:58:15.194 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 01:58:15.221 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 01:58:15.238 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 01:58:15.414 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 01:58:15.418 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 01:58:15.418 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 01:58:15.418 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 01:58:15.419 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 01:58:15.421 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 01:58:15.555 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 01:58:15.893 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 01:58:16.520 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@50e6ee24] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 01:58:16.594 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 01:58:16.822 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 01:58:16.894 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-01 01:58:16.894 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 01:58:23.542 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: customer
2025-12-01 01:58:28.677 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 01:58:44.829 [JavaFX Application Thread] INFO  c.e.shopgaubong.dao.StockItemDAO - Đã cập nhật entity: com.example.shopgaubong.entity.StockItem@14faf6be
2025-12-01 01:58:44.831 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.StockService - Giữ chỗ tồn kho: kho me linh - gau bongvang (số lượng: 1)
2025-12-01 01:58:44.837 [JavaFX Application Thread] INFO  c.e.s.controller.CheckoutController - Đặt hàng thành công: ORD-20251201014939-582
2025-12-01 01:58:52.509 [JavaFX Application Thread] INFO  c.example.shopgaubong.dao.OrderDAO - Đã lưu entity: com.example.shopgaubong.entity.Order@23e7fd82
2025-12-01 01:58:52.509 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 0 sản phẩm
2025-12-01 01:58:54.736 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 0 sản phẩm
2025-12-01 01:58:57.922 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng xuất: customer
2025-12-01 01:59:04.451 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: staff
2025-12-01 01:59:05.479 [JavaFX Application Thread] INFO  c.e.s.c.OrderManagementController - Tải đơn hàng thành công: 2 đơn
2025-12-01 01:59:34.647 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tải kho thành công: 1 kho
2025-12-01 01:59:35.665 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 3 stock items
2025-12-01 01:59:35.665 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - StockManagementController initialized
2025-12-01 01:59:38.076 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 3 stock items
2025-12-01 01:59:38.076 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - StockManagementController initialized
2025-12-01 01:59:39.790 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tải kho thành công: 1 kho
2025-12-01 02:00:21.478 [JavaFX Application Thread] INFO  c.e.shopgaubong.dao.WarehouseDAO - Đã lưu entity: com.example.shopgaubong.entity.Warehouse@7cb429dd
2025-12-01 02:00:21.478 [JavaFX Application Thread] INFO  c.e.s.service.WarehouseService - Tạo kho mới: DN123 - da nang
2025-12-01 02:00:22.302 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tạo kho mới: da nang
2025-12-01 02:00:22.305 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tải kho thành công: 2 kho
2025-12-01 02:00:30.185 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 3 stock items
2025-12-01 02:00:30.185 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - StockManagementController initialized
2025-12-01 02:01:23.472 [JavaFX Application Thread] INFO  c.e.shopgaubong.dao.StockItemDAO - Đã cập nhật entity: com.example.shopgaubong.entity.StockItem@4e774692
2025-12-01 02:01:23.472 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.StockService - Nhập kho: kho me linh - gáu bông đen trănhs (số lượng: 12)
2025-12-01 02:01:24.713 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 3 stock items
2025-12-01 02:01:56.685 [JavaFX Application Thread] INFO  c.e.shopgaubong.dao.StockItemDAO - Đã lưu entity: com.example.shopgaubong.entity.StockItem@17dac15e
2025-12-01 02:01:56.686 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.StockService - Tạo tồn kho mới: da nang - gau bong moc khoa mau vang (số lượng: 1)
2025-12-01 02:01:58.731 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 4 stock items
2025-12-01 02:02:12.110 [JavaFX Application Thread] INFO  c.e.shopgaubong.dao.StockItemDAO - Đã cập nhật entity: com.example.shopgaubong.entity.StockItem@6cd04d75
2025-12-01 02:02:12.110 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.StockService - Nhập kho: da nang - gau bong moc khoa mau vang (số lượng: 23)
2025-12-01 02:02:13.249 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 4 stock items
2025-12-01 02:02:45.918 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 02:02:45.930 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-01 02:09:09.273 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 02:09:09.378 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 02:09:09.403 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 02:09:09.422 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 02:09:09.610 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 02:09:09.614 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 02:09:09.614 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 02:09:09.614 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 02:09:09.614 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 02:09:09.616 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 02:09:09.747 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 02:09:10.077 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 02:09:10.696 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@2c70a1de] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 02:09:10.773 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 02:09:11.010 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 02:09:11.082 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-01 02:09:11.082 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 02:09:17.883 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: staff
2025-12-01 02:09:20.230 [JavaFX Application Thread] INFO  c.e.s.c.OrderManagementController - Tải đơn hàng thành công: 2 đơn
2025-12-01 02:09:22.917 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 2: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:09:23.264 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 1: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:09:47.078 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 2: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:09:47.824 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 1: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:09:52.571 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 2: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:09:56.735 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 1: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:10:03.832 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 2: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:10:04.331 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 1: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:10:04.889 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 2: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:10:05.178 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 1: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:10:06.151 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 2: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:10:06.465 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 1: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:10:08.342 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 2: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:10:18.433 [JavaFX Application Thread] INFO  c.e.s.c.OrderManagementController - Tìm thấy 0 đơn hàng
2025-12-01 02:10:20.701 [JavaFX Application Thread] INFO  c.e.s.c.OrderManagementController - Tìm thấy 2 đơn hàng
2025-12-01 02:10:34.673 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tải kho thành công: 2 kho
2025-12-01 02:10:36.469 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng xuất: staff
2025-12-01 02:10:43.115 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: customer
2025-12-01 02:10:47.159 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 3: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:10:47.159 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 0 sản phẩm
2025-12-01 02:10:49.257 [JavaFX Application Thread] INFO  c.e.s.c.CustomerOrderController - Tải đơn hàng thành công: 2 đơn
2025-12-01 02:10:50.105 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 2: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:10:52.178 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 1: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:10:52.640 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 2: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:10:56.057 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 1: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:10:57.136 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 2: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:10:57.760 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 1: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:10:58.497 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 3: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:10:58.497 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 0 sản phẩm
2025-12-01 02:11:02.503 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.OrderService - Thêm sản phẩm vào đơn hàng ORD-20251201015852-211: gáu bông đen trănhs x1
2025-12-01 02:11:17.564 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 3: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:11:17.565 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 02:11:31.082 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 3: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:11:31.091 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.StockService - Lỗi khi giữ chỗ tồn kho: Sản phẩm không tồn tại trong kho
2025-12-01 02:11:31.091 [JavaFX Application Thread] ERROR c.e.s.controller.CheckoutController - Lỗi khi đặt hàng: Sản phẩm không tồn tại trong kho
java.lang.IllegalStateException: Sản phẩm không tồn tại trong kho
	at com.example.shopgaubong/com.example.shopgaubong.service.StockService.lambda$reserveStock$4(StockService.java:153)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.example.shopgaubong/com.example.shopgaubong.service.StockService.reserveStock(StockService.java:153)
	at com.example.shopgaubong/com.example.shopgaubong.service.OrderService.checkout(OrderService.java:273)
	at com.example.shopgaubong/com.example.shopgaubong.service.CartService.checkout(CartService.java:116)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CheckoutController.placeOrder(CheckoutController.java:193)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CheckoutController.lambda$handlePlaceOrder$4(CheckoutController.java:128)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CheckoutController.handlePlaceOrder(CheckoutController.java:126)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at javafx.base@21.0.6/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)
	at javafx.fxml@21.0.6/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1855)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1726)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Node.fireEvent(Node.java:8875)
	at javafx.controls@21.0.6/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 02:11:44.192 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.OrderService - Thêm sản phẩm vào đơn hàng ORD-20251201015852-211: gau bongvang x1
2025-12-01 02:11:48.415 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 3: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:11:48.416 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 02:12:06.213 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 3: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:12:06.218 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.StockService - Lỗi khi giữ chỗ tồn kho: Sản phẩm không tồn tại trong kho
2025-12-01 02:12:06.219 [JavaFX Application Thread] ERROR c.e.s.controller.CheckoutController - Lỗi khi đặt hàng: Sản phẩm không tồn tại trong kho
java.lang.IllegalStateException: Sản phẩm không tồn tại trong kho
	at com.example.shopgaubong/com.example.shopgaubong.service.StockService.lambda$reserveStock$4(StockService.java:153)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at com.example.shopgaubong/com.example.shopgaubong.service.StockService.reserveStock(StockService.java:153)
	at com.example.shopgaubong/com.example.shopgaubong.service.OrderService.checkout(OrderService.java:273)
	at com.example.shopgaubong/com.example.shopgaubong.service.CartService.checkout(CartService.java:116)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CheckoutController.placeOrder(CheckoutController.java:193)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CheckoutController.lambda$handlePlaceOrder$4(CheckoutController.java:128)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CheckoutController.handlePlaceOrder(CheckoutController.java:126)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at javafx.base@21.0.6/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)
	at javafx.fxml@21.0.6/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1855)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1726)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Node.fireEvent(Node.java:8875)
	at javafx.controls@21.0.6/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 02:12:13.945 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng xuất: customer
2025-12-01 02:13:15.984 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 02:13:15.999 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-01 02:18:26.920 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 02:18:27.030 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 02:18:27.056 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 02:18:27.074 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 02:18:27.261 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 02:18:27.265 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 02:18:27.265 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 02:18:27.265 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 02:18:27.265 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 02:18:27.268 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 02:18:27.403 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 02:18:27.732 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 02:18:28.391 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@1cfd6f63] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 02:18:28.466 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 02:18:28.703 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 02:18:28.780 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-01 02:18:28.780 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 02:18:38.174 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: customer
2025-12-01 02:18:42.356 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 3: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:18:42.357 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 02:18:52.769 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 3: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:18:52.782 [JavaFX Application Thread] WARN  c.e.shopgaubong.service.StockService - Sản phẩm ID 1 chưa có trong kho ID 2. Tạo bản ghi mới với số lượng = 0
2025-12-01 02:18:52.811 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.StockService - Lỗi khi giữ chỗ tồn kho: Không đủ hàng trong kho. Sản phẩm: gáu bông đen trănhs, Tồn kho khả dụng: 0, Yêu cầu: 1
2025-12-01 02:18:52.811 [JavaFX Application Thread] ERROR c.e.s.controller.CheckoutController - Lỗi khi đặt hàng: Không đủ hàng trong kho. Sản phẩm: gáu bông đen trănhs, Tồn kho khả dụng: 0, Yêu cầu: 1
java.lang.IllegalStateException: Không đủ hàng trong kho. Sản phẩm: gáu bông đen trănhs, Tồn kho khả dụng: 0, Yêu cầu: 1
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.StockService.reserveStock(StockService.java:189)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.OrderService.checkout(OrderService.java:281)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.CartService.checkout(CartService.java:116)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CheckoutController.placeOrder(CheckoutController.java:193)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CheckoutController.lambda$handlePlaceOrder$4(CheckoutController.java:128)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CheckoutController.handlePlaceOrder(CheckoutController.java:126)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at javafx.base@21.0.6/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)
	at javafx.fxml@21.0.6/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1855)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1726)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Node.fireEvent(Node.java:8875)
	at javafx.controls@21.0.6/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 02:18:59.416 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng xuất: customer
2025-12-01 02:19:22.886 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: admin
2025-12-01 02:19:25.086 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tải kho thành công: 2 kho
2025-12-01 02:19:26.802 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 4 stock items
2025-12-01 02:19:26.802 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - StockManagementController initialized
2025-12-01 02:19:43.579 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 02:19:43.588 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-01 02:20:33.948 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 02:20:34.060 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 02:20:34.088 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 02:20:34.109 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 02:20:34.296 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 02:20:34.301 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 02:20:34.301 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 02:20:34.301 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 02:20:34.301 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 02:20:34.302 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 02:20:34.434 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 02:20:34.763 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 02:20:35.415 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@1cfd6f63] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 02:20:35.495 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 02:20:35.736 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 02:20:35.816 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-01 02:20:35.816 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 02:20:42.357 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: customer
2025-12-01 02:20:44.748 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 3: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:20:44.749 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 02:21:06.252 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 3: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:21:06.266 [JavaFX Application Thread] WARN  c.e.shopgaubong.service.StockService - Sản phẩm ID 1 chưa có trong kho ID 2. Tạo bản ghi mới với số lượng = 0
2025-12-01 02:21:06.293 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.StockService - Lỗi khi giữ chỗ tồn kho: Không đủ hàng trong kho. Sản phẩm: gáu bông đen trănhs, Tồn kho khả dụng: 0, Yêu cầu: 1
2025-12-01 02:21:06.295 [JavaFX Application Thread] ERROR c.e.s.controller.CheckoutController - Lỗi khi đặt hàng: Không đủ hàng trong kho. Sản phẩm: gáu bông đen trănhs, Tồn kho khả dụng: 0, Yêu cầu: 1
java.lang.IllegalStateException: Không đủ hàng trong kho. Sản phẩm: gáu bông đen trănhs, Tồn kho khả dụng: 0, Yêu cầu: 1
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.StockService.reserveStock(StockService.java:189)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.OrderService.checkout(OrderService.java:281)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.CartService.checkout(CartService.java:116)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CheckoutController.placeOrder(CheckoutController.java:193)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CheckoutController.lambda$handlePlaceOrder$4(CheckoutController.java:128)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CheckoutController.handlePlaceOrder(CheckoutController.java:126)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at javafx.base@21.0.6/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)
	at javafx.fxml@21.0.6/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1855)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1726)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Node.fireEvent(Node.java:8875)
	at javafx.controls@21.0.6/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 02:24:29.190 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 3: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:24:29.190 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 02:24:38.357 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 3: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:24:38.357 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 02:24:42.158 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 3: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:24:42.164 [JavaFX Application Thread] ERROR c.e.s.controller.CartController - Lỗi khi cập nhật số lượng: Không đủ hàng trong kho. Sản phẩm: gau bongvang, Tồn kho khả dụng: 0, Yêu cầu: 2
java.lang.IllegalStateException: Không đủ hàng trong kho. Sản phẩm: gau bongvang, Tồn kho khả dụng: 0, Yêu cầu: 2
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.OrderService.updateOrderItemQuantity(OrderService.java:149)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.CartService.updateCartItem(CartService.java:49)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CartController.updateQuantity(CartController.java:150)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CartController$1.lambda$updateItem$0(CartController.java:92)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:386)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ReadOnlyObjectWrapper.fireValueChangedEvent(ReadOnlyObjectWrapper.java:100)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase$Listener.invalidated(ObjectPropertyBase.java:234)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:376)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:147)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory.setValue(SpinnerValueFactory.java:146)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory$IntegerSpinnerValueFactory.increment(SpinnerValueFactory.java:599)
	at javafx.controls@21.0.6/javafx.scene.control.Spinner.increment(Spinner.java:408)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.increment(SpinnerBehavior.java:117)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.lambda$new$0(SpinnerBehavior.java:66)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.startSpinning(SpinnerBehavior.java:138)
	at javafx.controls@21.0.6/javafx.scene.control.skin.SpinnerSkin.lambda$new$1(SpinnerSkin.java:139)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 02:24:42.170 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 3: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:24:42.170 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 02:24:46.264 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 3: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:24:46.270 [JavaFX Application Thread] ERROR c.e.s.controller.CartController - Lỗi khi cập nhật số lượng: Không đủ hàng trong kho. Sản phẩm: gau bongvang, Tồn kho khả dụng: 0, Yêu cầu: 2
java.lang.IllegalStateException: Không đủ hàng trong kho. Sản phẩm: gau bongvang, Tồn kho khả dụng: 0, Yêu cầu: 2
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.OrderService.updateOrderItemQuantity(OrderService.java:149)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.CartService.updateCartItem(CartService.java:49)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CartController.updateQuantity(CartController.java:150)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CartController$1.lambda$updateItem$0(CartController.java:92)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:386)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ReadOnlyObjectWrapper.fireValueChangedEvent(ReadOnlyObjectWrapper.java:100)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase$Listener.invalidated(ObjectPropertyBase.java:234)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:376)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:147)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory.setValue(SpinnerValueFactory.java:146)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory$IntegerSpinnerValueFactory.increment(SpinnerValueFactory.java:599)
	at javafx.controls@21.0.6/javafx.scene.control.Spinner.increment(Spinner.java:408)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.increment(SpinnerBehavior.java:117)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.lambda$new$0(SpinnerBehavior.java:66)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.startSpinning(SpinnerBehavior.java:138)
	at javafx.controls@21.0.6/javafx.scene.control.skin.SpinnerSkin.lambda$new$1(SpinnerSkin.java:139)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 02:24:46.275 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 3: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:24:46.275 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 02:24:46.282 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 3: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:24:46.287 [JavaFX Application Thread] ERROR c.e.s.controller.CartController - Lỗi khi cập nhật số lượng: Không đủ hàng trong kho. Sản phẩm: gau bongvang, Tồn kho khả dụng: 0, Yêu cầu: 1
java.lang.IllegalStateException: Không đủ hàng trong kho. Sản phẩm: gau bongvang, Tồn kho khả dụng: 0, Yêu cầu: 1
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.OrderService.updateOrderItemQuantity(OrderService.java:149)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.CartService.updateCartItem(CartService.java:49)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CartController.updateQuantity(CartController.java:150)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CartController$1.lambda$updateItem$0(CartController.java:92)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:386)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ReadOnlyObjectWrapper.fireValueChangedEvent(ReadOnlyObjectWrapper.java:100)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase$Listener.invalidated(ObjectPropertyBase.java:234)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:376)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:147)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory.setValue(SpinnerValueFactory.java:146)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CartController$1.updateItem(CartController.java:88)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CartController$1.updateItem(CartController.java:79)
	at javafx.controls@21.0.6/javafx.scene.control.TableCell.updateItem(TableCell.java:700)
	at javafx.controls@21.0.6/javafx.scene.control.TableCell.indexChanged(TableCell.java:485)
	at javafx.controls@21.0.6/javafx.scene.control.IndexedCell$1.invalidated(IndexedCell.java:85)
	at javafx.base@21.0.6/javafx.beans.property.IntegerPropertyBase.markInvalid(IntegerPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.IntegerPropertyBase.set(IntegerPropertyBase.java:148)
	at javafx.controls@21.0.6/javafx.scene.control.IndexedCell.updateIndex(IndexedCell.java:130)
	at javafx.controls@21.0.6/javafx.scene.control.skin.TableRowSkinBase.requestCellUpdate(TableRowSkinBase.java:701)
	at javafx.controls@21.0.6/javafx.scene.control.skin.TableRowSkinBase.lambda$new$1(TableRowSkinBase.java:167)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.LambdaMultiplePropertyChangeListenerHandler.lambda$new$2(LambdaMultiplePropertyChangeListenerHandler.java:95)
	at javafx.base@21.0.6/javafx.beans.WeakInvalidationListener.invalidated(WeakInvalidationListener.java:82)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$SingleInvalidation.fireValueChangedEvent(ExpressionHelper.java:147)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:147)
	at javafx.controls@21.0.6/javafx.scene.control.Cell.setItem(Cell.java:404)
	at javafx.controls@21.0.6/javafx.scene.control.Cell.updateItem(Cell.java:694)
	at javafx.controls@21.0.6/javafx.scene.control.TableRow.updateItem(TableRow.java:260)
	at javafx.controls@21.0.6/javafx.scene.control.TableRow.indexChanged(TableRow.java:226)
	at javafx.controls@21.0.6/javafx.scene.control.IndexedCell$1.invalidated(IndexedCell.java:85)
	at javafx.base@21.0.6/javafx.beans.property.IntegerPropertyBase.markInvalid(IntegerPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.IntegerPropertyBase.set(IntegerPropertyBase.java:148)
	at javafx.controls@21.0.6/javafx.scene.control.IndexedCell.updateIndex(IndexedCell.java:130)
	at javafx.controls@21.0.6/javafx.scene.control.skin.VirtualFlow.setCellIndex(VirtualFlow.java:1813)
	at javafx.controls@21.0.6/javafx.scene.control.skin.VirtualFlow.addTrailingCells(VirtualFlow.java:2200)
	at javafx.controls@21.0.6/javafx.scene.control.skin.VirtualFlow.layoutChildren(VirtualFlow.java:1328)
	at javafx.graphics@21.0.6/javafx.scene.Parent.layout(Parent.java:1208)
	at javafx.graphics@21.0.6/javafx.scene.Parent.layout(Parent.java:1215)
	at javafx.graphics@21.0.6/javafx.scene.Parent.layout(Parent.java:1215)
	at javafx.graphics@21.0.6/javafx.scene.Parent.layout(Parent.java:1215)
	at javafx.graphics@21.0.6/javafx.scene.Parent.layout(Parent.java:1215)
	at javafx.graphics@21.0.6/javafx.scene.Parent.layout(Parent.java:1215)
	at javafx.graphics@21.0.6/javafx.scene.Scene.doLayoutPass(Scene.java:594)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePulseListener.pulse(Scene.java:2600)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.Toolkit.lambda$runPulse$2(Toolkit.java:401)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.Toolkit.runPulse(Toolkit.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.Toolkit.firePulse(Toolkit.java:430)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:592)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:572)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.pulseFromQueue(QuantumToolkit.java:565)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.lambda$runToolkit$11(QuantumToolkit.java:352)
	at javafx.graphics@21.0.6/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 02:24:46.293 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 3: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:24:46.293 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 02:24:51.404 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng xuất: customer
2025-12-01 02:24:56.367 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: staff
2025-12-01 02:24:57.181 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tải kho thành công: 2 kho
2025-12-01 02:24:59.254 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 3 stock items
2025-12-01 02:24:59.254 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - StockManagementController initialized
2025-12-01 02:25:05.699 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 02:25:05.707 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-01 02:31:42.599 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 02:31:42.711 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 02:31:42.735 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 02:31:42.754 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 02:31:42.942 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 02:31:42.947 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 02:31:42.947 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 02:31:42.947 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 02:31:42.947 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 02:31:42.949 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 02:31:43.082 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 02:31:43.414 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 02:31:44.069 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@1cfd6f63] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 02:31:44.143 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 02:31:44.371 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 02:31:44.496 [main] INFO  c.e.shopgaubong.dao.StockItemDAO - Đã lưu entity: com.example.shopgaubong.entity.StockItem@735b1ad2
2025-12-01 02:31:44.496 [main] INFO  c.e.shopgaubong.service.StockService - Tạo tồn kho mới: kho me linh - gau bongvang (số lượng: 100)
2025-12-01 02:31:44.497 [main] INFO  c.e.s.util.DatabaseInitializer - Tạo tồn kho cho sản phẩm: gau bongvang (100 đơn vị)
2025-12-01 02:31:44.497 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 1 mục tồn kho trong kho kho me linh
2025-12-01 02:31:44.497 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 02:31:50.894 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: customer
2025-12-01 02:31:54.867 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 3: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:31:54.868 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 02:32:10.393 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 3: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:32:10.402 [JavaFX Application Thread] WARN  c.e.shopgaubong.service.StockService - Sản phẩm ID 1 chưa có trong kho ID 2. Tạo bản ghi mới với số lượng = 0
2025-12-01 02:32:10.410 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.StockService - Lỗi khi giữ chỗ tồn kho: Không đủ hàng trong kho. Sản phẩm: gáu bông đen trănhs, Tồn kho khả dụng: 0, Yêu cầu: 1
2025-12-01 02:32:10.411 [JavaFX Application Thread] ERROR c.e.s.controller.CheckoutController - Lỗi khi đặt hàng: Không đủ hàng trong kho. Sản phẩm: gáu bông đen trănhs, Tồn kho khả dụng: 0, Yêu cầu: 1
java.lang.IllegalStateException: Không đủ hàng trong kho. Sản phẩm: gáu bông đen trănhs, Tồn kho khả dụng: 0, Yêu cầu: 1
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.StockService.reserveStock(StockService.java:189)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.OrderService.checkout(OrderService.java:290)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.CartService.checkout(CartService.java:116)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CheckoutController.placeOrder(CheckoutController.java:193)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CheckoutController.lambda$handlePlaceOrder$4(CheckoutController.java:128)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CheckoutController.handlePlaceOrder(CheckoutController.java:126)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at javafx.base@21.0.6/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)
	at javafx.fxml@21.0.6/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1855)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1726)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Node.fireEvent(Node.java:8875)
	at javafx.controls@21.0.6/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 02:32:22.844 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 02:32:22.851 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-01 02:32:50.616 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 02:32:50.885 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 02:32:50.925 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 02:32:50.955 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 02:32:51.169 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 02:32:51.174 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 02:32:51.174 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 02:32:51.175 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 02:32:51.175 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 02:32:51.178 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 02:32:51.368 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 02:32:51.720 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 02:32:52.345 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@18f4086e] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 02:32:52.425 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 02:32:52.655 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 02:32:52.725 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-01 02:32:52.725 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 02:33:17.059 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: customer
2025-12-01 02:33:19.438 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 3: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:33:19.439 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 02:33:33.612 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 3: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:33:33.628 [JavaFX Application Thread] WARN  c.e.shopgaubong.service.StockService - Sản phẩm ID 1 chưa có trong kho ID 2. Tạo bản ghi mới với số lượng = 0
2025-12-01 02:33:33.656 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.StockService - Lỗi khi giữ chỗ tồn kho: Không đủ hàng trong kho. Sản phẩm: gáu bông đen trănhs, Tồn kho khả dụng: 0, Yêu cầu: 1
2025-12-01 02:33:33.657 [JavaFX Application Thread] ERROR c.e.s.controller.CheckoutController - Lỗi khi đặt hàng: Không đủ hàng trong kho. Sản phẩm: gáu bông đen trănhs, Tồn kho khả dụng: 0, Yêu cầu: 1
java.lang.IllegalStateException: Không đủ hàng trong kho. Sản phẩm: gáu bông đen trănhs, Tồn kho khả dụng: 0, Yêu cầu: 1
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.StockService.reserveStock(StockService.java:189)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.OrderService.checkout(OrderService.java:290)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.CartService.checkout(CartService.java:116)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CheckoutController.placeOrder(CheckoutController.java:193)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CheckoutController.lambda$handlePlaceOrder$4(CheckoutController.java:128)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CheckoutController.handlePlaceOrder(CheckoutController.java:126)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at javafx.base@21.0.6/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)
	at javafx.fxml@21.0.6/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1855)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1726)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Node.fireEvent(Node.java:8875)
	at javafx.controls@21.0.6/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 02:33:40.102 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng xuất: customer
2025-12-01 02:33:40.962 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 02:33:40.970 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-01 02:41:52.342 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 02:41:52.449 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 02:41:52.477 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 02:41:52.496 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 02:41:52.684 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 02:41:52.688 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 02:41:52.688 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 02:41:52.688 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 02:41:52.688 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 02:41:52.690 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 02:41:52.825 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 02:41:53.154 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 02:41:53.811 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@5111f814] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 02:41:53.888 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 02:41:54.123 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 02:41:54.188 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-01 02:41:54.188 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 02:42:01.831 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: customer
2025-12-01 02:42:03.221 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 3: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:42:03.222 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 02:42:23.324 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 3: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:42:23.379 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.StockService - Giữ chỗ tồn kho cho Item ID 1: tổng giữ = 1
2025-12-01 02:42:23.389 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.StockService - Giữ chỗ tồn kho cho Item ID 2: tổng giữ = 1
2025-12-01 02:42:23.398 [JavaFX Application Thread] INFO  c.e.s.controller.CheckoutController - Đặt hàng thành công: ORD-20251201015852-211
2025-12-01 02:42:57.333 [JavaFX Application Thread] INFO  c.example.shopgaubong.dao.OrderDAO - Đã lưu entity: com.example.shopgaubong.entity.Order@14e990c2
2025-12-01 02:42:57.334 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:42:57.335 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 0 sản phẩm
2025-12-01 02:42:59.635 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:42:59.635 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 0 sản phẩm
2025-12-01 02:43:00.617 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:43:00.618 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 0 sản phẩm
2025-12-01 02:43:03.041 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:43:03.042 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 0 sản phẩm
2025-12-01 02:43:06.201 [JavaFX Application Thread] DEBUG c.e.shopgaubong.service.StockService - Check availability: Item ID 3, On Hand: 100, Reserved: 0, Available: 100, Required: 1, Result: true
2025-12-01 02:43:06.210 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.OrderService - Thêm sản phẩm vào đơn hàng ORD-20251201024257-713: gau bong moc khoa mau vang x1
2025-12-01 02:43:07.862 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:43:07.862 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 02:43:20.625 [JavaFX Application Thread] DEBUG c.e.shopgaubong.service.StockService - Check availability: Item ID 2, On Hand: 100, Reserved: 1, Available: 99, Required: 1, Result: true
2025-12-01 02:43:20.633 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.OrderService - Thêm sản phẩm vào đơn hàng ORD-20251201024257-713: gau bongvang x1
2025-12-01 02:43:21.930 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:43:21.930 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 02:43:30.254 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:43:30.258 [JavaFX Application Thread] WARN  c.e.shopgaubong.service.StockService - Không tìm thấy StockItem cho Warehouse ID 2 và Item ID 2
2025-12-01 02:43:30.259 [JavaFX Application Thread] WARN  c.e.shopgaubong.service.StockService - Không tìm thấy StockItem cho Warehouse ID 2 và Item ID 2 khi lấy available quantity
2025-12-01 02:43:30.260 [JavaFX Application Thread] ERROR c.e.s.controller.CartController - Lỗi khi cập nhật số lượng: Không đủ hàng trong kho. Sản phẩm: gau bongvang, Tồn kho khả dụng: 0, Số lượng mới yêu cầu: 2 (hiện tại trong giỏ: 1)
java.lang.IllegalStateException: Không đủ hàng trong kho. Sản phẩm: gau bongvang, Tồn kho khả dụng: 0, Số lượng mới yêu cầu: 2 (hiện tại trong giỏ: 1)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.OrderService.updateOrderItemQuantity(OrderService.java:158)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.CartService.updateCartItem(CartService.java:49)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CartController.updateQuantity(CartController.java:150)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CartController$1.lambda$updateItem$0(CartController.java:92)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:386)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ReadOnlyObjectWrapper.fireValueChangedEvent(ReadOnlyObjectWrapper.java:100)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase$Listener.invalidated(ObjectPropertyBase.java:234)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:376)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:147)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory.setValue(SpinnerValueFactory.java:146)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory$IntegerSpinnerValueFactory.increment(SpinnerValueFactory.java:599)
	at javafx.controls@21.0.6/javafx.scene.control.Spinner.increment(Spinner.java:408)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.increment(SpinnerBehavior.java:117)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.lambda$new$0(SpinnerBehavior.java:66)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.startSpinning(SpinnerBehavior.java:138)
	at javafx.controls@21.0.6/javafx.scene.control.skin.SpinnerSkin.lambda$new$1(SpinnerSkin.java:139)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 02:43:30.268 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:43:30.269 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 02:43:37.915 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:43:37.920 [JavaFX Application Thread] WARN  c.e.shopgaubong.service.StockService - Không tìm thấy StockItem cho Warehouse ID 2 và Item ID 2
2025-12-01 02:43:37.921 [JavaFX Application Thread] WARN  c.e.shopgaubong.service.StockService - Không tìm thấy StockItem cho Warehouse ID 2 và Item ID 2 khi lấy available quantity
2025-12-01 02:43:37.923 [JavaFX Application Thread] ERROR c.e.s.controller.CartController - Lỗi khi cập nhật số lượng: Không đủ hàng trong kho. Sản phẩm: gau bongvang, Tồn kho khả dụng: 0, Số lượng mới yêu cầu: 2 (hiện tại trong giỏ: 1)
java.lang.IllegalStateException: Không đủ hàng trong kho. Sản phẩm: gau bongvang, Tồn kho khả dụng: 0, Số lượng mới yêu cầu: 2 (hiện tại trong giỏ: 1)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.OrderService.updateOrderItemQuantity(OrderService.java:158)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.CartService.updateCartItem(CartService.java:49)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CartController.updateQuantity(CartController.java:150)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CartController$1.lambda$updateItem$0(CartController.java:92)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:386)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ReadOnlyObjectWrapper.fireValueChangedEvent(ReadOnlyObjectWrapper.java:100)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase$Listener.invalidated(ObjectPropertyBase.java:234)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:376)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:147)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory.setValue(SpinnerValueFactory.java:146)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory$IntegerSpinnerValueFactory.increment(SpinnerValueFactory.java:599)
	at javafx.controls@21.0.6/javafx.scene.control.Spinner.increment(Spinner.java:408)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.increment(SpinnerBehavior.java:117)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.lambda$new$0(SpinnerBehavior.java:66)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.startSpinning(SpinnerBehavior.java:138)
	at javafx.controls@21.0.6/javafx.scene.control.skin.SpinnerSkin.lambda$new$1(SpinnerSkin.java:139)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 02:43:37.926 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:43:37.927 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 02:43:37.933 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:43:37.938 [JavaFX Application Thread] WARN  c.e.shopgaubong.service.StockService - Không tìm thấy StockItem cho Warehouse ID 2 và Item ID 2
2025-12-01 02:43:37.939 [JavaFX Application Thread] WARN  c.e.shopgaubong.service.StockService - Không tìm thấy StockItem cho Warehouse ID 2 và Item ID 2 khi lấy available quantity
2025-12-01 02:43:37.940 [JavaFX Application Thread] ERROR c.e.s.controller.CartController - Lỗi khi cập nhật số lượng: Không đủ hàng trong kho. Sản phẩm: gau bongvang, Tồn kho khả dụng: 0, Số lượng mới yêu cầu: 1 (hiện tại trong giỏ: 1)
java.lang.IllegalStateException: Không đủ hàng trong kho. Sản phẩm: gau bongvang, Tồn kho khả dụng: 0, Số lượng mới yêu cầu: 1 (hiện tại trong giỏ: 1)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.OrderService.updateOrderItemQuantity(OrderService.java:158)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.CartService.updateCartItem(CartService.java:49)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CartController.updateQuantity(CartController.java:150)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CartController$1.lambda$updateItem$0(CartController.java:92)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:386)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ReadOnlyObjectWrapper.fireValueChangedEvent(ReadOnlyObjectWrapper.java:100)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase$Listener.invalidated(ObjectPropertyBase.java:234)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:376)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:147)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory.setValue(SpinnerValueFactory.java:146)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CartController$1.updateItem(CartController.java:88)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CartController$1.updateItem(CartController.java:79)
	at javafx.controls@21.0.6/javafx.scene.control.TableCell.updateItem(TableCell.java:700)
	at javafx.controls@21.0.6/javafx.scene.control.TableCell.indexChanged(TableCell.java:485)
	at javafx.controls@21.0.6/javafx.scene.control.IndexedCell$1.invalidated(IndexedCell.java:85)
	at javafx.base@21.0.6/javafx.beans.property.IntegerPropertyBase.markInvalid(IntegerPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.IntegerPropertyBase.set(IntegerPropertyBase.java:148)
	at javafx.controls@21.0.6/javafx.scene.control.IndexedCell.updateIndex(IndexedCell.java:130)
	at javafx.controls@21.0.6/javafx.scene.control.skin.TableRowSkinBase.requestCellUpdate(TableRowSkinBase.java:701)
	at javafx.controls@21.0.6/javafx.scene.control.skin.TableRowSkinBase.lambda$new$1(TableRowSkinBase.java:167)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.LambdaMultiplePropertyChangeListenerHandler.lambda$new$2(LambdaMultiplePropertyChangeListenerHandler.java:95)
	at javafx.base@21.0.6/javafx.beans.WeakInvalidationListener.invalidated(WeakInvalidationListener.java:82)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$SingleInvalidation.fireValueChangedEvent(ExpressionHelper.java:147)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:147)
	at javafx.controls@21.0.6/javafx.scene.control.Cell.setItem(Cell.java:404)
	at javafx.controls@21.0.6/javafx.scene.control.Cell.updateItem(Cell.java:694)
	at javafx.controls@21.0.6/javafx.scene.control.TableRow.updateItem(TableRow.java:260)
	at javafx.controls@21.0.6/javafx.scene.control.TableRow.indexChanged(TableRow.java:226)
	at javafx.controls@21.0.6/javafx.scene.control.IndexedCell$1.invalidated(IndexedCell.java:85)
	at javafx.base@21.0.6/javafx.beans.property.IntegerPropertyBase.markInvalid(IntegerPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.IntegerPropertyBase.set(IntegerPropertyBase.java:148)
	at javafx.controls@21.0.6/javafx.scene.control.IndexedCell.updateIndex(IndexedCell.java:130)
	at javafx.controls@21.0.6/javafx.scene.control.skin.VirtualFlow.setCellIndex(VirtualFlow.java:1813)
	at javafx.controls@21.0.6/javafx.scene.control.skin.VirtualFlow.addTrailingCells(VirtualFlow.java:2200)
	at javafx.controls@21.0.6/javafx.scene.control.skin.VirtualFlow.layoutChildren(VirtualFlow.java:1328)
	at javafx.graphics@21.0.6/javafx.scene.Parent.layout(Parent.java:1208)
	at javafx.graphics@21.0.6/javafx.scene.Parent.layout(Parent.java:1215)
	at javafx.graphics@21.0.6/javafx.scene.Parent.layout(Parent.java:1215)
	at javafx.graphics@21.0.6/javafx.scene.Parent.layout(Parent.java:1215)
	at javafx.graphics@21.0.6/javafx.scene.Parent.layout(Parent.java:1215)
	at javafx.graphics@21.0.6/javafx.scene.Parent.layout(Parent.java:1215)
	at javafx.graphics@21.0.6/javafx.scene.Scene.doLayoutPass(Scene.java:594)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePulseListener.pulse(Scene.java:2600)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.Toolkit.lambda$runPulse$2(Toolkit.java:401)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.Toolkit.runPulse(Toolkit.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.Toolkit.firePulse(Toolkit.java:430)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:592)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:572)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.pulseFromQueue(QuantumToolkit.java:565)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.lambda$runToolkit$11(QuantumToolkit.java:352)
	at javafx.graphics@21.0.6/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 02:43:37.945 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:43:37.945 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 02:43:41.447 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:43:41.452 [JavaFX Application Thread] DEBUG c.e.shopgaubong.service.StockService - Check availability: Item ID 3, On Hand: 24, Reserved: 0, Available: 24, Required: 2, Result: true
2025-12-01 02:43:41.458 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 7 -> số lượng 2
2025-12-01 02:43:41.462 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:43:41.462 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 02:43:41.466 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:43:41.472 [JavaFX Application Thread] DEBUG c.e.shopgaubong.service.StockService - Check availability: Item ID 3, On Hand: 24, Reserved: 0, Available: 24, Required: 2, Result: true
2025-12-01 02:43:41.472 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 7 -> số lượng 2
2025-12-01 02:43:41.476 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:43:41.476 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 02:43:41.482 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:43:41.485 [JavaFX Application Thread] DEBUG c.e.shopgaubong.service.StockService - Check availability: Item ID 3, On Hand: 24, Reserved: 0, Available: 24, Required: 2, Result: true
2025-12-01 02:43:41.486 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 7 -> số lượng 2
2025-12-01 02:43:41.489 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:43:41.490 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 02:43:41.496 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:43:41.500 [JavaFX Application Thread] WARN  c.e.shopgaubong.service.StockService - Không tìm thấy StockItem cho Warehouse ID 2 và Item ID 2
2025-12-01 02:43:41.501 [JavaFX Application Thread] WARN  c.e.shopgaubong.service.StockService - Không tìm thấy StockItem cho Warehouse ID 2 và Item ID 2 khi lấy available quantity
2025-12-01 02:43:41.501 [JavaFX Application Thread] ERROR c.e.s.controller.CartController - Lỗi khi cập nhật số lượng: Không đủ hàng trong kho. Sản phẩm: gau bongvang, Tồn kho khả dụng: 0, Số lượng mới yêu cầu: 1 (hiện tại trong giỏ: 1)
java.lang.IllegalStateException: Không đủ hàng trong kho. Sản phẩm: gau bongvang, Tồn kho khả dụng: 0, Số lượng mới yêu cầu: 1 (hiện tại trong giỏ: 1)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.OrderService.updateOrderItemQuantity(OrderService.java:158)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.CartService.updateCartItem(CartService.java:49)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CartController.updateQuantity(CartController.java:150)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CartController$1.lambda$updateItem$0(CartController.java:92)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:386)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ReadOnlyObjectWrapper.fireValueChangedEvent(ReadOnlyObjectWrapper.java:100)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase$Listener.invalidated(ObjectPropertyBase.java:234)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:376)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:147)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory.setValue(SpinnerValueFactory.java:146)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CartController$1.updateItem(CartController.java:88)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CartController$1.updateItem(CartController.java:79)
	at javafx.controls@21.0.6/javafx.scene.control.TableCell.updateItem(TableCell.java:700)
	at javafx.controls@21.0.6/javafx.scene.control.TableCell.indexChanged(TableCell.java:485)
	at javafx.controls@21.0.6/javafx.scene.control.IndexedCell$1.invalidated(IndexedCell.java:85)
	at javafx.base@21.0.6/javafx.beans.property.IntegerPropertyBase.markInvalid(IntegerPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.IntegerPropertyBase.set(IntegerPropertyBase.java:148)
	at javafx.controls@21.0.6/javafx.scene.control.IndexedCell.updateIndex(IndexedCell.java:130)
	at javafx.controls@21.0.6/javafx.scene.control.skin.TableRowSkinBase.requestCellUpdate(TableRowSkinBase.java:701)
	at javafx.controls@21.0.6/javafx.scene.control.skin.TableRowSkinBase.lambda$new$1(TableRowSkinBase.java:167)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.LambdaMultiplePropertyChangeListenerHandler.lambda$new$2(LambdaMultiplePropertyChangeListenerHandler.java:95)
	at javafx.base@21.0.6/javafx.beans.WeakInvalidationListener.invalidated(WeakInvalidationListener.java:82)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$SingleInvalidation.fireValueChangedEvent(ExpressionHelper.java:147)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:147)
	at javafx.controls@21.0.6/javafx.scene.control.Cell.setItem(Cell.java:404)
	at javafx.controls@21.0.6/javafx.scene.control.Cell.updateItem(Cell.java:694)
	at javafx.controls@21.0.6/javafx.scene.control.TableRow.updateItem(TableRow.java:260)
	at javafx.controls@21.0.6/javafx.scene.control.TableRow.indexChanged(TableRow.java:226)
	at javafx.controls@21.0.6/javafx.scene.control.IndexedCell$1.invalidated(IndexedCell.java:85)
	at javafx.base@21.0.6/javafx.beans.property.IntegerPropertyBase.markInvalid(IntegerPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.IntegerPropertyBase.set(IntegerPropertyBase.java:148)
	at javafx.controls@21.0.6/javafx.scene.control.IndexedCell.updateIndex(IndexedCell.java:130)
	at javafx.controls@21.0.6/javafx.scene.control.skin.VirtualFlow.setCellIndex(VirtualFlow.java:1813)
	at javafx.controls@21.0.6/javafx.scene.control.skin.VirtualFlow.addTrailingCells(VirtualFlow.java:2200)
	at javafx.controls@21.0.6/javafx.scene.control.skin.VirtualFlow.layoutChildren(VirtualFlow.java:1328)
	at javafx.graphics@21.0.6/javafx.scene.Parent.layout(Parent.java:1208)
	at javafx.graphics@21.0.6/javafx.scene.Parent.layout(Parent.java:1215)
	at javafx.graphics@21.0.6/javafx.scene.Parent.layout(Parent.java:1215)
	at javafx.graphics@21.0.6/javafx.scene.Parent.layout(Parent.java:1215)
	at javafx.graphics@21.0.6/javafx.scene.Parent.layout(Parent.java:1215)
	at javafx.graphics@21.0.6/javafx.scene.Parent.layout(Parent.java:1215)
	at javafx.graphics@21.0.6/javafx.scene.Scene.doLayoutPass(Scene.java:594)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePulseListener.pulse(Scene.java:2600)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.Toolkit.lambda$runPulse$2(Toolkit.java:401)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.Toolkit.runPulse(Toolkit.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.Toolkit.firePulse(Toolkit.java:430)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:592)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.pulse(QuantumToolkit.java:572)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.pulseFromQueue(QuantumToolkit.java:565)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.lambda$runToolkit$11(QuantumToolkit.java:352)
	at javafx.graphics@21.0.6/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 02:43:41.505 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:43:41.505 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 02:43:49.358 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:43:49.363 [JavaFX Application Thread] DEBUG c.e.shopgaubong.service.StockService - Check availability: Item ID 3, On Hand: 24, Reserved: 0, Available: 24, Required: 3, Result: true
2025-12-01 02:43:49.370 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 7 -> số lượng 3
2025-12-01 02:43:49.373 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:43:49.374 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 02:43:49.377 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:43:49.383 [JavaFX Application Thread] DEBUG c.e.shopgaubong.service.StockService - Check availability: Item ID 3, On Hand: 24, Reserved: 0, Available: 24, Required: 3, Result: true
2025-12-01 02:43:49.384 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 7 -> số lượng 3
2025-12-01 02:43:49.387 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:43:49.387 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 02:43:49.394 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:43:49.399 [JavaFX Application Thread] DEBUG c.e.shopgaubong.service.StockService - Check availability: Item ID 3, On Hand: 24, Reserved: 0, Available: 24, Required: 3, Result: true
2025-12-01 02:43:49.400 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 7 -> số lượng 3
2025-12-01 02:43:49.404 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:43:49.404 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 02:43:49.410 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:43:49.415 [JavaFX Application Thread] DEBUG c.e.shopgaubong.service.StockService - Check availability: Item ID 3, On Hand: 24, Reserved: 0, Available: 24, Required: 3, Result: true
2025-12-01 02:43:49.415 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 7 -> số lượng 3
2025-12-01 02:43:49.423 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:43:49.423 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 02:43:54.302 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:43:54.305 [JavaFX Application Thread] DEBUG c.e.shopgaubong.service.StockService - Check availability: Item ID 3, On Hand: 24, Reserved: 0, Available: 24, Required: 4, Result: true
2025-12-01 02:43:54.312 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 7 -> số lượng 4
2025-12-01 02:43:54.315 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:43:54.315 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 02:43:54.319 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:43:54.326 [JavaFX Application Thread] DEBUG c.e.shopgaubong.service.StockService - Check availability: Item ID 3, On Hand: 24, Reserved: 0, Available: 24, Required: 4, Result: true
2025-12-01 02:43:54.327 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 7 -> số lượng 4
2025-12-01 02:43:54.330 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:43:54.330 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 02:43:54.335 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:43:54.340 [JavaFX Application Thread] DEBUG c.e.shopgaubong.service.StockService - Check availability: Item ID 3, On Hand: 24, Reserved: 0, Available: 24, Required: 4, Result: true
2025-12-01 02:43:54.341 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 7 -> số lượng 4
2025-12-01 02:43:54.343 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:43:54.344 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 02:43:54.349 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:43:54.357 [JavaFX Application Thread] DEBUG c.e.shopgaubong.service.StockService - Check availability: Item ID 3, On Hand: 24, Reserved: 0, Available: 24, Required: 4, Result: true
2025-12-01 02:43:54.358 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 7 -> số lượng 4
2025-12-01 02:43:54.360 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:43:54.361 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 02:43:54.365 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:43:54.370 [JavaFX Application Thread] DEBUG c.e.shopgaubong.service.StockService - Check availability: Item ID 3, On Hand: 24, Reserved: 0, Available: 24, Required: 4, Result: true
2025-12-01 02:43:54.371 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 7 -> số lượng 4
2025-12-01 02:43:54.373 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:43:54.374 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 02:43:58.834 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:43:58.836 [JavaFX Application Thread] WARN  c.e.shopgaubong.service.StockService - Không tìm thấy StockItem cho Warehouse ID 2 và Item ID 2
2025-12-01 02:43:58.837 [JavaFX Application Thread] WARN  c.e.shopgaubong.service.StockService - Không tìm thấy StockItem cho Warehouse ID 2 và Item ID 2 khi lấy available quantity
2025-12-01 02:43:58.838 [JavaFX Application Thread] ERROR c.e.s.controller.CartController - Lỗi khi cập nhật số lượng: Không đủ hàng trong kho. Sản phẩm: gau bongvang, Tồn kho khả dụng: 0, Số lượng mới yêu cầu: 2 (hiện tại trong giỏ: 1)
java.lang.IllegalStateException: Không đủ hàng trong kho. Sản phẩm: gau bongvang, Tồn kho khả dụng: 0, Số lượng mới yêu cầu: 2 (hiện tại trong giỏ: 1)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.OrderService.updateOrderItemQuantity(OrderService.java:158)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.CartService.updateCartItem(CartService.java:49)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CartController.updateQuantity(CartController.java:150)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CartController$1.lambda$updateItem$0(CartController.java:92)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:386)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ReadOnlyObjectWrapper.fireValueChangedEvent(ReadOnlyObjectWrapper.java:100)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase$Listener.invalidated(ObjectPropertyBase.java:234)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:376)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:147)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory.setValue(SpinnerValueFactory.java:146)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory$IntegerSpinnerValueFactory.increment(SpinnerValueFactory.java:599)
	at javafx.controls@21.0.6/javafx.scene.control.Spinner.increment(Spinner.java:408)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.increment(SpinnerBehavior.java:117)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.lambda$new$0(SpinnerBehavior.java:66)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.startSpinning(SpinnerBehavior.java:138)
	at javafx.controls@21.0.6/javafx.scene.control.skin.SpinnerSkin.lambda$new$1(SpinnerSkin.java:139)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 02:43:58.841 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:43:58.842 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 02:43:58.845 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:43:58.849 [JavaFX Application Thread] WARN  c.e.shopgaubong.service.StockService - Không tìm thấy StockItem cho Warehouse ID 2 và Item ID 2
2025-12-01 02:43:58.851 [JavaFX Application Thread] WARN  c.e.shopgaubong.service.StockService - Không tìm thấy StockItem cho Warehouse ID 2 và Item ID 2 khi lấy available quantity
2025-12-01 02:43:58.851 [JavaFX Application Thread] ERROR c.e.s.controller.CartController - Lỗi khi cập nhật số lượng: Không đủ hàng trong kho. Sản phẩm: gau bongvang, Tồn kho khả dụng: 0, Số lượng mới yêu cầu: 2 (hiện tại trong giỏ: 1)
java.lang.IllegalStateException: Không đủ hàng trong kho. Sản phẩm: gau bongvang, Tồn kho khả dụng: 0, Số lượng mới yêu cầu: 2 (hiện tại trong giỏ: 1)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.OrderService.updateOrderItemQuantity(OrderService.java:158)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.CartService.updateCartItem(CartService.java:49)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CartController.updateQuantity(CartController.java:150)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CartController$1.lambda$updateItem$0(CartController.java:92)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:386)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ReadOnlyObjectWrapper.fireValueChangedEvent(ReadOnlyObjectWrapper.java:100)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase$Listener.invalidated(ObjectPropertyBase.java:234)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:376)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:147)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory.setValue(SpinnerValueFactory.java:146)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory$IntegerSpinnerValueFactory.increment(SpinnerValueFactory.java:599)
	at javafx.controls@21.0.6/javafx.scene.control.Spinner.increment(Spinner.java:408)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.increment(SpinnerBehavior.java:117)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.lambda$new$0(SpinnerBehavior.java:66)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.startSpinning(SpinnerBehavior.java:138)
	at javafx.controls@21.0.6/javafx.scene.control.skin.SpinnerSkin.lambda$new$1(SpinnerSkin.java:139)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 02:43:58.855 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:43:58.855 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 02:43:58.858 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:43:58.862 [JavaFX Application Thread] WARN  c.e.shopgaubong.service.StockService - Không tìm thấy StockItem cho Warehouse ID 2 và Item ID 2
2025-12-01 02:43:58.863 [JavaFX Application Thread] WARN  c.e.shopgaubong.service.StockService - Không tìm thấy StockItem cho Warehouse ID 2 và Item ID 2 khi lấy available quantity
2025-12-01 02:43:58.863 [JavaFX Application Thread] ERROR c.e.s.controller.CartController - Lỗi khi cập nhật số lượng: Không đủ hàng trong kho. Sản phẩm: gau bongvang, Tồn kho khả dụng: 0, Số lượng mới yêu cầu: 2 (hiện tại trong giỏ: 1)
java.lang.IllegalStateException: Không đủ hàng trong kho. Sản phẩm: gau bongvang, Tồn kho khả dụng: 0, Số lượng mới yêu cầu: 2 (hiện tại trong giỏ: 1)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.OrderService.updateOrderItemQuantity(OrderService.java:158)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.CartService.updateCartItem(CartService.java:49)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CartController.updateQuantity(CartController.java:150)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CartController$1.lambda$updateItem$0(CartController.java:92)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:386)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ReadOnlyObjectWrapper.fireValueChangedEvent(ReadOnlyObjectWrapper.java:100)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase$Listener.invalidated(ObjectPropertyBase.java:234)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:376)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:147)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory.setValue(SpinnerValueFactory.java:146)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory$IntegerSpinnerValueFactory.increment(SpinnerValueFactory.java:599)
	at javafx.controls@21.0.6/javafx.scene.control.Spinner.increment(Spinner.java:408)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.increment(SpinnerBehavior.java:117)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.lambda$new$0(SpinnerBehavior.java:66)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.startSpinning(SpinnerBehavior.java:138)
	at javafx.controls@21.0.6/javafx.scene.control.skin.SpinnerSkin.lambda$new$1(SpinnerSkin.java:139)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 02:43:58.866 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:43:58.867 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 02:44:04.290 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:44:04.311 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Xóa toàn bộ giỏ hàng cho khách hàng ID 3
2025-12-01 02:44:04.314 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:44:04.314 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 0 sản phẩm
2025-12-01 02:44:08.234 [JavaFX Application Thread] DEBUG c.e.shopgaubong.service.StockService - Check availability: Item ID 2, On Hand: 100, Reserved: 1, Available: 99, Required: 1, Result: true
2025-12-01 02:44:08.243 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.OrderService - Thêm sản phẩm vào đơn hàng ORD-20251201024257-713: gau bongvang x1
2025-12-01 02:44:11.658 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:44:11.658 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 02:44:12.915 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:44:12.918 [JavaFX Application Thread] WARN  c.e.shopgaubong.service.StockService - Không tìm thấy StockItem cho Warehouse ID 2 và Item ID 2
2025-12-01 02:44:12.918 [JavaFX Application Thread] WARN  c.e.shopgaubong.service.StockService - Không tìm thấy StockItem cho Warehouse ID 2 và Item ID 2 khi lấy available quantity
2025-12-01 02:44:12.919 [JavaFX Application Thread] ERROR c.e.s.controller.CartController - Lỗi khi cập nhật số lượng: Không đủ hàng trong kho. Sản phẩm: gau bongvang, Tồn kho khả dụng: 0, Số lượng mới yêu cầu: 2 (hiện tại trong giỏ: 1)
java.lang.IllegalStateException: Không đủ hàng trong kho. Sản phẩm: gau bongvang, Tồn kho khả dụng: 0, Số lượng mới yêu cầu: 2 (hiện tại trong giỏ: 1)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.OrderService.updateOrderItemQuantity(OrderService.java:158)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.CartService.updateCartItem(CartService.java:49)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CartController.updateQuantity(CartController.java:150)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CartController$1.lambda$updateItem$0(CartController.java:92)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:386)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ReadOnlyObjectWrapper.fireValueChangedEvent(ReadOnlyObjectWrapper.java:100)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase$Listener.invalidated(ObjectPropertyBase.java:234)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:376)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:147)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory.setValue(SpinnerValueFactory.java:146)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory$IntegerSpinnerValueFactory.increment(SpinnerValueFactory.java:599)
	at javafx.controls@21.0.6/javafx.scene.control.Spinner.increment(Spinner.java:408)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.increment(SpinnerBehavior.java:117)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.lambda$new$0(SpinnerBehavior.java:66)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.startSpinning(SpinnerBehavior.java:138)
	at javafx.controls@21.0.6/javafx.scene.control.skin.SpinnerSkin.lambda$new$1(SpinnerSkin.java:139)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 02:44:12.922 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:44:12.922 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 02:44:20.610 [JavaFX Application Thread] DEBUG c.e.shopgaubong.service.StockService - Check availability: Item ID 3, On Hand: 100, Reserved: 0, Available: 100, Required: 1, Result: true
2025-12-01 02:44:20.619 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.OrderService - Thêm sản phẩm vào đơn hàng ORD-20251201024257-713: gau bong moc khoa mau vang x1
2025-12-01 02:44:22.198 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:44:22.198 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 02:44:24.199 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:44:24.204 [JavaFX Application Thread] DEBUG c.e.shopgaubong.service.StockService - Check availability: Item ID 3, On Hand: 24, Reserved: 0, Available: 24, Required: 2, Result: true
2025-12-01 02:44:24.210 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 10 -> số lượng 2
2025-12-01 02:44:24.212 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:44:24.212 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 02:44:25.974 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:44:25.978 [JavaFX Application Thread] DEBUG c.e.shopgaubong.service.StockService - Check availability: Item ID 3, On Hand: 24, Reserved: 0, Available: 24, Required: 3, Result: true
2025-12-01 02:44:25.985 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 10 -> số lượng 3
2025-12-01 02:44:25.987 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:44:25.987 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 02:44:25.992 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:44:25.995 [JavaFX Application Thread] DEBUG c.e.shopgaubong.service.StockService - Check availability: Item ID 3, On Hand: 24, Reserved: 0, Available: 24, Required: 3, Result: true
2025-12-01 02:44:25.995 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 10 -> số lượng 3
2025-12-01 02:44:25.998 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:44:25.999 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 02:44:28.339 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:44:28.343 [JavaFX Application Thread] DEBUG c.e.shopgaubong.service.StockService - Check availability: Item ID 3, On Hand: 24, Reserved: 0, Available: 24, Required: 4, Result: true
2025-12-01 02:44:28.348 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 10 -> số lượng 4
2025-12-01 02:44:28.350 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:44:28.351 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 02:44:28.354 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:44:28.357 [JavaFX Application Thread] DEBUG c.e.shopgaubong.service.StockService - Check availability: Item ID 3, On Hand: 24, Reserved: 0, Available: 24, Required: 4, Result: true
2025-12-01 02:44:28.357 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 10 -> số lượng 4
2025-12-01 02:44:28.359 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:44:28.360 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 02:44:28.374 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:44:28.385 [JavaFX Application Thread] DEBUG c.e.shopgaubong.service.StockService - Check availability: Item ID 3, On Hand: 24, Reserved: 0, Available: 24, Required: 4, Result: true
2025-12-01 02:44:28.386 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 10 -> số lượng 4
2025-12-01 02:44:28.388 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:44:28.390 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 02:44:31.520 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:44:31.525 [JavaFX Application Thread] DEBUG c.e.shopgaubong.service.StockService - Check availability: Item ID 3, On Hand: 24, Reserved: 0, Available: 24, Required: 5, Result: true
2025-12-01 02:44:31.531 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 10 -> số lượng 5
2025-12-01 02:44:31.535 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:44:31.535 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 02:44:31.538 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:44:31.541 [JavaFX Application Thread] DEBUG c.e.shopgaubong.service.StockService - Check availability: Item ID 3, On Hand: 24, Reserved: 0, Available: 24, Required: 5, Result: true
2025-12-01 02:44:31.542 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 10 -> số lượng 5
2025-12-01 02:44:31.543 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:44:31.544 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 02:44:31.549 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:44:31.553 [JavaFX Application Thread] DEBUG c.e.shopgaubong.service.StockService - Check availability: Item ID 3, On Hand: 24, Reserved: 0, Available: 24, Required: 5, Result: true
2025-12-01 02:44:31.554 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 10 -> số lượng 5
2025-12-01 02:44:31.557 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:44:31.557 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 02:44:31.563 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:44:31.566 [JavaFX Application Thread] DEBUG c.e.shopgaubong.service.StockService - Check availability: Item ID 3, On Hand: 24, Reserved: 0, Available: 24, Required: 5, Result: true
2025-12-01 02:44:31.567 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 10 -> số lượng 5
2025-12-01 02:44:31.569 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:44:31.569 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 02:44:34.850 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:44:34.854 [JavaFX Application Thread] DEBUG c.e.shopgaubong.service.StockService - Check availability: Item ID 3, On Hand: 24, Reserved: 0, Available: 24, Required: 6, Result: true
2025-12-01 02:44:34.860 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 10 -> số lượng 6
2025-12-01 02:44:34.863 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:44:34.863 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 02:44:34.867 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:44:34.870 [JavaFX Application Thread] DEBUG c.e.shopgaubong.service.StockService - Check availability: Item ID 3, On Hand: 24, Reserved: 0, Available: 24, Required: 6, Result: true
2025-12-01 02:44:34.871 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 10 -> số lượng 6
2025-12-01 02:44:34.874 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:44:34.874 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 02:44:34.878 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:44:34.882 [JavaFX Application Thread] DEBUG c.e.shopgaubong.service.StockService - Check availability: Item ID 3, On Hand: 24, Reserved: 0, Available: 24, Required: 6, Result: true
2025-12-01 02:44:34.882 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 10 -> số lượng 6
2025-12-01 02:44:34.885 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:44:34.885 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 02:44:34.890 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:44:34.895 [JavaFX Application Thread] DEBUG c.e.shopgaubong.service.StockService - Check availability: Item ID 3, On Hand: 24, Reserved: 0, Available: 24, Required: 6, Result: true
2025-12-01 02:44:34.895 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 10 -> số lượng 6
2025-12-01 02:44:34.898 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:44:34.898 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 02:44:34.901 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:44:34.905 [JavaFX Application Thread] DEBUG c.e.shopgaubong.service.StockService - Check availability: Item ID 3, On Hand: 24, Reserved: 0, Available: 24, Required: 6, Result: true
2025-12-01 02:44:34.905 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 10 -> số lượng 6
2025-12-01 02:44:34.907 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:44:34.907 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 02:44:39.443 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:44:39.448 [JavaFX Application Thread] DEBUG c.e.shopgaubong.service.StockService - Check availability: Item ID 3, On Hand: 24, Reserved: 0, Available: 24, Required: 7, Result: true
2025-12-01 02:44:39.453 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 10 -> số lượng 7
2025-12-01 02:44:39.455 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:44:39.455 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 02:44:39.458 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:44:39.461 [JavaFX Application Thread] DEBUG c.e.shopgaubong.service.StockService - Check availability: Item ID 3, On Hand: 24, Reserved: 0, Available: 24, Required: 7, Result: true
2025-12-01 02:44:39.461 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 10 -> số lượng 7
2025-12-01 02:44:39.463 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:44:39.463 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 02:44:39.469 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:44:39.473 [JavaFX Application Thread] DEBUG c.e.shopgaubong.service.StockService - Check availability: Item ID 3, On Hand: 24, Reserved: 0, Available: 24, Required: 7, Result: true
2025-12-01 02:44:39.474 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 10 -> số lượng 7
2025-12-01 02:44:39.476 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:44:39.476 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 02:44:39.480 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:44:39.483 [JavaFX Application Thread] DEBUG c.e.shopgaubong.service.StockService - Check availability: Item ID 3, On Hand: 24, Reserved: 0, Available: 24, Required: 7, Result: true
2025-12-01 02:44:39.485 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 10 -> số lượng 7
2025-12-01 02:44:39.487 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:44:39.487 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 02:44:39.491 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:44:39.495 [JavaFX Application Thread] DEBUG c.e.shopgaubong.service.StockService - Check availability: Item ID 3, On Hand: 24, Reserved: 0, Available: 24, Required: 7, Result: true
2025-12-01 02:44:39.495 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 10 -> số lượng 7
2025-12-01 02:44:39.498 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:44:39.498 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 02:44:39.501 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:44:39.504 [JavaFX Application Thread] DEBUG c.e.shopgaubong.service.StockService - Check availability: Item ID 3, On Hand: 24, Reserved: 0, Available: 24, Required: 7, Result: true
2025-12-01 02:44:39.504 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 10 -> số lượng 7
2025-12-01 02:44:39.506 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:44:39.506 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 02:44:55.237 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:44:55.237 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 02:44:55.245 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:44:55.248 [JavaFX Application Thread] DEBUG c.e.shopgaubong.service.StockService - Check availability: Item ID 3, On Hand: 24, Reserved: 0, Available: 24, Required: 7, Result: true
2025-12-01 02:44:55.249 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 10 -> số lượng 7
2025-12-01 02:44:55.251 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:44:55.251 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 02:44:55.259 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:44:55.262 [JavaFX Application Thread] DEBUG c.e.shopgaubong.service.StockService - Check availability: Item ID 3, On Hand: 24, Reserved: 0, Available: 24, Required: 7, Result: true
2025-12-01 02:44:55.263 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 10 -> số lượng 7
2025-12-01 02:44:55.264 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:44:55.264 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 2 sản phẩm
2025-12-01 02:45:06.233 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:45:06.248 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Xóa toàn bộ giỏ hàng cho khách hàng ID 3
2025-12-01 02:45:06.251 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:45:06.251 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 0 sản phẩm
2025-12-01 02:45:08.174 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng xuất: customer
2025-12-01 02:45:09.215 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 02:45:09.221 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-01 02:45:21.098 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 02:45:21.209 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 02:45:21.233 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 02:45:21.253 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 02:45:21.430 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 02:45:21.435 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 02:45:21.435 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 02:45:21.435 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 02:45:21.435 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 02:45:21.437 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 02:45:21.574 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 02:45:21.920 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 02:45:22.575 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@5111f814] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 02:45:22.649 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 02:45:22.881 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 02:45:22.958 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-01 02:45:22.958 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 02:45:35.763 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: customer
2025-12-01 02:45:42.292 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:45:42.292 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 0 sản phẩm
2025-12-01 02:45:43.053 [JavaFX Application Thread] INFO  c.e.s.c.CustomerOrderController - Tải đơn hàng thành công: 3 đơn
2025-12-01 02:45:44.470 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 3: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:45:44.776 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 2: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:45:45.006 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 1: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:45:45.615 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 3: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:45:46.059 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 2: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:45:46.323 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 1: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:45:56.672 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 02:45:56.679 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-01 02:57:02.117 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 02:57:02.232 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 02:57:02.251 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 02:57:02.267 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 02:57:02.429 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 02:57:02.432 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 02:57:02.432 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 02:57:02.432 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 02:57:02.432 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 02:57:02.435 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 02:57:02.583 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 02:57:02.904 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 02:57:03.515 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@64f33dee] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 02:57:03.589 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 02:57:03.846 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 02:57:03.934 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-01 02:57:03.934 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 02:57:11.293 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: customer
2025-12-01 02:57:12.787 [JavaFX Application Thread] INFO  c.e.s.c.CustomerProfileController - Loaded account information for user: customer
2025-12-01 02:57:12.787 [JavaFX Application Thread] INFO  c.e.s.c.CustomerProfileController - Loaded profile data for user: customer
2025-12-01 02:57:40.486 [JavaFX Application Thread] INFO  c.example.shopgaubong.dao.AccountDAO - Đã cập nhật entity: com.example.shopgaubong.entity.Account@3fab82d3
2025-12-01 02:57:40.486 [JavaFX Application Thread] INFO  c.e.s.service.ProfileService - Updated profile for account ID: 3
2025-12-01 02:57:41.680 [JavaFX Application Thread] INFO  c.e.s.c.CustomerProfileController - Loaded account information for user: customer
2025-12-01 02:57:41.681 [JavaFX Application Thread] INFO  c.e.s.c.CustomerProfileController - Loaded profile data for user: customer
2025-12-01 02:57:41.681 [JavaFX Application Thread] INFO  c.e.s.c.CustomerProfileController - Profile updated successfully for user: customer
2025-12-01 02:57:56.325 [JavaFX Application Thread] INFO  c.e.s.c.CustomerProfileController - Loaded account information for user: customer
2025-12-01 02:57:56.325 [JavaFX Application Thread] INFO  c.e.s.c.CustomerProfileController - Loaded profile data for user: customer
2025-12-01 02:57:56.998 [JavaFX Application Thread] INFO  c.e.s.c.CustomerProfileController - Loaded account information for user: customer
2025-12-01 02:57:57.000 [JavaFX Application Thread] INFO  c.e.s.c.CustomerProfileController - Loaded profile data for user: customer
2025-12-01 02:58:01.987 [JavaFX Application Thread] INFO  c.e.s.c.CustomerProfileController - Loaded profile data for user: customer
2025-12-01 02:58:19.159 [JavaFX Application Thread] INFO  c.e.s.c.CustomerProfileController - Loaded profile data for user: customer
2025-12-01 02:58:26.665 [JavaFX Application Thread] INFO  c.e.s.c.CustomerProfileController - Loaded account information for user: customer
2025-12-01 02:58:26.665 [JavaFX Application Thread] INFO  c.e.s.c.CustomerProfileController - Loaded profile data for user: customer
2025-12-01 02:58:27.668 [JavaFX Application Thread] INFO  c.e.s.c.CustomerOrderController - Tải đơn hàng thành công: 3 đơn
2025-12-01 02:58:28.097 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:58:28.098 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 0 sản phẩm
2025-12-01 02:58:29.163 [JavaFX Application Thread] INFO  c.e.s.c.CustomerOrderController - Tải đơn hàng thành công: 3 đơn
2025-12-01 02:58:29.969 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:58:29.969 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 0 sản phẩm
2025-12-01 02:58:31.431 [JavaFX Application Thread] INFO  c.e.s.c.CustomerProfileController - Loaded account information for user: customer
2025-12-01 02:58:31.431 [JavaFX Application Thread] INFO  c.e.s.c.CustomerProfileController - Loaded profile data for user: customer
2025-12-01 02:58:32.116 [JavaFX Application Thread] INFO  c.e.s.c.CustomerOrderController - Tải đơn hàng thành công: 3 đơn
2025-12-01 02:58:32.469 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 02:58:32.469 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 0 sản phẩm
2025-12-01 02:58:34.000 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 02:58:34.006 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-01 03:02:14.090 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 03:02:14.250 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 03:02:14.274 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 03:02:14.295 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 03:02:14.494 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 03:02:14.498 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 03:02:14.498 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 03:02:14.499 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 03:02:14.499 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 03:02:14.500 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 03:02:14.654 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 03:02:14.987 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 03:02:15.693 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@f439e0f] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 03:02:15.765 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 03:02:16.005 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 03:02:16.070 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-01 03:02:16.070 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 03:02:23.441 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: customer
2025-12-01 03:02:25.331 [JavaFX Application Thread] INFO  c.e.s.c.CustomerProfileController - Loaded account information for user: customer
2025-12-01 03:02:25.331 [JavaFX Application Thread] INFO  c.e.s.c.CustomerProfileController - Loaded profile data for user: customer
2025-12-01 03:02:45.764 [JavaFX Application Thread] INFO  c.example.shopgaubong.dao.AccountDAO - Đã cập nhật entity: com.example.shopgaubong.entity.Account@2ecfdfa8
2025-12-01 03:02:45.764 [JavaFX Application Thread] INFO  c.e.s.service.ProfileService - Updated profile for account ID: 3
2025-12-01 03:02:46.657 [JavaFX Application Thread] INFO  c.e.s.c.CustomerProfileController - Loaded account information for user: customer
2025-12-01 03:02:46.658 [JavaFX Application Thread] INFO  c.e.s.c.CustomerProfileController - Loaded profile data for user: customer
2025-12-01 03:02:46.658 [JavaFX Application Thread] INFO  c.e.s.c.CustomerProfileController - Profile updated successfully for user: customer
2025-12-01 03:02:47.426 [JavaFX Application Thread] INFO  c.e.s.c.CustomerProfileController - Loaded account information for user: customer
2025-12-01 03:02:47.427 [JavaFX Application Thread] INFO  c.e.s.c.CustomerProfileController - Loaded profile data for user: customer
2025-12-01 03:02:48.120 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 03:02:48.121 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 0 sản phẩm
2025-12-01 03:02:53.189 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng xuất: customer
2025-12-01 03:02:57.802 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: staff
2025-12-01 03:03:00.875 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 4 stock items
2025-12-01 03:03:00.875 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - StockManagementController initialized
2025-12-01 03:03:03.976 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tải kho thành công: 2 kho
2025-12-01 03:03:07.599 [JavaFX Application Thread] INFO  c.e.s.c.OrderManagementController - Tải đơn hàng thành công: 3 đơn
2025-12-01 03:03:19.088 [JavaFX Application Thread] INFO  c.e.s.c.OrderManagementController - Tải đơn hàng thành công: 3 đơn
2025-12-01 03:03:20.555 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng xuất: staff
2025-12-01 03:03:30.368 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: admin
2025-12-01 03:03:47.704 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tải kho thành công: 2 kho
2025-12-01 03:03:49.168 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tải kho thành công: 2 kho
2025-12-01 03:03:50.518 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 4 stock items
2025-12-01 03:03:50.518 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - StockManagementController initialized
2025-12-01 03:04:00.123 [JavaFX Application Thread] INFO  c.e.s.c.OrderManagementController - Tải đơn hàng thành công: 3 đơn
2025-12-01 03:04:01.221 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 1: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 03:04:01.647 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 2: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 03:04:29.239 [JavaFX Application Thread] ERROR c.e.s.c.PromotionManagementController - Lỗi khi tải khuyến mãi: Cannot invoke "com.example.shopgaubong.service.PromotionService.getAllPromotions()" because "this.promotionService" is null
java.lang.NullPointerException: Cannot invoke "com.example.shopgaubong.service.PromotionService.getAllPromotions()" because "this.promotionService" is null
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.PromotionManagementController.loadPromotions(PromotionManagementController.java:159)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.PromotionManagementController.initialize(PromotionManagementController.java:78)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at javafx.base@21.0.6/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)
	at javafx.fxml@21.0.6/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2688)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2563)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2531)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.AdminMainController.loadView(AdminMainController.java:102)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.AdminMainController.handleManagePromotions(AdminMainController.java:68)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at javafx.base@21.0.6/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)
	at javafx.fxml@21.0.6/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1855)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1726)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Node.fireEvent(Node.java:8875)
	at javafx.controls@21.0.6/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 03:04:32.958 [JavaFX Application Thread] INFO  c.e.s.c.OrderManagementController - Tải đơn hàng thành công: 3 đơn
2025-12-01 03:04:44.999 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 03:04:45.007 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-01 03:11:59.366 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 03:11:59.504 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 03:11:59.529 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 03:11:59.548 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 03:11:59.753 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 03:11:59.757 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 03:11:59.757 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 03:11:59.757 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 03:11:59.757 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 03:11:59.759 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 03:11:59.907 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 03:12:00.276 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 03:12:00.929 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@52f7fa65] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 03:12:01.002 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 03:12:01.251 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 03:12:01.316 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-01 03:12:01.316 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 03:12:09.537 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: admin
2025-12-01 03:12:12.130 [JavaFX Application Thread] INFO  c.e.s.c.UserManagementController - Loaded 3 accounts
2025-12-01 03:12:37.078 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 4 stock items
2025-12-01 03:12:37.078 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - StockManagementController initialized
2025-12-01 03:12:53.150 [JavaFX Application Thread] INFO  c.e.s.c.OrderManagementController - Tải đơn hàng thành công: 3 đơn
2025-12-01 03:12:55.065 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 4 stock items
2025-12-01 03:12:55.066 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - StockManagementController initialized
2025-12-01 03:12:59.004 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tải kho thành công: 2 kho
2025-12-01 03:13:05.823 [JavaFX Application Thread] INFO  c.e.s.c.UserManagementController - Loaded 3 accounts
2025-12-01 03:13:22.191 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 03:13:22.199 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-01 03:18:33.230 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 03:18:33.338 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 03:18:33.359 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 03:18:33.378 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 03:18:33.566 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 03:18:33.571 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 03:18:33.571 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 03:18:33.571 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 03:18:33.571 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 03:18:33.573 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 03:18:33.712 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 03:18:34.051 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 03:18:34.700 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@535be281] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 03:18:34.790 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 03:18:35.030 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 03:18:35.100 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-01 03:18:35.100 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 03:18:43.080 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: customer
2025-12-01 03:18:48.048 [JavaFX Application Thread] INFO  c.e.s.c.CustomerOrderController - Tải đơn hàng thành công: 3 đơn
2025-12-01 03:18:49.858 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 03:18:49.864 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-01 03:22:05.644 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 03:22:05.810 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 03:22:05.841 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 03:22:05.874 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 03:22:06.073 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 03:22:06.078 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 03:22:06.078 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 03:22:06.079 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 03:22:06.079 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 03:22:06.080 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 03:22:06.217 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 03:22:06.551 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 03:22:07.200 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@20db19ff] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 03:22:07.275 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 03:22:07.514 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 03:22:07.594 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-01 03:22:07.594 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 03:22:12.911 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: admin
2025-12-01 03:22:31.221 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 03:22:31.336 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 03:22:31.356 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 03:22:31.374 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 03:22:31.560 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 03:22:31.565 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 03:22:31.566 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 03:22:31.566 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 03:22:31.566 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 03:22:31.568 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 03:22:31.698 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 03:22:32.032 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 03:22:32.689 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@535be281] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 03:22:32.768 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 03:22:33.009 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 03:22:33.081 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-01 03:22:33.081 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 03:22:37.877 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: admin
2025-12-01 03:22:41.036 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng xuất: admin
2025-12-01 03:22:46.362 [JavaFX Application Thread] WARN  c.e.shopgaubong.service.AuthService - Đăng nhập thất bại: Tài khoản stafff không tồn tại
2025-12-01 03:22:49.911 [JavaFX Application Thread] WARN  c.e.shopgaubong.service.AuthService - Đăng nhập thất bại: Tài khoản stafff không tồn tại
2025-12-01 03:22:52.848 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: staff
2025-12-01 03:22:54.169 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng xuất: staff
2025-12-01 03:23:00.699 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: customer
2025-12-01 03:23:02.249 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng xuất: customer
2025-12-01 03:23:03.163 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 03:23:03.168 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-01 03:23:40.343 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 03:23:40.460 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 03:23:40.479 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 03:23:40.496 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 03:23:40.679 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 03:23:40.684 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 03:23:40.684 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 03:23:40.684 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 03:23:40.684 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 03:23:40.685 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 03:23:40.818 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 03:23:41.153 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 03:23:41.832 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@535be281] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 03:23:41.907 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 03:23:42.148 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 03:23:42.228 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-01 03:23:42.228 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 03:23:48.309 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: customer
2025-12-01 03:23:51.623 [JavaFX Application Thread] INFO  c.e.s.c.CustomerOrderController - Tải đơn hàng thành công: 3 đơn
2025-12-01 03:23:53.934 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng xuất: customer
2025-12-01 03:23:55.911 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 03:23:55.918 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-01 03:48:43.397 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 03:48:43.523 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 03:48:43.543 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 03:48:43.562 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 03:48:43.751 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 03:48:43.753 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 03:48:43.755 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 03:48:43.755 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 03:48:43.755 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 03:48:43.757 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 03:48:43.913 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 03:48:44.228 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 03:48:44.850 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@24a7d3d3] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 03:48:44.928 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 03:48:45.153 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 03:48:45.228 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-01 03:48:45.229 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 03:48:51.497 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: customer
2025-12-01 03:48:52.666 [JavaFX Application Thread] INFO  c.e.s.c.CustomerOrderController - Tải đơn hàng thành công: 3 đơn
2025-12-01 03:48:54.392 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 3: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 03:48:55.833 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 03:48:55.833 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 0 sản phẩm
2025-12-01 03:48:59.715 [JavaFX Application Thread] DEBUG c.e.shopgaubong.service.StockService - Check availability: Item ID 2, On Hand: 100, Reserved: 1, Available: 99, Required: 1, Result: true
2025-12-01 03:48:59.748 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.OrderService - Thêm sản phẩm vào đơn hàng ORD-20251201024257-713: gau bongvang x1
2025-12-01 03:49:01.729 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 03:49:01.730 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 03:49:03.225 [JavaFX Application Thread] ERROR c.e.s.controller.CartController - Lỗi khi chuyển sang checkout: 
/C:/Users/PC/eclipse-workspace/shopgaubong/target/classes/com/example/shopgaubong/checkout-view.fxml:114

javafx.fxml.LoadException: 
/C:/Users/PC/eclipse-workspace/shopgaubong/target/classes/com/example/shopgaubong/checkout-view.fxml:114

	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2722)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2665)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2563)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2531)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController.handleCheckout(CartController.java:240)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at javafx.base@21.0.6/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)
	at javafx.fxml@21.0.6/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1855)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1726)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Node.fireEvent(Node.java:8875)
	at javafx.controls@21.0.6/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: javax.xml.stream.XMLStreamException: ParseError at [row,col]:[114,19]
Message: The element type "VBox" must be terminated by the matching end-tag "</VBox>".
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLStreamReaderImpl.next(XMLStreamReaderImpl.java:652)
	at java.xml/javax.xml.stream.util.StreamReaderDelegate.next(StreamReaderDelegate.java:84)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2635)
	... 57 common frames omitted
2025-12-01 03:49:12.788 [JavaFX Application Thread] INFO  c.e.s.c.CustomerOrderController - Tải đơn hàng thành công: 3 đơn
2025-12-01 03:49:13.667 [JavaFX Application Thread] INFO  c.e.s.c.CustomerProfileController - Loaded account information for user: customer
2025-12-01 03:49:13.667 [JavaFX Application Thread] INFO  c.e.s.c.CustomerProfileController - Loaded profile data for user: customer
2025-12-01 03:49:14.680 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 03:49:14.680 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 03:49:16.224 [JavaFX Application Thread] ERROR c.e.s.controller.CartController - Lỗi khi chuyển sang checkout: 
/C:/Users/PC/eclipse-workspace/shopgaubong/target/classes/com/example/shopgaubong/checkout-view.fxml:114

javafx.fxml.LoadException: 
/C:/Users/PC/eclipse-workspace/shopgaubong/target/classes/com/example/shopgaubong/checkout-view.fxml:114

	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2722)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2665)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2563)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2531)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController.handleCheckout(CartController.java:240)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at javafx.base@21.0.6/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)
	at javafx.fxml@21.0.6/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1855)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1726)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Node.fireEvent(Node.java:8875)
	at javafx.controls@21.0.6/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: javax.xml.stream.XMLStreamException: ParseError at [row,col]:[114,19]
Message: The element type "VBox" must be terminated by the matching end-tag "</VBox>".
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLStreamReaderImpl.next(XMLStreamReaderImpl.java:652)
	at java.xml/javax.xml.stream.util.StreamReaderDelegate.next(StreamReaderDelegate.java:84)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2635)
	... 57 common frames omitted
2025-12-01 03:49:19.595 [JavaFX Application Thread] ERROR c.e.s.controller.CartController - Lỗi khi chuyển sang checkout: 
/C:/Users/PC/eclipse-workspace/shopgaubong/target/classes/com/example/shopgaubong/checkout-view.fxml:114

javafx.fxml.LoadException: 
/C:/Users/PC/eclipse-workspace/shopgaubong/target/classes/com/example/shopgaubong/checkout-view.fxml:114

	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2722)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2665)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2563)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2531)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController.handleCheckout(CartController.java:240)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at javafx.base@21.0.6/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)
	at javafx.fxml@21.0.6/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1855)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1726)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Node.fireEvent(Node.java:8875)
	at javafx.controls@21.0.6/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: javax.xml.stream.XMLStreamException: ParseError at [row,col]:[114,19]
Message: The element type "VBox" must be terminated by the matching end-tag "</VBox>".
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLStreamReaderImpl.next(XMLStreamReaderImpl.java:652)
	at java.xml/javax.xml.stream.util.StreamReaderDelegate.next(StreamReaderDelegate.java:84)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2635)
	... 57 common frames omitted
2025-12-01 03:49:21.771 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 03:49:21.780 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-01 03:52:50.438 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 03:52:50.550 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 03:52:50.577 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 03:52:50.596 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 03:52:50.799 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 03:52:50.803 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 03:52:50.803 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 03:52:50.803 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 03:52:50.804 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 03:52:50.805 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 03:52:50.943 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 03:52:51.272 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 03:52:51.945 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@6e7f29d5] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 03:52:52.023 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 03:52:52.266 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 03:52:52.354 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-01 03:52:52.354 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 03:52:59.701 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: customer
2025-12-01 03:53:02.449 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi lấy Order với full details 4: org.hibernate.loader.MultipleBagFetchException: cannot simultaneously fetch multiple bags: [com.example.shopgaubong.entity.Order.orderItems, com.example.shopgaubong.entity.Order.payments]
2025-12-01 03:53:02.450 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 03:53:04.365 [JavaFX Application Thread] ERROR c.e.s.controller.CartController - Lỗi khi chuyển sang checkout: 
/C:/Users/PC/eclipse-workspace/shopgaubong/target/classes/com/example/shopgaubong/checkout-view.fxml:114

javafx.fxml.LoadException: 
/C:/Users/PC/eclipse-workspace/shopgaubong/target/classes/com/example/shopgaubong/checkout-view.fxml:114

	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2722)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2665)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2563)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2531)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController.handleCheckout(CartController.java:240)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at javafx.base@21.0.6/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)
	at javafx.fxml@21.0.6/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1855)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1726)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Node.fireEvent(Node.java:8875)
	at javafx.controls@21.0.6/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: javax.xml.stream.XMLStreamException: ParseError at [row,col]:[114,19]
Message: The element type "VBox" must be terminated by the matching end-tag "</VBox>".
	at java.xml/com.sun.org.apache.xerces.internal.impl.XMLStreamReaderImpl.next(XMLStreamReaderImpl.java:652)
	at java.xml/javax.xml.stream.util.StreamReaderDelegate.next(StreamReaderDelegate.java:84)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2635)
	... 57 common frames omitted
2025-12-01 03:53:26.179 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 03:53:26.184 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-01 03:56:30.352 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 03:56:30.489 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 03:56:30.515 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 03:56:30.535 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 03:56:30.738 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 03:56:30.742 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 03:56:30.742 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 03:56:30.742 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 03:56:30.742 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 03:56:30.745 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 03:56:30.897 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 03:56:31.226 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 03:56:31.875 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@49c13ecd] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 03:56:31.954 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 03:56:32.192 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 03:56:32.270 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-01 03:56:32.270 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 03:56:39.892 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: customer
2025-12-01 03:56:42.244 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 03:56:59.231 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.StockService - Giữ chỗ tồn kho cho Item ID 2: tổng giữ = 1
2025-12-01 03:56:59.238 [JavaFX Application Thread] INFO  c.e.s.controller.CheckoutController - Đặt hàng thành công: ORD-20251201024257-713
2025-12-01 03:57:01.688 [JavaFX Application Thread] INFO  c.e.s.controller.PaymentController - Displaying 1 items for order ORD-20251201024257-713
2025-12-01 03:57:01.689 [JavaFX Application Thread] INFO  c.e.s.service.PaymentService - Calculated fees for order ORD-20251201024257-713: COD=10000, Gateway=0, Total=480000.00
2025-12-01 03:57:01.689 [JavaFX Application Thread] INFO  c.e.s.controller.PaymentController - Loaded order ORD-20251201024257-713 for payment
2025-12-01 03:57:10.707 [JavaFX Application Thread] INFO  c.e.s.service.PaymentService - Calculated fees for order ORD-20251201024257-713: COD=0, Gateway=9460, Total=479460.00
2025-12-01 03:57:13.261 [JavaFX Application Thread] INFO  c.e.s.service.PaymentService - Calculated fees for order ORD-20251201024257-713: COD=0, Gateway=9460, Total=479460.00
2025-12-01 03:57:13.292 [JavaFX Application Thread] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 1265, SQLState: 01000
2025-12-01 03:57:13.292 [JavaFX Application Thread] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Data truncated for column 'method' at row 1
2025-12-01 03:57:13.294 [JavaFX Application Thread] ERROR c.example.shopgaubong.dao.PaymentDAO - Lỗi khi lưu entity
org.hibernate.exception.GenericJDBCException: could not execute statement [Data truncated for column 'method' at row 1] [insert into payments (amount,codFee,created_at,created_by,expiredAt,gatewayFee,gatewayResponse,gatewayResponseCode,gatewayTransactionId,isPaid,method,notes,order_id,paidAt,processingFee,refundedAmount,status,transactionFee,transactionId,updated_at,updated_by) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:63)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.id.insert.GetGeneratedKeysDelegate.performInsert(GetGeneratedKeysDelegate.java:107)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.jdbc.mutation.internal.MutationExecutorPostInsertSingleTable.execute(MutationExecutorPostInsertSingleTable.java:100)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.persister.entity.mutation.InsertCoordinator.doStaticInserts(InsertCoordinator.java:175)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.persister.entity.mutation.InsertCoordinator.coordinateInsert(InsertCoordinator.java:113)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2868)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:81)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:670)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:291)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:272)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:322)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:386)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:300)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:219)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:134)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:175)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:93)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:77)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:54)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:754)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.internal.SessionImpl.persist(SessionImpl.java:738)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.dao.BaseDAO.save(BaseDAO.java:62)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.PaymentService.createPayment(PaymentService.java:140)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.PaymentController.handlePayment(PaymentController.java:241)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at javafx.base@21.0.6/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)
	at javafx.fxml@21.0.6/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1855)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1726)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Node.fireEvent(Node.java:8875)
	at javafx.controls@21.0.6/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Data truncated for column 'method' at row 1
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:912)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1054)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1003)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1312)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:988)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 82 common frames omitted
2025-12-01 03:57:13.296 [JavaFX Application Thread] ERROR c.e.s.service.PaymentService - Error creating payment
org.hibernate.exception.GenericJDBCException: could not execute statement [Data truncated for column 'method' at row 1] [insert into payments (amount,codFee,created_at,created_by,expiredAt,gatewayFee,gatewayResponse,gatewayResponseCode,gatewayTransactionId,isPaid,method,notes,order_id,paidAt,processingFee,refundedAmount,status,transactionFee,transactionId,updated_at,updated_by) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:63)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.id.insert.GetGeneratedKeysDelegate.performInsert(GetGeneratedKeysDelegate.java:107)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.jdbc.mutation.internal.MutationExecutorPostInsertSingleTable.execute(MutationExecutorPostInsertSingleTable.java:100)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.persister.entity.mutation.InsertCoordinator.doStaticInserts(InsertCoordinator.java:175)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.persister.entity.mutation.InsertCoordinator.coordinateInsert(InsertCoordinator.java:113)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2868)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:81)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:670)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:291)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:272)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:322)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:386)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:300)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:219)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:134)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:175)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:93)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:77)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:54)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:754)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.internal.SessionImpl.persist(SessionImpl.java:738)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.dao.BaseDAO.save(BaseDAO.java:62)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.PaymentService.createPayment(PaymentService.java:140)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.PaymentController.handlePayment(PaymentController.java:241)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at javafx.base@21.0.6/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)
	at javafx.fxml@21.0.6/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1855)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1726)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Node.fireEvent(Node.java:8875)
	at javafx.controls@21.0.6/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Data truncated for column 'method' at row 1
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:912)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1054)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1003)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1312)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:988)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 82 common frames omitted
2025-12-01 03:57:15.354 [JavaFX Application Thread] INFO  c.e.s.service.PaymentService - Calculated fees for order ORD-20251201024257-713: COD=10000, Gateway=0, Total=480000.00
2025-12-01 03:57:16.806 [JavaFX Application Thread] INFO  c.e.s.service.PaymentService - Calculated fees for order ORD-20251201024257-713: COD=10000, Gateway=0, Total=480000.00
2025-12-01 03:57:16.815 [JavaFX Application Thread] INFO  c.example.shopgaubong.dao.PaymentDAO - Đã lưu entity: com.example.shopgaubong.entity.Payment@1621c97f
2025-12-01 03:57:16.815 [JavaFX Application Thread] INFO  c.e.s.service.PaymentService - Created payment 1 for order ORD-20251201024257-713 with method COD
2025-12-01 03:57:22.789 [JavaFX Application Thread] INFO  c.e.s.controller.PaymentController - Payment created successfully for order ORD-20251201024257-713
2025-12-01 03:57:24.818 [JavaFX Application Thread] INFO  c.e.s.service.PaymentService - Calculated fees for order ORD-20251201024257-713: COD=0, Gateway=10750, Total=480750.00
2025-12-01 03:57:26.721 [JavaFX Application Thread] INFO  c.e.s.service.PaymentService - Calculated fees for order ORD-20251201024257-713: COD=0, Gateway=7740, Total=477740.00
2025-12-01 03:57:28.651 [JavaFX Application Thread] INFO  c.e.s.service.PaymentService - Calculated fees for order ORD-20251201024257-713: COD=0, Gateway=0, Total=470000.00
2025-12-01 03:57:30.312 [JavaFX Application Thread] INFO  c.e.s.c.CustomerOrderController - Tải đơn hàng thành công: 4 đơn
2025-12-01 03:57:40.825 [JavaFX Application Thread] INFO  c.example.shopgaubong.dao.OrderDAO - Đã lưu entity: com.example.shopgaubong.entity.Order@283a9cfd
2025-12-01 03:57:40.829 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 0 sản phẩm
2025-12-01 03:57:41.272 [JavaFX Application Thread] INFO  c.e.s.c.CustomerOrderController - Tải đơn hàng thành công: 4 đơn
2025-12-01 03:57:41.855 [JavaFX Application Thread] INFO  c.e.s.c.CustomerProfileController - Loaded account information for user: customer
2025-12-01 03:57:41.855 [JavaFX Application Thread] INFO  c.e.s.c.CustomerProfileController - Loaded profile data for user: customer
2025-12-01 03:57:43.667 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 03:57:43.673 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-01 04:02:31.760 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 04:02:31.901 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 04:02:31.926 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 04:02:31.943 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 04:02:32.133 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 04:02:32.137 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 04:02:32.138 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 04:02:32.138 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 04:02:32.138 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 04:02:32.139 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 04:02:32.290 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 04:02:32.607 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 04:02:33.265 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@716e6fa5] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 04:02:33.337 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 04:02:33.576 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 04:02:33.644 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-01 04:02:33.644 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 04:02:42.701 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: customer
2025-12-01 04:02:44.689 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 0 sản phẩm
2025-12-01 04:02:49.630 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 0 sản phẩm
2025-12-01 04:02:52.381 [JavaFX Application Thread] DEBUG c.e.shopgaubong.service.StockService - Check availability: Item ID 1, On Hand: 15, Reserved: 1, Available: 14, Required: 1, Result: true
2025-12-01 04:02:52.412 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.OrderService - Thêm sản phẩm vào đơn hàng ORD-20251201035740-264: gáu bông đen trănhs x1
2025-12-01 04:02:53.852 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 04:02:55.262 [JavaFX Application Thread] WARN  c.e.shopgaubong.service.StockService - Không tìm thấy StockItem cho Warehouse ID 2 và Item ID 1
2025-12-01 04:02:55.263 [JavaFX Application Thread] WARN  c.e.shopgaubong.service.StockService - Không tìm thấy StockItem cho Warehouse ID 2 và Item ID 1 khi lấy available quantity
2025-12-01 04:02:55.264 [JavaFX Application Thread] ERROR c.e.s.controller.CartController - Lỗi khi cập nhật số lượng: Không đủ hàng trong kho. Sản phẩm: gáu bông đen trănhs, Tồn kho khả dụng: 0, Số lượng mới yêu cầu: 2 (hiện tại trong giỏ: 1)
java.lang.IllegalStateException: Không đủ hàng trong kho. Sản phẩm: gáu bông đen trănhs, Tồn kho khả dụng: 0, Số lượng mới yêu cầu: 2 (hiện tại trong giỏ: 1)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.OrderService.updateOrderItemQuantity(OrderService.java:158)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.CartService.updateCartItem(CartService.java:49)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CartController.updateQuantity(CartController.java:150)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CartController$1.lambda$updateItem$0(CartController.java:92)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:386)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ReadOnlyObjectWrapper.fireValueChangedEvent(ReadOnlyObjectWrapper.java:100)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase$Listener.invalidated(ObjectPropertyBase.java:234)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:376)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:147)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory.setValue(SpinnerValueFactory.java:146)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory$IntegerSpinnerValueFactory.increment(SpinnerValueFactory.java:599)
	at javafx.controls@21.0.6/javafx.scene.control.Spinner.increment(Spinner.java:408)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.increment(SpinnerBehavior.java:117)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.lambda$new$0(SpinnerBehavior.java:66)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.startSpinning(SpinnerBehavior.java:138)
	at javafx.controls@21.0.6/javafx.scene.control.skin.SpinnerSkin.lambda$new$1(SpinnerSkin.java:139)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 04:02:55.272 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 04:03:09.130 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.StockService - Giữ chỗ tồn kho cho Item ID 1: tổng giữ = 1
2025-12-01 04:03:09.136 [JavaFX Application Thread] INFO  c.e.s.controller.CheckoutController - Đặt hàng thành công: ORD-20251201035740-264
2025-12-01 04:03:12.245 [JavaFX Application Thread] INFO  c.e.s.controller.PaymentController - Displaying 1 items for order ORD-20251201035740-264
2025-12-01 04:03:12.246 [JavaFX Application Thread] INFO  c.e.s.service.PaymentService - Calculated fees for order ORD-20251201035740-264: COD=10000, Gateway=0, Total=62000.00
2025-12-01 04:03:12.246 [JavaFX Application Thread] INFO  c.e.s.controller.PaymentController - Loaded order ORD-20251201035740-264 for payment
2025-12-01 04:03:20.732 [JavaFX Application Thread] INFO  c.e.s.service.PaymentService - Calculated fees for order ORD-20251201035740-264: COD=0, Gateway=0, Total=52000.00
2025-12-01 04:03:20.734 [JavaFX Application Thread] DEBUG c.e.s.controller.PaymentController - Updated payment method details for: BANK_TRANSFER
2025-12-01 04:03:32.154 [JavaFX Application Thread] INFO  c.e.s.service.PaymentService - Calculated fees for order ORD-20251201035740-264: COD=0, Gateway=1100, Total=53100.00
2025-12-01 04:03:32.155 [JavaFX Application Thread] DEBUG c.e.s.controller.PaymentController - Updated payment method details for: VNPAY
2025-12-01 04:03:38.839 [JavaFX Application Thread] INFO  c.e.s.service.PaymentService - Calculated fees for order ORD-20251201035740-264: COD=0, Gateway=1100, Total=53100.00
2025-12-01 04:03:38.868 [JavaFX Application Thread] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 1265, SQLState: 01000
2025-12-01 04:03:38.868 [JavaFX Application Thread] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Data truncated for column 'method' at row 1
2025-12-01 04:03:38.870 [JavaFX Application Thread] ERROR c.example.shopgaubong.dao.PaymentDAO - Lỗi khi lưu entity
org.hibernate.exception.GenericJDBCException: could not execute statement [Data truncated for column 'method' at row 1] [insert into payments (amount,codFee,created_at,created_by,expiredAt,gatewayFee,gatewayResponse,gatewayResponseCode,gatewayTransactionId,isPaid,method,notes,order_id,paidAt,processingFee,refundedAmount,status,transactionFee,transactionId,updated_at,updated_by) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:63)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.id.insert.GetGeneratedKeysDelegate.performInsert(GetGeneratedKeysDelegate.java:107)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.jdbc.mutation.internal.MutationExecutorPostInsertSingleTable.execute(MutationExecutorPostInsertSingleTable.java:100)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.persister.entity.mutation.InsertCoordinator.doStaticInserts(InsertCoordinator.java:175)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.persister.entity.mutation.InsertCoordinator.coordinateInsert(InsertCoordinator.java:113)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2868)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:81)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:670)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:291)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:272)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:322)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:386)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:300)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:219)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:134)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:175)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:93)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:77)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:54)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:754)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.internal.SessionImpl.persist(SessionImpl.java:738)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.dao.BaseDAO.save(BaseDAO.java:62)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.PaymentService.createPayment(PaymentService.java:140)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.PaymentController.handlePayment(PaymentController.java:310)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at javafx.base@21.0.6/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)
	at javafx.fxml@21.0.6/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1855)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1726)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Node.fireEvent(Node.java:8875)
	at javafx.controls@21.0.6/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Data truncated for column 'method' at row 1
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:912)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1054)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1003)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1312)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:988)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 82 common frames omitted
2025-12-01 04:03:38.872 [JavaFX Application Thread] ERROR c.e.s.service.PaymentService - Error creating payment
org.hibernate.exception.GenericJDBCException: could not execute statement [Data truncated for column 'method' at row 1] [insert into payments (amount,codFee,created_at,created_by,expiredAt,gatewayFee,gatewayResponse,gatewayResponseCode,gatewayTransactionId,isPaid,method,notes,order_id,paidAt,processingFee,refundedAmount,status,transactionFee,transactionId,updated_at,updated_by) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:63)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.id.insert.GetGeneratedKeysDelegate.performInsert(GetGeneratedKeysDelegate.java:107)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.jdbc.mutation.internal.MutationExecutorPostInsertSingleTable.execute(MutationExecutorPostInsertSingleTable.java:100)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.persister.entity.mutation.InsertCoordinator.doStaticInserts(InsertCoordinator.java:175)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.persister.entity.mutation.InsertCoordinator.coordinateInsert(InsertCoordinator.java:113)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:2868)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:81)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:670)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:291)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:272)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:322)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:386)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:300)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:219)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:134)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:175)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:93)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:77)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:54)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:754)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.internal.SessionImpl.persist(SessionImpl.java:738)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.dao.BaseDAO.save(BaseDAO.java:62)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.PaymentService.createPayment(PaymentService.java:140)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.PaymentController.handlePayment(PaymentController.java:310)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at javafx.base@21.0.6/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)
	at javafx.fxml@21.0.6/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1855)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1726)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Node.fireEvent(Node.java:8875)
	at javafx.controls@21.0.6/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: Data truncated for column 'method' at row 1
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:912)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1054)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1003)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1312)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:988)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 82 common frames omitted
2025-12-01 04:03:44.459 [JavaFX Application Thread] INFO  c.e.s.service.PaymentService - Calculated fees for order ORD-20251201035740-264: COD=0, Gateway=1250, Total=53250.00
2025-12-01 04:03:44.459 [JavaFX Application Thread] DEBUG c.e.s.controller.PaymentController - Updated payment method details for: MOMO
2025-12-01 04:03:48.197 [JavaFX Application Thread] INFO  c.e.s.service.PaymentService - Calculated fees for order ORD-20251201035740-264: COD=0, Gateway=900, Total=52900.00
2025-12-01 04:03:48.199 [JavaFX Application Thread] DEBUG c.e.s.controller.PaymentController - Updated payment method details for: SEPAY
2025-12-01 04:04:01.511 [JavaFX Application Thread] INFO  c.e.s.c.CustomerOrderController - Tải đơn hàng thành công: 5 đơn
2025-12-01 04:04:17.847 [JavaFX Application Thread] INFO  c.example.shopgaubong.dao.OrderDAO - Đã lưu entity: com.example.shopgaubong.entity.Order@40290c97
2025-12-01 04:04:17.851 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 0 sản phẩm
2025-12-01 04:04:19.619 [JavaFX Application Thread] INFO  c.e.s.c.CustomerProfileController - Loaded account information for user: customer
2025-12-01 04:04:19.620 [JavaFX Application Thread] INFO  c.e.s.c.CustomerProfileController - Loaded profile data for user: customer
2025-12-01 04:04:20.731 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng xuất: customer
2025-12-01 04:04:29.521 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: admin
2025-12-01 04:04:32.381 [JavaFX Application Thread] INFO  c.e.s.c.UserManagementController - Loaded 3 accounts
2025-12-01 04:04:45.621 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tải kho thành công: 2 kho
2025-12-01 04:04:50.004 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 4 stock items
2025-12-01 04:04:50.004 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - StockManagementController initialized
2025-12-01 04:04:53.759 [JavaFX Application Thread] INFO  c.e.s.c.OrderManagementController - Tải đơn hàng thành công: 5 đơn
2025-12-01 04:04:55.096 [JavaFX Application Thread] ERROR c.e.s.c.PromotionManagementController - Lỗi khi tải khuyến mãi: Cannot invoke "com.example.shopgaubong.service.PromotionService.getAllPromotions()" because "this.promotionService" is null
java.lang.NullPointerException: Cannot invoke "com.example.shopgaubong.service.PromotionService.getAllPromotions()" because "this.promotionService" is null
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.PromotionManagementController.loadPromotions(PromotionManagementController.java:159)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.PromotionManagementController.initialize(PromotionManagementController.java:78)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at javafx.base@21.0.6/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)
	at javafx.fxml@21.0.6/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2688)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2563)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2531)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.AdminMainController.loadView(AdminMainController.java:102)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.AdminMainController.handleManagePromotions(AdminMainController.java:68)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at javafx.base@21.0.6/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)
	at javafx.fxml@21.0.6/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1855)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1726)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Node.fireEvent(Node.java:8875)
	at javafx.controls@21.0.6/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 04:04:59.729 [JavaFX Application Thread] INFO  c.e.s.c.OrderManagementController - Tải đơn hàng thành công: 5 đơn
2025-12-01 04:05:00.181 [JavaFX Application Thread] ERROR c.e.s.c.PromotionManagementController - Lỗi khi tải khuyến mãi: Cannot invoke "com.example.shopgaubong.service.PromotionService.getAllPromotions()" because "this.promotionService" is null
java.lang.NullPointerException: Cannot invoke "com.example.shopgaubong.service.PromotionService.getAllPromotions()" because "this.promotionService" is null
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.PromotionManagementController.loadPromotions(PromotionManagementController.java:159)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.PromotionManagementController.initialize(PromotionManagementController.java:78)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at javafx.base@21.0.6/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)
	at javafx.fxml@21.0.6/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2688)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2563)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2531)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.AdminMainController.loadView(AdminMainController.java:102)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.AdminMainController.handleManagePromotions(AdminMainController.java:68)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at javafx.base@21.0.6/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)
	at javafx.fxml@21.0.6/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1855)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1726)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Node.fireEvent(Node.java:8875)
	at javafx.controls@21.0.6/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 04:05:51.982 [JavaFX Application Thread] ERROR c.e.s.c.PromotionManagementController - Lỗi khi lưu khuyến mãi: Cannot invoke "com.example.shopgaubong.service.PromotionService.createPromotion(String, String, com.example.shopgaubong.enums.PromotionType, java.math.BigDecimal, java.math.BigDecimal, java.math.BigDecimal, java.lang.Integer, java.time.LocalDateTime, java.time.LocalDateTime)" because "this.promotionService" is null
java.lang.NullPointerException: Cannot invoke "com.example.shopgaubong.service.PromotionService.createPromotion(String, String, com.example.shopgaubong.enums.PromotionType, java.math.BigDecimal, java.math.BigDecimal, java.math.BigDecimal, java.lang.Integer, java.time.LocalDateTime, java.time.LocalDateTime)" because "this.promotionService" is null
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.PromotionManagementController.createPromotion(PromotionManagementController.java:239)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.PromotionManagementController.handleSave(PromotionManagementController.java:209)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at javafx.base@21.0.6/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)
	at javafx.fxml@21.0.6/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1855)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1726)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Node.fireEvent(Node.java:8875)
	at javafx.controls@21.0.6/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 04:05:56.475 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 04:05:56.483 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-01 04:06:15.711 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 04:06:15.821 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 04:06:15.845 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 04:06:15.864 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 04:06:16.045 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 04:06:16.049 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 04:06:16.050 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 04:06:16.050 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 04:06:16.050 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 04:06:16.051 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 04:06:16.184 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 04:06:16.508 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 04:06:17.159 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@4c114687] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 04:06:17.238 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 04:06:17.483 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 04:06:17.557 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-01 04:06:17.558 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 04:06:24.727 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: customer
2025-12-01 04:06:36.259 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng xuất: customer
2025-12-01 04:06:43.178 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: admin
2025-12-01 04:06:45.634 [JavaFX Application Thread] INFO  c.e.s.c.UserManagementController - Loaded 3 accounts
2025-12-01 04:07:03.255 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 04:07:03.259 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-01 04:07:06.113 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 04:07:06.213 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 04:07:06.237 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 04:07:06.255 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 04:07:06.432 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 04:07:06.436 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 04:07:06.436 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 04:07:06.437 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 04:07:06.437 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 04:07:06.439 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 04:07:06.576 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 04:07:06.898 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 04:07:07.531 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@2a60981c] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 04:07:07.609 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 04:07:07.844 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 04:07:07.905 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-01 04:07:07.905 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 04:07:14.070 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: staff
2025-12-01 04:07:16.079 [JavaFX Application Thread] INFO  c.e.s.c.OrderManagementController - Tải đơn hàng thành công: 5 đơn
2025-12-01 04:07:47.547 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 4 stock items
2025-12-01 04:07:47.547 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - StockManagementController initialized
2025-12-01 04:08:05.683 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng xuất: staff
2025-12-01 04:08:08.259 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 04:08:08.269 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-01 04:12:42.607 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 04:12:42.726 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 04:12:42.746 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 04:12:42.764 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 04:12:42.960 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 04:12:42.964 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 04:12:42.965 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 04:12:42.965 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 04:12:42.965 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 04:12:42.966 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 04:12:43.126 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 04:12:43.445 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 04:12:44.092 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@716e6fa5] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 04:12:44.166 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 04:12:44.405 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 04:12:44.491 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-01 04:12:44.491 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 04:12:50.721 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: customer
2025-12-01 04:12:51.625 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 0 sản phẩm
2025-12-01 04:12:54.864 [JavaFX Application Thread] DEBUG c.e.shopgaubong.service.StockService - Check availability: Item ID 2, On Hand: 100, Reserved: 2, Available: 98, Required: 1, Result: true
2025-12-01 04:12:54.894 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.OrderService - Thêm sản phẩm vào đơn hàng ORD-20251201040417-200: gau bongvang x1
2025-12-01 04:12:56.586 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 04:12:57.622 [JavaFX Application Thread] WARN  c.e.shopgaubong.service.StockService - Không tìm thấy StockItem cho Warehouse ID 2 và Item ID 2 khi lấy available quantity
2025-12-01 04:12:57.623 [JavaFX Application Thread] ERROR c.e.s.controller.CartController - Lỗi khi cập nhật số lượng: Không đủ hàng trong kho. Sản phẩm: gau bongvang, Tồn kho khả dụng: 0, Số lượng hiện tại: 1, Muốn tăng thêm: 1, Tổng sau khi tăng: 2
java.lang.IllegalStateException: Không đủ hàng trong kho. Sản phẩm: gau bongvang, Tồn kho khả dụng: 0, Số lượng hiện tại: 1, Muốn tăng thêm: 1, Tổng sau khi tăng: 2
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.OrderService.updateOrderItemQuantity(OrderService.java:167)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.CartService.updateCartItem(CartService.java:49)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CartController.updateQuantity(CartController.java:150)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CartController$1.lambda$updateItem$0(CartController.java:92)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:386)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ReadOnlyObjectWrapper.fireValueChangedEvent(ReadOnlyObjectWrapper.java:100)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase$Listener.invalidated(ObjectPropertyBase.java:234)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:376)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:147)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory.setValue(SpinnerValueFactory.java:146)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory$IntegerSpinnerValueFactory.increment(SpinnerValueFactory.java:599)
	at javafx.controls@21.0.6/javafx.scene.control.Spinner.increment(Spinner.java:408)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.increment(SpinnerBehavior.java:117)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.lambda$new$0(SpinnerBehavior.java:66)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.startSpinning(SpinnerBehavior.java:138)
	at javafx.controls@21.0.6/javafx.scene.control.skin.SpinnerSkin.lambda$new$1(SpinnerSkin.java:139)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 04:12:57.633 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 04:13:01.234 [JavaFX Application Thread] WARN  c.e.shopgaubong.service.StockService - Không tìm thấy StockItem cho Warehouse ID 2 và Item ID 2 khi lấy available quantity
2025-12-01 04:13:01.235 [JavaFX Application Thread] ERROR c.e.s.controller.CartController - Lỗi khi cập nhật số lượng: Không đủ hàng trong kho. Sản phẩm: gau bongvang, Tồn kho khả dụng: 0, Số lượng hiện tại: 1, Muốn tăng thêm: 1, Tổng sau khi tăng: 2
java.lang.IllegalStateException: Không đủ hàng trong kho. Sản phẩm: gau bongvang, Tồn kho khả dụng: 0, Số lượng hiện tại: 1, Muốn tăng thêm: 1, Tổng sau khi tăng: 2
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.OrderService.updateOrderItemQuantity(OrderService.java:167)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.CartService.updateCartItem(CartService.java:49)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CartController.updateQuantity(CartController.java:150)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CartController$1.lambda$updateItem$0(CartController.java:92)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:386)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ReadOnlyObjectWrapper.fireValueChangedEvent(ReadOnlyObjectWrapper.java:100)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase$Listener.invalidated(ObjectPropertyBase.java:234)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:376)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:147)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory.setValue(SpinnerValueFactory.java:146)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory$IntegerSpinnerValueFactory.increment(SpinnerValueFactory.java:599)
	at javafx.controls@21.0.6/javafx.scene.control.Spinner.increment(Spinner.java:408)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.increment(SpinnerBehavior.java:117)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.lambda$new$0(SpinnerBehavior.java:66)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.startSpinning(SpinnerBehavior.java:138)
	at javafx.controls@21.0.6/javafx.scene.control.skin.SpinnerSkin.lambda$new$1(SpinnerSkin.java:139)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 04:13:01.248 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 04:13:01.264 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 13 -> số lượng 1
2025-12-01 04:13:01.272 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 04:13:05.828 [JavaFX Application Thread] WARN  c.e.shopgaubong.service.StockService - Không tìm thấy StockItem cho Warehouse ID 2 và Item ID 2 khi lấy available quantity
2025-12-01 04:13:05.828 [JavaFX Application Thread] ERROR c.e.s.controller.CartController - Lỗi khi cập nhật số lượng: Không đủ hàng trong kho. Sản phẩm: gau bongvang, Tồn kho khả dụng: 0, Số lượng hiện tại: 1, Muốn tăng thêm: 1, Tổng sau khi tăng: 2
java.lang.IllegalStateException: Không đủ hàng trong kho. Sản phẩm: gau bongvang, Tồn kho khả dụng: 0, Số lượng hiện tại: 1, Muốn tăng thêm: 1, Tổng sau khi tăng: 2
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.OrderService.updateOrderItemQuantity(OrderService.java:167)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.CartService.updateCartItem(CartService.java:49)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CartController.updateQuantity(CartController.java:150)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CartController$1.lambda$updateItem$0(CartController.java:92)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:386)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ReadOnlyObjectWrapper.fireValueChangedEvent(ReadOnlyObjectWrapper.java:100)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase$Listener.invalidated(ObjectPropertyBase.java:234)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:376)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:147)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory.setValue(SpinnerValueFactory.java:146)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory$IntegerSpinnerValueFactory.increment(SpinnerValueFactory.java:599)
	at javafx.controls@21.0.6/javafx.scene.control.Spinner.increment(Spinner.java:408)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.increment(SpinnerBehavior.java:117)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.lambda$new$0(SpinnerBehavior.java:66)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.startSpinning(SpinnerBehavior.java:138)
	at javafx.controls@21.0.6/javafx.scene.control.skin.SpinnerSkin.lambda$new$1(SpinnerSkin.java:139)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 04:13:05.835 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 04:13:05.845 [JavaFX Application Thread] WARN  c.e.shopgaubong.service.StockService - Không tìm thấy StockItem cho Warehouse ID 2 và Item ID 2 khi lấy available quantity
2025-12-01 04:13:05.847 [JavaFX Application Thread] ERROR c.e.s.controller.CartController - Lỗi khi cập nhật số lượng: Không đủ hàng trong kho. Sản phẩm: gau bongvang, Tồn kho khả dụng: 0, Số lượng hiện tại: 1, Muốn tăng thêm: 1, Tổng sau khi tăng: 2
java.lang.IllegalStateException: Không đủ hàng trong kho. Sản phẩm: gau bongvang, Tồn kho khả dụng: 0, Số lượng hiện tại: 1, Muốn tăng thêm: 1, Tổng sau khi tăng: 2
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.OrderService.updateOrderItemQuantity(OrderService.java:167)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.CartService.updateCartItem(CartService.java:49)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CartController.updateQuantity(CartController.java:150)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CartController$1.lambda$updateItem$0(CartController.java:92)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:386)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ReadOnlyObjectWrapper.fireValueChangedEvent(ReadOnlyObjectWrapper.java:100)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase$Listener.invalidated(ObjectPropertyBase.java:234)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:376)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:147)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory.setValue(SpinnerValueFactory.java:146)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory$IntegerSpinnerValueFactory.increment(SpinnerValueFactory.java:599)
	at javafx.controls@21.0.6/javafx.scene.control.Spinner.increment(Spinner.java:408)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.increment(SpinnerBehavior.java:117)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.lambda$new$0(SpinnerBehavior.java:66)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.startSpinning(SpinnerBehavior.java:138)
	at javafx.controls@21.0.6/javafx.scene.control.skin.SpinnerSkin.lambda$new$1(SpinnerSkin.java:139)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 04:13:05.854 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 04:13:05.864 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 13 -> số lượng 1
2025-12-01 04:13:05.869 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 04:13:09.782 [JavaFX Application Thread] WARN  c.e.shopgaubong.service.StockService - Không tìm thấy StockItem cho Warehouse ID 2 và Item ID 2 khi lấy available quantity
2025-12-01 04:13:09.782 [JavaFX Application Thread] ERROR c.e.s.controller.CartController - Lỗi khi cập nhật số lượng: Không đủ hàng trong kho. Sản phẩm: gau bongvang, Tồn kho khả dụng: 0, Số lượng hiện tại: 1, Muốn tăng thêm: 1, Tổng sau khi tăng: 2
java.lang.IllegalStateException: Không đủ hàng trong kho. Sản phẩm: gau bongvang, Tồn kho khả dụng: 0, Số lượng hiện tại: 1, Muốn tăng thêm: 1, Tổng sau khi tăng: 2
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.OrderService.updateOrderItemQuantity(OrderService.java:167)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.CartService.updateCartItem(CartService.java:49)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CartController.updateQuantity(CartController.java:150)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CartController$1.lambda$updateItem$0(CartController.java:92)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:386)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ReadOnlyObjectWrapper.fireValueChangedEvent(ReadOnlyObjectWrapper.java:100)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase$Listener.invalidated(ObjectPropertyBase.java:234)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:376)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:147)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory.setValue(SpinnerValueFactory.java:146)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory$IntegerSpinnerValueFactory.increment(SpinnerValueFactory.java:599)
	at javafx.controls@21.0.6/javafx.scene.control.Spinner.increment(Spinner.java:408)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.increment(SpinnerBehavior.java:117)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.lambda$new$0(SpinnerBehavior.java:66)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.startSpinning(SpinnerBehavior.java:138)
	at javafx.controls@21.0.6/javafx.scene.control.skin.SpinnerSkin.lambda$new$1(SpinnerSkin.java:139)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 04:13:09.789 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 04:13:09.799 [JavaFX Application Thread] WARN  c.e.shopgaubong.service.StockService - Không tìm thấy StockItem cho Warehouse ID 2 và Item ID 2 khi lấy available quantity
2025-12-01 04:13:09.799 [JavaFX Application Thread] ERROR c.e.s.controller.CartController - Lỗi khi cập nhật số lượng: Không đủ hàng trong kho. Sản phẩm: gau bongvang, Tồn kho khả dụng: 0, Số lượng hiện tại: 1, Muốn tăng thêm: 1, Tổng sau khi tăng: 2
java.lang.IllegalStateException: Không đủ hàng trong kho. Sản phẩm: gau bongvang, Tồn kho khả dụng: 0, Số lượng hiện tại: 1, Muốn tăng thêm: 1, Tổng sau khi tăng: 2
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.OrderService.updateOrderItemQuantity(OrderService.java:167)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.CartService.updateCartItem(CartService.java:49)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CartController.updateQuantity(CartController.java:150)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CartController$1.lambda$updateItem$0(CartController.java:92)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:386)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ReadOnlyObjectWrapper.fireValueChangedEvent(ReadOnlyObjectWrapper.java:100)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase$Listener.invalidated(ObjectPropertyBase.java:234)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:376)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:147)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory.setValue(SpinnerValueFactory.java:146)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory$IntegerSpinnerValueFactory.increment(SpinnerValueFactory.java:599)
	at javafx.controls@21.0.6/javafx.scene.control.Spinner.increment(Spinner.java:408)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.increment(SpinnerBehavior.java:117)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.lambda$new$0(SpinnerBehavior.java:66)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.startSpinning(SpinnerBehavior.java:138)
	at javafx.controls@21.0.6/javafx.scene.control.skin.SpinnerSkin.lambda$new$1(SpinnerSkin.java:139)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 04:13:09.805 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 04:13:09.815 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 13 -> số lượng 1
2025-12-01 04:13:09.821 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 04:13:09.830 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 13 -> số lượng 1
2025-12-01 04:13:09.837 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 04:13:13.606 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng xuất: customer
2025-12-01 04:13:14.713 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 04:13:14.719 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-01 04:13:27.384 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 04:13:27.493 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 04:13:27.519 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 04:13:27.538 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 04:13:27.723 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 04:13:27.728 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 04:13:27.728 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 04:13:27.728 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 04:13:27.728 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 04:13:27.730 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 04:13:27.869 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 04:13:28.215 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 04:13:28.877 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@4c114687] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 04:13:28.952 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 04:13:29.196 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 04:13:29.276 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-01 04:13:29.277 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 04:13:35.432 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: customer
2025-12-01 04:13:36.524 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 04:13:40.108 [JavaFX Application Thread] WARN  c.e.shopgaubong.service.StockService - Không tìm thấy StockItem cho Warehouse ID 2 và Item ID 2 khi lấy available quantity
2025-12-01 04:13:40.109 [JavaFX Application Thread] ERROR c.e.s.controller.CartController - Lỗi khi cập nhật số lượng: Không đủ hàng trong kho. Sản phẩm: gau bongvang, Tồn kho khả dụng: 0, Số lượng hiện tại: 1, Muốn tăng thêm: 1, Tổng sau khi tăng: 2
java.lang.IllegalStateException: Không đủ hàng trong kho. Sản phẩm: gau bongvang, Tồn kho khả dụng: 0, Số lượng hiện tại: 1, Muốn tăng thêm: 1, Tổng sau khi tăng: 2
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.OrderService.updateOrderItemQuantity(OrderService.java:167)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.CartService.updateCartItem(CartService.java:49)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CartController.updateQuantity(CartController.java:150)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CartController$1.lambda$updateItem$0(CartController.java:92)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:386)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ReadOnlyObjectWrapper.fireValueChangedEvent(ReadOnlyObjectWrapper.java:100)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase$Listener.invalidated(ObjectPropertyBase.java:234)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:376)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:147)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory.setValue(SpinnerValueFactory.java:146)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory$IntegerSpinnerValueFactory.increment(SpinnerValueFactory.java:599)
	at javafx.controls@21.0.6/javafx.scene.control.Spinner.increment(Spinner.java:408)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.increment(SpinnerBehavior.java:117)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.lambda$new$0(SpinnerBehavior.java:66)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.startSpinning(SpinnerBehavior.java:138)
	at javafx.controls@21.0.6/javafx.scene.control.skin.SpinnerSkin.lambda$new$1(SpinnerSkin.java:139)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 04:13:40.125 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 04:13:41.820 [JavaFX Application Thread] WARN  c.e.shopgaubong.service.StockService - Không tìm thấy StockItem cho Warehouse ID 2 và Item ID 2 khi lấy available quantity
2025-12-01 04:13:41.820 [JavaFX Application Thread] ERROR c.e.s.controller.CartController - Lỗi khi cập nhật số lượng: Không đủ hàng trong kho. Sản phẩm: gau bongvang, Tồn kho khả dụng: 0, Số lượng hiện tại: 1, Muốn tăng thêm: 1, Tổng sau khi tăng: 2
java.lang.IllegalStateException: Không đủ hàng trong kho. Sản phẩm: gau bongvang, Tồn kho khả dụng: 0, Số lượng hiện tại: 1, Muốn tăng thêm: 1, Tổng sau khi tăng: 2
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.OrderService.updateOrderItemQuantity(OrderService.java:167)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.CartService.updateCartItem(CartService.java:49)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CartController.updateQuantity(CartController.java:150)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CartController$1.lambda$updateItem$0(CartController.java:92)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:386)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ReadOnlyObjectWrapper.fireValueChangedEvent(ReadOnlyObjectWrapper.java:100)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase$Listener.invalidated(ObjectPropertyBase.java:234)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:376)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:147)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory.setValue(SpinnerValueFactory.java:146)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory$IntegerSpinnerValueFactory.increment(SpinnerValueFactory.java:599)
	at javafx.controls@21.0.6/javafx.scene.control.Spinner.increment(Spinner.java:408)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.increment(SpinnerBehavior.java:117)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.lambda$new$0(SpinnerBehavior.java:66)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.startSpinning(SpinnerBehavior.java:138)
	at javafx.controls@21.0.6/javafx.scene.control.skin.SpinnerSkin.lambda$new$1(SpinnerSkin.java:139)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 04:13:41.826 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 04:13:41.845 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 13 -> số lượng 1
2025-12-01 04:13:41.858 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 04:14:09.219 [JavaFX Application Thread] WARN  c.e.shopgaubong.service.StockService - Không tìm thấy StockItem cho Warehouse ID 2 và Item ID 2 khi lấy available quantity
2025-12-01 04:14:09.219 [JavaFX Application Thread] ERROR c.e.s.controller.CartController - Lỗi khi cập nhật số lượng: Không đủ hàng trong kho. Sản phẩm: gau bongvang, Tồn kho khả dụng: 0, Số lượng hiện tại: 1, Muốn tăng thêm: 1, Tổng sau khi tăng: 2
java.lang.IllegalStateException: Không đủ hàng trong kho. Sản phẩm: gau bongvang, Tồn kho khả dụng: 0, Số lượng hiện tại: 1, Muốn tăng thêm: 1, Tổng sau khi tăng: 2
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.OrderService.updateOrderItemQuantity(OrderService.java:167)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.CartService.updateCartItem(CartService.java:49)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CartController.updateQuantity(CartController.java:150)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CartController$1.lambda$updateItem$0(CartController.java:92)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:386)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ReadOnlyObjectWrapper.fireValueChangedEvent(ReadOnlyObjectWrapper.java:100)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase$Listener.invalidated(ObjectPropertyBase.java:234)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:376)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:147)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory.setValue(SpinnerValueFactory.java:146)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory$IntegerSpinnerValueFactory.increment(SpinnerValueFactory.java:599)
	at javafx.controls@21.0.6/javafx.scene.control.Spinner.increment(Spinner.java:408)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.increment(SpinnerBehavior.java:117)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.lambda$new$0(SpinnerBehavior.java:66)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.startSpinning(SpinnerBehavior.java:138)
	at javafx.controls@21.0.6/javafx.scene.control.skin.SpinnerSkin.lambda$new$1(SpinnerSkin.java:139)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 04:14:09.226 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 04:14:09.237 [JavaFX Application Thread] WARN  c.e.shopgaubong.service.StockService - Không tìm thấy StockItem cho Warehouse ID 2 và Item ID 2 khi lấy available quantity
2025-12-01 04:14:09.237 [JavaFX Application Thread] ERROR c.e.s.controller.CartController - Lỗi khi cập nhật số lượng: Không đủ hàng trong kho. Sản phẩm: gau bongvang, Tồn kho khả dụng: 0, Số lượng hiện tại: 1, Muốn tăng thêm: 1, Tổng sau khi tăng: 2
java.lang.IllegalStateException: Không đủ hàng trong kho. Sản phẩm: gau bongvang, Tồn kho khả dụng: 0, Số lượng hiện tại: 1, Muốn tăng thêm: 1, Tổng sau khi tăng: 2
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.OrderService.updateOrderItemQuantity(OrderService.java:167)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.CartService.updateCartItem(CartService.java:49)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CartController.updateQuantity(CartController.java:150)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CartController$1.lambda$updateItem$0(CartController.java:92)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:386)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ReadOnlyObjectWrapper.fireValueChangedEvent(ReadOnlyObjectWrapper.java:100)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase$Listener.invalidated(ObjectPropertyBase.java:234)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper$Generic.fireValueChangedEvent(ExpressionHelper.java:376)
	at javafx.base@21.0.6/com.sun.javafx.binding.ExpressionHelper.fireValueChangedEvent(ExpressionHelper.java:91)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.fireValueChangedEvent(ObjectPropertyBase.java:106)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.markInvalid(ObjectPropertyBase.java:113)
	at javafx.base@21.0.6/javafx.beans.property.ObjectPropertyBase.set(ObjectPropertyBase.java:147)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory.setValue(SpinnerValueFactory.java:146)
	at javafx.controls@21.0.6/javafx.scene.control.SpinnerValueFactory$IntegerSpinnerValueFactory.increment(SpinnerValueFactory.java:599)
	at javafx.controls@21.0.6/javafx.scene.control.Spinner.increment(Spinner.java:408)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.increment(SpinnerBehavior.java:117)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.lambda$new$0(SpinnerBehavior.java:66)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.SpinnerBehavior.startSpinning(SpinnerBehavior.java:138)
	at javafx.controls@21.0.6/javafx.scene.control.skin.SpinnerSkin.lambda$new$1(SpinnerSkin.java:139)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 04:14:09.245 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 04:14:09.260 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 13 -> số lượng 1
2025-12-01 04:14:09.266 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 04:19:46.681 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 04:19:46.695 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-01 04:20:00.517 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 04:20:00.625 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 04:20:00.647 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 04:20:00.666 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 04:20:00.855 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 04:20:00.859 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 04:20:00.859 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 04:20:00.859 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 04:20:00.859 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 04:20:00.861 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 04:20:00.992 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 04:20:01.318 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 04:20:01.960 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@3f1fb139] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 04:20:02.033 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 04:20:02.275 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 04:20:02.351 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-01 04:20:02.351 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 04:20:09.979 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: customer
2025-12-01 04:20:12.072 [JavaFX Application Thread] INFO  c.e.s.c.CustomerOrderController - Tải đơn hàng thành công: 5 đơn
2025-12-01 04:20:14.514 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 04:20:16.437 [JavaFX Application Thread] DEBUG c.e.shopgaubong.service.StockService - Get available quantity: Item ID 2, On Hand: 100, Reserved: 2, Available: 98
2025-12-01 04:20:16.462 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 13 -> số lượng 2
2025-12-01 04:20:16.470 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 04:20:18.296 [JavaFX Application Thread] DEBUG c.e.shopgaubong.service.StockService - Get available quantity: Item ID 2, On Hand: 100, Reserved: 2, Available: 98
2025-12-01 04:20:18.302 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 13 -> số lượng 3
2025-12-01 04:20:18.310 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 04:20:18.326 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 13 -> số lượng 3
2025-12-01 04:20:18.331 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 04:20:20.525 [JavaFX Application Thread] DEBUG c.e.shopgaubong.service.StockService - Get available quantity: Item ID 2, On Hand: 100, Reserved: 2, Available: 98
2025-12-01 04:20:20.531 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 13 -> số lượng 4
2025-12-01 04:20:20.537 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 04:20:20.547 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 13 -> số lượng 4
2025-12-01 04:20:20.553 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 04:20:20.566 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 13 -> số lượng 4
2025-12-01 04:20:20.571 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 04:20:28.999 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.StockService - Giữ chỗ tồn kho cho Item ID 2: tổng giữ = 4
2025-12-01 04:20:29.004 [JavaFX Application Thread] INFO  c.e.s.controller.CheckoutController - Đặt hàng thành công: ORD-20251201040417-200
2025-12-01 04:20:29.839 [JavaFX Application Thread] INFO  c.e.s.controller.PaymentController - Displaying 1 items for order ORD-20251201040417-200
2025-12-01 04:20:29.840 [JavaFX Application Thread] INFO  c.e.s.service.PaymentService - Calculated fees for order ORD-20251201040417-200: COD=32600, Gateway=0, Total=1822600.00
2025-12-01 04:20:29.840 [JavaFX Application Thread] INFO  c.e.s.controller.PaymentController - Loaded order ORD-20251201040417-200 for payment
2025-12-01 04:20:37.356 [JavaFX Application Thread] INFO  c.e.s.service.PaymentService - Calculated fees for order ORD-20251201040417-200: COD=0, Gateway=0, Total=1790000.00
2025-12-01 04:20:37.357 [JavaFX Application Thread] DEBUG c.e.s.controller.PaymentController - Updated payment method details for: BANK_TRANSFER
2025-12-01 04:20:40.222 [JavaFX Application Thread] INFO  c.e.s.service.PaymentService - Calculated fees for order ORD-20251201040417-200: COD=0, Gateway=0, Total=1790000.00
2025-12-01 04:20:40.235 [JavaFX Application Thread] INFO  c.example.shopgaubong.dao.PaymentDAO - Đã lưu entity: com.example.shopgaubong.entity.Payment@420a2bbb
2025-12-01 04:20:40.235 [JavaFX Application Thread] INFO  c.e.s.service.PaymentService - Created payment 2 for order ORD-20251201040417-200 with method BANK_TRANSFER
2025-12-01 04:20:51.045 [JavaFX Application Thread] INFO  c.e.s.controller.PaymentController - Payment created successfully for order ORD-20251201040417-200
2025-12-01 04:21:00.598 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng xuất: customer
2025-12-01 04:21:09.437 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: admin
2025-12-01 04:21:11.557 [JavaFX Application Thread] INFO  c.e.s.c.OrderManagementController - Tải đơn hàng thành công: 6 đơn
2025-12-01 04:21:31.184 [JavaFX Application Thread] INFO  c.e.s.c.OrderManagementController - Tải đơn hàng thành công: 6 đơn
2025-12-01 04:21:38.992 [JavaFX Application Thread] INFO  c.e.s.c.OrderManagementController - Tải đơn hàng thành công: 6 đơn
2025-12-01 04:21:50.220 [JavaFX Application Thread] INFO  c.e.s.c.OrderManagementController - Tải đơn hàng thành công: 6 đơn
2025-12-01 04:21:54.932 [JavaFX Application Thread] INFO  c.e.s.c.OrderManagementController - Tải đơn hàng thành công: 6 đơn
2025-12-01 04:22:01.992 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tải kho thành công: 2 kho
2025-12-01 04:22:05.094 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 4 stock items
2025-12-01 04:22:05.094 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - StockManagementController initialized
2025-12-01 04:22:13.383 [JavaFX Application Thread] INFO  c.e.s.c.UserManagementController - Loaded 3 accounts
2025-12-01 04:22:15.273 [JavaFX Application Thread] ERROR c.e.s.c.PromotionManagementController - Lỗi khi tải khuyến mãi: Cannot invoke "com.example.shopgaubong.service.PromotionService.getAllPromotions()" because "this.promotionService" is null
java.lang.NullPointerException: Cannot invoke "com.example.shopgaubong.service.PromotionService.getAllPromotions()" because "this.promotionService" is null
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.PromotionManagementController.loadPromotions(PromotionManagementController.java:159)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.PromotionManagementController.initialize(PromotionManagementController.java:78)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at javafx.base@21.0.6/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)
	at javafx.fxml@21.0.6/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2688)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2563)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2531)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.AdminMainController.loadView(AdminMainController.java:102)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.AdminMainController.handleManagePromotions(AdminMainController.java:68)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at javafx.base@21.0.6/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)
	at javafx.fxml@21.0.6/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1855)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1726)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Node.fireEvent(Node.java:8875)
	at javafx.controls@21.0.6/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 04:22:19.145 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 04:22:19.152 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-01 04:22:46.789 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 04:22:46.923 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 04:22:46.954 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 04:22:46.976 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 04:22:47.183 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 04:22:47.189 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 04:22:47.189 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 04:22:47.189 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 04:22:47.189 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 04:22:47.191 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 04:22:47.408 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 04:22:47.960 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 04:22:47.971 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 04:22:48.096 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 04:22:48.128 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 04:22:48.151 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 04:22:48.358 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 04:22:48.366 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 04:22:48.366 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 04:22:48.367 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 04:22:48.367 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 04:22:48.369 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 04:22:48.596 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 04:22:48.830 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@7057dbda] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 04:22:48.929 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 04:22:49.015 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 04:22:49.196 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 04:22:49.261 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-01 04:22:49.262 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 04:22:49.692 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@3f1fb139] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 04:22:49.771 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 04:22:50.055 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 04:22:50.133 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-01 04:22:50.133 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 04:22:56.974 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: staff
2025-12-01 04:22:59.411 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 4 stock items
2025-12-01 04:22:59.412 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - StockManagementController initialized
2025-12-01 04:23:03.870 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tải kho thành công: 2 kho
2025-12-01 04:23:16.170 [JavaFX Application Thread] INFO  c.e.s.c.OrderManagementController - Tải đơn hàng thành công: 6 đơn
2025-12-01 04:23:30.351 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tải kho thành công: 2 kho
2025-12-01 04:23:30.959 [JavaFX Application Thread] INFO  c.e.s.c.OrderManagementController - Tải đơn hàng thành công: 6 đơn
2025-12-01 04:23:44.269 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 4 stock items
2025-12-01 04:23:44.269 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - StockManagementController initialized
2025-12-01 04:23:47.897 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 4 stock items
2025-12-01 04:23:49.704 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng xuất: staff
2025-12-01 04:23:52.003 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 04:23:52.012 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-01 04:23:52.936 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 04:23:52.943 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-01 04:27:54.204 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 04:27:54.388 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 04:27:54.422 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 04:27:54.452 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 04:27:54.803 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 04:27:54.813 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 04:27:54.814 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 04:27:54.814 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 04:27:54.814 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 04:27:54.818 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 04:27:55.132 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 04:27:55.813 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 04:27:56.447 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@40d370fa] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 04:27:56.520 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 04:27:56.749 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 04:27:56.818 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-01 04:27:56.818 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 04:28:02.040 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: admin
2025-12-01 04:28:03.700 [JavaFX Application Thread] ERROR c.e.s.c.PromotionManagementController - Lỗi khi tải khuyến mãi: Cannot invoke "com.example.shopgaubong.service.PromotionService.getAllPromotions()" because "this.promotionService" is null
java.lang.NullPointerException: Cannot invoke "com.example.shopgaubong.service.PromotionService.getAllPromotions()" because "this.promotionService" is null
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.PromotionManagementController.loadPromotions(PromotionManagementController.java:159)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.PromotionManagementController.initialize(PromotionManagementController.java:78)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at javafx.base@21.0.6/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)
	at javafx.fxml@21.0.6/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2688)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2563)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2531)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.AdminMainController.loadView(AdminMainController.java:102)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.AdminMainController.handleManagePromotions(AdminMainController.java:68)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at javafx.base@21.0.6/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)
	at javafx.fxml@21.0.6/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1855)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1726)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Node.fireEvent(Node.java:8875)
	at javafx.controls@21.0.6/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 04:28:21.333 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 04:28:21.338 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-01 04:30:58.808 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 04:30:58.932 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 04:30:58.956 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 04:30:58.974 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 04:30:59.169 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 04:30:59.173 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 04:30:59.173 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 04:30:59.173 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 04:30:59.173 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 04:30:59.174 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 04:30:59.306 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 04:30:59.631 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 04:31:00.288 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@40d370fa] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 04:31:00.364 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 04:31:00.606 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 04:31:00.676 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-01 04:31:00.677 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 04:31:05.347 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: admin
2025-12-01 04:31:06.999 [JavaFX Application Thread] INFO  c.e.s.c.PromotionManagementController - Tải khuyến mãi thành công: 0 khuyến mãi
2025-12-01 04:32:17.517 [JavaFX Application Thread] ERROR c.e.s.c.PromotionManagementController - Lỗi khi lưu khuyến mãi: Cannot invoke "com.example.shopgaubong.entity.Promotion.setDescription(String)" because "promotion" is null
java.lang.NullPointerException: Cannot invoke "com.example.shopgaubong.entity.Promotion.setDescription(String)" because "promotion" is null
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.PromotionManagementController.createPromotion(PromotionManagementController.java:245)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.PromotionManagementController.handleSave(PromotionManagementController.java:210)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at javafx.base@21.0.6/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)
	at javafx.fxml@21.0.6/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1855)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1726)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Node.fireEvent(Node.java:8875)
	at javafx.controls@21.0.6/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 04:32:47.696 [JavaFX Application Thread] ERROR c.e.s.c.PromotionManagementController - Lỗi khi lưu khuyến mãi: Cannot invoke "com.example.shopgaubong.entity.Promotion.setDescription(String)" because "promotion" is null
java.lang.NullPointerException: Cannot invoke "com.example.shopgaubong.entity.Promotion.setDescription(String)" because "promotion" is null
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.PromotionManagementController.createPromotion(PromotionManagementController.java:245)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.PromotionManagementController.handleSave(PromotionManagementController.java:210)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at javafx.base@21.0.6/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)
	at javafx.fxml@21.0.6/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1855)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1726)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Node.fireEvent(Node.java:8875)
	at javafx.controls@21.0.6/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 04:36:38.931 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 04:36:38.940 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-01 04:36:52.599 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 04:36:52.707 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 04:36:52.731 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 04:36:52.749 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 04:36:52.945 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 04:36:52.949 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 04:36:52.949 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 04:36:52.949 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 04:36:52.949 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 04:36:52.951 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 04:36:53.084 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 04:36:53.413 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 04:36:54.058 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@75adb1c0] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 04:36:54.134 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 04:36:54.375 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 04:36:54.459 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-01 04:36:54.460 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 04:37:03.360 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: admin
2025-12-01 04:37:07.937 [JavaFX Application Thread] INFO  c.e.s.c.PromotionManagementController - Tải khuyến mãi thành công: 0 khuyến mãi
2025-12-01 04:37:42.556 [JavaFX Application Thread] INFO  c.e.shopgaubong.dao.PromotionDAO - Đã lưu entity: com.example.shopgaubong.entity.Promotion@5ee7346
2025-12-01 04:37:42.556 [JavaFX Application Thread] INFO  c.e.s.service.PromotionService - Tạo khuyến mãi mới: SUM123 - km mua he
2025-12-01 04:37:43.614 [JavaFX Application Thread] INFO  c.e.s.c.PromotionManagementController - Tạo khuyến mãi mới: SUM123
2025-12-01 04:37:43.619 [JavaFX Application Thread] INFO  c.e.s.c.PromotionManagementController - Tải khuyến mãi thành công: 1 khuyến mãi
2025-12-01 04:37:58.812 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng xuất: admin
2025-12-01 04:38:05.805 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: customer
2025-12-01 04:38:20.296 [JavaFX Application Thread] INFO  c.e.s.c.CustomerOrderController - Tải đơn hàng thành công: 6 đơn
2025-12-01 04:38:21.536 [JavaFX Application Thread] INFO  c.example.shopgaubong.dao.OrderDAO - Đã lưu entity: com.example.shopgaubong.entity.Order@20fe6c7f
2025-12-01 04:38:21.543 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 0 sản phẩm
2025-12-01 04:38:23.602 [JavaFX Application Thread] DEBUG c.e.shopgaubong.service.StockService - Check availability: Item ID 3, On Hand: 100, Reserved: 0, Available: 100, Required: 1, Result: true
2025-12-01 04:38:23.618 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.OrderService - Thêm sản phẩm vào đơn hàng ORD-20251201043821-607: gau bong moc khoa mau vang x1
2025-12-01 04:38:32.116 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 04:38:33.621 [JavaFX Application Thread] DEBUG c.e.shopgaubong.service.StockService - Get available quantity: Item ID 3, On Hand: 100, Reserved: 0, Available: 100
2025-12-01 04:38:33.628 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 14 -> số lượng 2
2025-12-01 04:38:33.634 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 04:38:34.781 [JavaFX Application Thread] DEBUG c.e.shopgaubong.service.StockService - Get available quantity: Item ID 3, On Hand: 100, Reserved: 0, Available: 100
2025-12-01 04:38:34.786 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 14 -> số lượng 3
2025-12-01 04:38:34.790 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 04:38:34.803 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 14 -> số lượng 3
2025-12-01 04:38:34.806 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 04:38:38.255 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Áp dụng mã khuyến mãi SUM123 cho khách hàng ID 3
2025-12-01 04:38:38.260 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 04:39:10.489 [JavaFX Application Thread] INFO  c.e.s.c.CustomerOrderController - Tải đơn hàng thành công: 6 đơn
2025-12-01 04:39:12.313 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 04:39:17.996 [JavaFX Application Thread] ERROR c.e.s.controller.CartController - Lỗi khi áp dụng khuyến mãi: Mã khuyến mãi không tồn tại
java.lang.IllegalArgumentException: Mã khuyến mãi không tồn tại
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.PromotionService.applyPromotion(PromotionService.java:147)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.OrderService.applyPromotion(OrderService.java:246)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.service.CartService.applyPromotionCode(CartService.java:79)
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CartController.handleApplyPromotion(CartController.java:193)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at javafx.base@21.0.6/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)
	at javafx.fxml@21.0.6/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1855)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1726)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Node.fireEvent(Node.java:8875)
	at javafx.controls@21.0.6/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 04:39:20.297 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Áp dụng mã khuyến mãi SUM123 cho khách hàng ID 3
2025-12-01 04:39:20.302 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 04:39:26.212 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 04:39:27.511 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng xuất: customer
2025-12-01 04:39:28.505 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 04:39:28.514 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-01 04:43:48.735 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 04:43:48.850 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 04:43:48.876 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 04:43:48.895 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 04:43:49.090 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 04:43:49.096 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 04:43:49.096 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 04:43:49.096 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 04:43:49.096 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 04:43:49.098 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 04:43:49.236 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 04:43:49.565 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 04:43:50.206 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@7ac90dab] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 04:43:50.294 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 04:43:50.523 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 04:43:50.588 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-01 04:43:50.588 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 04:43:57.967 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: customer
2025-12-01 04:44:00.281 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 04:44:04.124 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Áp dụng mã khuyến mãi SUM123 cho khách hàng ID 3
2025-12-01 04:44:04.131 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 04:44:10.778 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Áp dụng mã khuyến mãi SUM123 cho khách hàng ID 3
2025-12-01 04:44:14.393 [JavaFX Application Thread] ERROR c.e.s.controller.CheckoutController - Error viewing promotions: class javafx.scene.layout.HBox cannot be cast to class javafx.scene.layout.VBox (javafx.scene.layout.HBox and javafx.scene.layout.VBox are in module javafx.graphics@21.0.6 of loader 'app')
java.lang.ClassCastException: class javafx.scene.layout.HBox cannot be cast to class javafx.scene.layout.VBox (javafx.scene.layout.HBox and javafx.scene.layout.VBox are in module javafx.graphics@21.0.6 of loader 'app')
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CheckoutController.handleViewPromotions(CheckoutController.java:202)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at javafx.base@21.0.6/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)
	at javafx.fxml@21.0.6/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1855)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1726)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Node.fireEvent(Node.java:8875)
	at javafx.controls@21.0.6/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 04:44:28.840 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 04:44:28.847 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-01 04:46:36.976 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 04:46:37.083 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 04:46:37.109 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 04:46:37.130 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 04:46:37.325 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 04:46:37.328 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 04:46:37.328 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 04:46:37.328 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 04:46:37.328 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 04:46:37.330 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 04:46:37.460 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 04:46:37.789 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 04:46:38.430 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@75adb1c0] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 04:46:38.503 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 04:46:38.747 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 04:46:38.827 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-01 04:46:38.827 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 04:46:52.817 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: customer
2025-12-01 04:46:54.903 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 04:46:58.638 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.OrderService - DEBUG: Subtotal=60000.00, PromotionDiscount=8.00, OldDiscount=0.00
2025-12-01 04:46:58.639 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.OrderService - DEBUG: After apply - NewDiscount=8.00, GrandTotal=65991.20
2025-12-01 04:46:58.672 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Áp dụng mã khuyến mãi SUM123 cho khách hàng ID 3
2025-12-01 04:46:58.681 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 04:47:12.582 [JavaFX Application Thread] ERROR c.e.s.controller.CheckoutController - Error viewing promotions: class javafx.scene.layout.HBox cannot be cast to class javafx.scene.layout.VBox (javafx.scene.layout.HBox and javafx.scene.layout.VBox are in module javafx.graphics@21.0.6 of loader 'app')
java.lang.ClassCastException: class javafx.scene.layout.HBox cannot be cast to class javafx.scene.layout.VBox (javafx.scene.layout.HBox and javafx.scene.layout.VBox are in module javafx.graphics@21.0.6 of loader 'app')
	at com.example.shopgaubong@1.0-SNAPSHOT/com.example.shopgaubong.controller.CheckoutController.handleViewPromotions(CheckoutController.java:202)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at javafx.base@21.0.6/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)
	at javafx.fxml@21.0.6/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1855)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1726)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Node.fireEvent(Node.java:8875)
	at javafx.controls@21.0.6/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-01 04:47:59.939 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 04:47:59.947 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-01 04:48:10.836 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 04:48:10.958 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 04:48:10.984 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 04:48:11.003 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 04:48:11.183 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 04:48:11.188 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 04:48:11.188 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 04:48:11.188 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 04:48:11.188 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 04:48:11.190 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 04:48:11.325 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 04:48:11.664 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 04:48:12.335 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@75adb1c0] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 04:48:12.421 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 04:48:12.659 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 04:48:12.737 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-01 04:48:12.737 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 04:48:22.387 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: customer
2025-12-01 04:48:24.011 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 04:48:26.091 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.OrderService - DEBUG: Subtotal=60000.00, PromotionDiscount=8.00, OldDiscount=8.00
2025-12-01 04:48:26.091 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.OrderService - DEBUG: After apply - NewDiscount=16.00, GrandTotal=65982.40
2025-12-01 04:48:26.119 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Áp dụng mã khuyến mãi SUM123 cho khách hàng ID 3
2025-12-01 04:48:26.126 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 04:48:32.846 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.OrderService - DEBUG: Subtotal=60000.00, PromotionDiscount=8.00, OldDiscount=16.00
2025-12-01 04:48:32.846 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.OrderService - DEBUG: After apply - NewDiscount=24.00, GrandTotal=65973.60
2025-12-01 04:48:32.852 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Áp dụng mã khuyến mãi SUM123 cho khách hàng ID 3
2025-12-01 04:48:32.859 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 04:48:59.949 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.OrderService - DEBUG: Subtotal=60000.00, PromotionDiscount=8.00, OldDiscount=24.00
2025-12-01 04:48:59.949 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.OrderService - DEBUG: After apply - NewDiscount=32.00, GrandTotal=65964.80
2025-12-01 04:48:59.955 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Áp dụng mã khuyến mãi SUM123 cho khách hàng ID 3
2025-12-01 04:49:07.345 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.OrderService - DEBUG: Subtotal=60000.00, PromotionDiscount=8.00, OldDiscount=32.00
2025-12-01 04:49:07.346 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.OrderService - DEBUG: After apply - NewDiscount=40.00, GrandTotal=65956.00
2025-12-01 04:49:07.351 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Áp dụng mã khuyến mãi SUM123 cho khách hàng ID 3
2025-12-01 04:49:16.166 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.OrderService - DEBUG: Subtotal=60000.00, PromotionDiscount=8.00, OldDiscount=40.00
2025-12-01 04:49:16.166 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.OrderService - DEBUG: After apply - NewDiscount=48.00, GrandTotal=65947.20
2025-12-01 04:49:16.171 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Áp dụng mã khuyến mãi SUM123 cho khách hàng ID 3
2025-12-01 04:49:29.202 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.OrderService - DEBUG: Subtotal=60000.00, PromotionDiscount=8.00, OldDiscount=48.00
2025-12-01 04:49:29.202 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.OrderService - DEBUG: After apply - NewDiscount=56.00, GrandTotal=65938.40
2025-12-01 04:49:29.209 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Áp dụng mã khuyến mãi SUM123 cho khách hàng ID 3
2025-12-01 04:50:17.257 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 04:53:37.783 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 04:53:37.792 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-01 04:54:11.830 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 04:54:11.950 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 04:54:11.975 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 04:54:11.993 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 04:54:12.202 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 04:54:12.206 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 04:54:12.206 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 04:54:12.206 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 04:54:12.206 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 04:54:12.207 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 04:54:12.351 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 04:54:12.693 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 04:54:13.338 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@e3692ca] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 04:54:13.413 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 04:54:13.651 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 04:54:13.725 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-01 04:54:13.725 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 04:54:23.133 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: customer
2025-12-01 04:54:25.571 [JavaFX Application Thread] INFO  c.e.s.c.CustomerOrderController - Tải đơn hàng thành công: 6 đơn
2025-12-01 04:54:27.294 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 04:54:49.609 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.OrderService - DEBUG: Subtotal=60000.00, ItemDiscount=0.00, PromotionDiscount=8.00, OldDiscount=56.00
2025-12-01 04:54:49.610 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.OrderService - DEBUG: After apply - NewDiscount=8.00, GrandTotal=65991.20
2025-12-01 04:54:49.636 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Áp dụng mã khuyến mãi SUM123 cho khách hàng ID 3
2025-12-01 04:54:53.313 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.OrderService - Đã xóa khuyến mãi khỏi đơn hàng ORD-20251201043821-607
2025-12-01 04:54:53.313 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Xóa mã khuyến mãi cho khách hàng ID 3
2025-12-01 04:54:55.301 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.OrderService - DEBUG: Subtotal=60000.00, ItemDiscount=0.00, PromotionDiscount=8.00, OldDiscount=0.00
2025-12-01 04:54:55.301 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.OrderService - DEBUG: After apply - NewDiscount=8.00, GrandTotal=65991.20
2025-12-01 04:54:55.306 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Áp dụng mã khuyến mãi SUM123 cho khách hàng ID 3
2025-12-01 04:54:57.472 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.OrderService - Đã xóa khuyến mãi khỏi đơn hàng ORD-20251201043821-607
2025-12-01 04:54:57.472 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Xóa mã khuyến mãi cho khách hàng ID 3
2025-12-01 04:54:59.632 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.OrderService - DEBUG: Subtotal=60000.00, ItemDiscount=0.00, PromotionDiscount=8.00, OldDiscount=0.00
2025-12-01 04:54:59.633 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.OrderService - DEBUG: After apply - NewDiscount=8.00, GrandTotal=65991.20
2025-12-01 04:54:59.637 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Áp dụng mã khuyến mãi SUM123 cho khách hàng ID 3
2025-12-01 04:55:01.572 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.OrderService - Đã xóa khuyến mãi khỏi đơn hàng ORD-20251201043821-607
2025-12-01 04:55:01.572 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Xóa mã khuyến mãi cho khách hàng ID 3
2025-12-01 04:55:10.220 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 04:55:18.542 [JavaFX Application Thread] DEBUG c.e.shopgaubong.service.StockService - Get available quantity: Item ID 3, On Hand: 100, Reserved: 0, Available: 100
2025-12-01 04:55:18.550 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 14 -> số lượng 4
2025-12-01 04:55:18.555 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 04:55:36.500 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 04:55:37.232 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 04:55:42.227 [JavaFX Application Thread] INFO  c.e.s.c.CustomerOrderController - Tải đơn hàng thành công: 6 đơn
2025-12-01 04:56:06.494 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 04:56:06.503 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-01 05:05:17.980 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 05:05:18.094 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 05:05:18.119 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 05:05:18.137 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 05:05:18.320 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 05:05:18.324 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 05:05:18.324 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 05:05:18.324 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 05:05:18.324 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 05:05:18.326 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 05:05:18.464 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 05:05:18.797 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 05:05:19.462 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@42e4431] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 05:05:19.859 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 05:05:20.083 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 05:05:20.144 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-01 05:05:20.144 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 05:05:26.343 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: admin
2025-12-01 05:05:36.846 [JavaFX Application Thread] INFO  c.e.s.c.OrderManagementController - Tải đơn hàng thành công: 6 đơn
2025-12-01 05:05:38.430 [JavaFX Application Thread] INFO  c.e.s.c.PromotionManagementController - Tải khuyến mãi thành công: 1 khuyến mãi
2025-12-01 05:06:06.739 [JavaFX Application Thread] INFO  c.e.s.c.UserManagementController - Loaded 3 accounts
2025-12-01 05:06:15.444 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng xuất: admin
2025-12-01 05:06:21.267 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: staff
2025-12-01 05:06:25.365 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 4 stock items
2025-12-01 05:06:25.365 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - StockManagementController initialized
2025-12-01 05:06:26.498 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tải kho thành công: 2 kho
2025-12-01 05:06:28.043 [JavaFX Application Thread] INFO  c.e.s.c.OrderManagementController - Tải đơn hàng thành công: 6 đơn
2025-12-01 05:06:30.815 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng xuất: staff
2025-12-01 05:06:41.091 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: customer
2025-12-01 05:06:42.564 [JavaFX Application Thread] INFO  c.e.s.c.CustomerOrderController - Tải đơn hàng thành công: 6 đơn
2025-12-01 05:06:44.096 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-01 05:07:00.901 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.StockService - Giữ chỗ tồn kho cho Item ID 3: tổng giữ = 4
2025-12-01 05:07:00.909 [JavaFX Application Thread] INFO  c.e.s.controller.CheckoutController - Đặt hàng thành công: ORD-20251201043821-607
2025-12-01 05:07:01.814 [JavaFX Application Thread] INFO  c.e.s.controller.PaymentController - Displaying 1 items for order ORD-20251201043821-607
2025-12-01 05:07:01.814 [JavaFX Application Thread] INFO  c.e.s.service.PaymentService - Calculated fees for order ORD-20251201043821-607: COD=10000, Gateway=0, Total=128000.00
2025-12-01 05:07:01.814 [JavaFX Application Thread] INFO  c.e.s.controller.PaymentController - Loaded order ORD-20251201043821-607 for payment
2025-12-01 05:07:08.943 [JavaFX Application Thread] INFO  c.e.s.service.PaymentService - Calculated fees for order ORD-20251201043821-607: COD=10000, Gateway=0, Total=128000.00
2025-12-01 05:07:08.958 [JavaFX Application Thread] INFO  c.example.shopgaubong.dao.PaymentDAO - Đã lưu entity: com.example.shopgaubong.entity.Payment@1f65b7ea
2025-12-01 05:07:08.958 [JavaFX Application Thread] INFO  c.e.s.service.PaymentService - Created payment 3 for order ORD-20251201043821-607 with method COD
2025-12-01 05:07:13.112 [JavaFX Application Thread] INFO  c.e.s.controller.PaymentController - Payment created successfully for order ORD-20251201043821-607
2025-12-01 05:07:24.748 [JavaFX Application Thread] INFO  c.example.shopgaubong.dao.OrderDAO - Đã lưu entity: com.example.shopgaubong.entity.Order@38483bec
2025-12-01 05:07:24.751 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 0 sản phẩm
2025-12-01 05:07:27.710 [JavaFX Application Thread] INFO  c.e.s.c.CustomerOrderController - Tải đơn hàng thành công: 7 đơn
2025-12-01 05:07:30.259 [JavaFX Application Thread] INFO  c.e.s.c.CustomerProfileController - Loaded account information for user: customer
2025-12-01 05:07:30.259 [JavaFX Application Thread] INFO  c.e.s.c.CustomerProfileController - Loaded profile data for user: customer
2025-12-01 05:07:31.752 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 0 sản phẩm
2025-12-01 05:07:32.967 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 0 sản phẩm
2025-12-01 05:07:35.955 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 0 sản phẩm
2025-12-01 05:07:40.488 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 05:07:40.496 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-01 05:10:12.297 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 05:10:12.418 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 05:10:12.445 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 05:10:12.469 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 05:10:12.724 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 05:10:12.734 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 05:10:12.734 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 05:10:12.734 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 05:10:12.735 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 05:10:12.737 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 05:10:12.958 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 05:10:13.440 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 05:10:14.109 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@42e4431] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 05:10:14.195 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 05:10:14.437 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 05:10:14.515 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-01 05:10:14.515 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 05:10:19.870 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: staff
2025-12-01 05:10:36.362 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 05:10:36.369 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-01 05:21:53.875 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 05:21:53.983 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 05:21:54.008 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 05:21:54.026 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 05:21:54.219 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 05:21:54.225 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 05:21:54.225 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 05:21:54.225 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 05:21:54.225 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 05:21:54.226 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 05:21:54.364 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 05:21:54.698 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 05:21:55.369 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@581d5b33] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 05:21:55.453 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 05:21:55.691 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 05:21:55.765 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-01 05:21:55.766 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 05:22:06.189 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: staff
2025-12-01 05:22:10.625 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 05:22:10.633 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-01 05:23:18.289 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 05:23:18.406 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 05:23:18.433 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 05:23:18.452 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 05:23:18.647 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 05:23:18.652 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 05:23:18.652 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 05:23:18.652 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 05:23:18.653 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 05:23:18.655 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 05:23:18.793 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 05:23:19.136 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 05:23:19.806 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@374ba492] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 05:23:19.889 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 05:23:20.118 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 05:23:20.185 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-01 05:23:20.185 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 05:23:26.984 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: staff
2025-12-01 05:23:35.706 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 05:23:35.711 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-01 05:26:31.889 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 05:26:32.011 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 05:26:32.039 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 05:26:32.061 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 05:26:32.264 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 05:26:32.268 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 05:26:32.268 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 05:26:32.268 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 05:26:32.268 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 05:26:32.269 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 05:26:32.404 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 05:26:32.745 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 05:26:33.453 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@374ba492] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 05:26:33.537 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 05:26:33.778 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 05:26:33.862 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-01 05:26:33.862 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 05:27:42.943 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 05:27:42.955 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-01 05:27:50.029 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 05:27:50.149 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 05:27:50.174 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 05:27:50.194 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 05:27:50.381 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 05:27:50.386 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 05:27:50.386 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 05:27:50.386 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 05:27:50.386 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 05:27:50.387 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 05:27:50.519 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 05:27:50.858 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 05:27:51.544 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@374ba492] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 05:27:51.631 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 05:27:51.871 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 05:27:51.946 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-01 05:27:51.946 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 05:27:57.315 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: admin
2025-12-01 05:27:59.615 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 4 stock items
2025-12-01 05:27:59.616 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - StockManagementController initialized
2025-12-01 05:28:02.411 [JavaFX Application Thread] INFO  c.e.s.c.OrderManagementController - Tải đơn hàng thành công: 7 đơn
2025-12-01 05:28:03.103 [JavaFX Application Thread] INFO  c.e.s.c.PromotionManagementController - Tải khuyến mãi thành công: 1 khuyến mãi
2025-12-01 05:28:03.855 [JavaFX Application Thread] INFO  c.e.s.c.OrderManagementController - Tải đơn hàng thành công: 7 đơn
2025-12-01 05:28:25.352 [JavaFX Application Thread] INFO  c.e.s.c.OrderManagementController - Tải đơn hàng thành công: 7 đơn
2025-12-01 05:28:26.869 [JavaFX Application Thread] INFO  c.e.s.c.OrderManagementController - Tải đơn hàng thành công: 7 đơn
2025-12-01 05:28:29.188 [JavaFX Application Thread] INFO  c.e.s.c.PromotionManagementController - Tải khuyến mãi thành công: 1 khuyến mãi
2025-12-01 05:28:31.061 [JavaFX Application Thread] INFO  c.e.s.c.OrderManagementController - Tải đơn hàng thành công: 7 đơn
2025-12-01 05:28:54.333 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 05:28:54.341 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-01 05:40:09.077 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 05:40:09.269 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 05:40:09.308 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 05:40:09.354 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 05:40:09.729 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 05:40:09.736 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 05:40:09.738 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 05:40:09.740 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 05:40:09.741 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 05:40:09.743 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 05:40:10.031 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 05:40:10.713 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 05:40:12.298 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@25d23478] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 05:40:12.458 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 05:40:13.251 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 05:40:13.702 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-01 05:40:13.702 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 05:40:21.801 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: admin
2025-12-01 05:40:32.911 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 4 stock items
2025-12-01 05:40:32.913 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - StockManagementController initialized
2025-12-01 05:40:35.851 [JavaFX Application Thread] INFO  c.e.s.c.OrderManagementController - Tải đơn hàng thành công: 7 đơn
2025-12-01 05:40:42.692 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tải kho thành công: 2 kho
2025-12-01 05:40:43.324 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 4 stock items
2025-12-01 05:40:43.324 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - StockManagementController initialized
2025-12-01 05:40:45.137 [JavaFX Application Thread] INFO  c.e.s.c.UserManagementController - Loaded 3 accounts
2025-12-01 05:40:58.295 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng xuất: admin
2025-12-01 05:41:02.814 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: staff
2025-12-01 05:41:04.290 [JavaFX Application Thread] INFO  c.e.s.c.PaymentManagementController - Loaded 3 payments
2025-12-01 05:41:04.291 [JavaFX Application Thread] INFO  c.e.s.c.PaymentManagementController - PaymentManagementController initialized
2025-12-01 05:41:27.836 [JavaFX Application Thread] INFO  c.example.shopgaubong.dao.OrderDAO - Đã cập nhật entity: com.example.shopgaubong.entity.Order@f517181
2025-12-01 05:41:27.842 [JavaFX Application Thread] INFO  c.e.s.c.PaymentManagementController - Loaded 3 payments
2025-12-01 05:41:28.743 [JavaFX Application Thread] INFO  c.e.s.c.PaymentManagementController - Updated order status to DELIVERED for order: ORD-20251201043821-607
2025-12-01 05:41:34.367 [JavaFX Application Thread] INFO  c.example.shopgaubong.dao.PaymentDAO - Đã cập nhật entity: com.example.shopgaubong.entity.Payment@9d2e0fb
2025-12-01 05:41:34.381 [JavaFX Application Thread] INFO  c.example.shopgaubong.dao.OrderDAO - Đã cập nhật entity: com.example.shopgaubong.entity.Order@4c1cf072
2025-12-01 05:41:34.386 [JavaFX Application Thread] INFO  c.e.s.c.PaymentManagementController - Loaded 3 payments
2025-12-01 05:41:35.147 [JavaFX Application Thread] INFO  c.e.s.c.PaymentManagementController - Confirmed payment for order: ORD-20251201024257-713
2025-12-01 05:41:37.762 [JavaFX Application Thread] INFO  c.example.shopgaubong.dao.PaymentDAO - Đã cập nhật entity: com.example.shopgaubong.entity.Payment@296e3738
2025-12-01 05:41:37.770 [JavaFX Application Thread] INFO  c.example.shopgaubong.dao.OrderDAO - Đã cập nhật entity: com.example.shopgaubong.entity.Order@7e7efdf4
2025-12-01 05:41:37.775 [JavaFX Application Thread] INFO  c.e.s.c.PaymentManagementController - Loaded 3 payments
2025-12-01 05:41:38.442 [JavaFX Application Thread] INFO  c.e.s.c.PaymentManagementController - Confirmed payment for order: ORD-20251201040417-200
2025-12-01 05:41:45.213 [JavaFX Application Thread] INFO  c.example.shopgaubong.dao.PaymentDAO - Đã cập nhật entity: com.example.shopgaubong.entity.Payment@4f8769c9
2025-12-01 05:41:45.226 [JavaFX Application Thread] INFO  c.example.shopgaubong.dao.OrderDAO - Đã cập nhật entity: com.example.shopgaubong.entity.Order@2140fa61
2025-12-01 05:41:45.230 [JavaFX Application Thread] INFO  c.e.s.c.PaymentManagementController - Loaded 3 payments
2025-12-01 05:41:46.118 [JavaFX Application Thread] INFO  c.e.s.c.PaymentManagementController - Refunded payment for order: ORD-20251201040417-200
2025-12-01 05:41:50.072 [JavaFX Application Thread] INFO  c.example.shopgaubong.dao.PaymentDAO - Đã cập nhật entity: com.example.shopgaubong.entity.Payment@4d60685c
2025-12-01 05:41:50.084 [JavaFX Application Thread] INFO  c.example.shopgaubong.dao.OrderDAO - Đã cập nhật entity: com.example.shopgaubong.entity.Order@753d14aa
2025-12-01 05:41:50.088 [JavaFX Application Thread] INFO  c.e.s.c.PaymentManagementController - Loaded 3 payments
2025-12-01 05:41:50.886 [JavaFX Application Thread] INFO  c.e.s.c.PaymentManagementController - Refunded payment for order: ORD-20251201024257-713
2025-12-01 05:42:09.202 [JavaFX Application Thread] INFO  c.e.s.c.OrderManagementController - Tải đơn hàng thành công: 7 đơn
2025-12-01 05:42:10.444 [JavaFX Application Thread] INFO  c.e.s.c.PaymentManagementController - Loaded 3 payments
2025-12-01 05:42:10.445 [JavaFX Application Thread] INFO  c.e.s.c.PaymentManagementController - PaymentManagementController initialized
2025-12-01 05:42:13.992 [JavaFX Application Thread] INFO  c.e.s.c.PaymentManagementController - Loaded 3 payments
2025-12-01 05:42:13.992 [JavaFX Application Thread] INFO  c.e.s.c.PaymentManagementController - PaymentManagementController initialized
2025-12-01 05:42:14.733 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 4 stock items
2025-12-01 05:42:14.733 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - StockManagementController initialized
2025-12-01 05:42:15.432 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tải kho thành công: 2 kho
2025-12-01 05:42:15.998 [JavaFX Application Thread] INFO  c.e.s.c.OrderManagementController - Tải đơn hàng thành công: 7 đơn
2025-12-01 05:42:16.819 [JavaFX Application Thread] INFO  c.e.s.c.PaymentManagementController - Loaded 3 payments
2025-12-01 05:42:16.819 [JavaFX Application Thread] INFO  c.e.s.c.PaymentManagementController - PaymentManagementController initialized
2025-12-01 05:42:20.363 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 4 stock items
2025-12-01 05:42:20.363 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - StockManagementController initialized
2025-12-01 05:42:20.921 [JavaFX Application Thread] INFO  c.e.s.c.PaymentManagementController - Loaded 3 payments
2025-12-01 05:42:20.921 [JavaFX Application Thread] INFO  c.e.s.c.PaymentManagementController - PaymentManagementController initialized
2025-12-01 05:42:27.162 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng xuất: staff
2025-12-01 05:42:36.634 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 05:42:36.644 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-01 17:20:46.816 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 17:20:46.997 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 17:20:47.023 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 17:20:47.045 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 17:20:47.269 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 17:20:47.276 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 17:20:47.277 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 17:20:47.277 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 17:20:47.277 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 17:20:47.280 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 17:20:47.455 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 17:20:47.839 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 17:20:48.561 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@2079fcfc] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 17:20:48.740 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 17:20:49.008 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 17:20:49.126 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-01 17:20:49.126 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 17:20:58.913 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: admin
2025-12-01 17:21:00.997 [JavaFX Application Thread] INFO  c.e.s.c.UserManagementController - Loaded 3 accounts
2025-12-01 17:21:04.895 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tải kho thành công: 2 kho
2025-12-01 17:21:05.631 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 4 stock items
2025-12-01 17:21:05.631 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - StockManagementController initialized
2025-12-01 17:21:09.835 [JavaFX Application Thread] INFO  c.e.s.c.OrderManagementController - Tải đơn hàng thành công: 7 đơn
2025-12-01 17:21:10.576 [JavaFX Application Thread] INFO  c.e.s.c.PromotionManagementController - Tải khuyến mãi thành công: 1 khuyến mãi
2025-12-01 17:21:11.353 [JavaFX Application Thread] INFO  c.e.s.c.OrderManagementController - Tải đơn hàng thành công: 7 đơn
2025-12-01 17:21:27.532 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 17:21:27.544 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-01 17:22:25.006 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-01 17:22:25.112 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-01 17:22:25.138 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-01 17:22:25.157 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-01 17:22:25.337 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-01 17:22:25.341 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-01 17:22:25.342 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 17:22:25.342 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-01 17:22:25.342 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-01 17:22:25.343 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-01 17:22:25.479 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-01 17:22:25.812 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-01 17:22:26.474 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@39c1e7b7] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-01 17:22:26.580 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-01 17:22:26.813 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-01 17:22:26.880 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-01 17:22:26.880 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-01 17:22:32.915 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: admin
2025-12-01 17:22:35.479 [JavaFX Application Thread] INFO  c.e.s.c.PaymentManagementController - Loaded 3 payments
2025-12-01 17:22:35.480 [JavaFX Application Thread] INFO  c.e.s.c.PaymentManagementController - PaymentManagementController initialized
2025-12-01 17:23:15.741 [JavaFX Application Thread] INFO  c.e.s.c.UserManagementController - Loaded 3 accounts
2025-12-01 17:23:19.660 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tải kho thành công: 2 kho
2025-12-01 17:23:20.259 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 4 stock items
2025-12-01 17:23:20.259 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - StockManagementController initialized
2025-12-01 17:23:20.709 [JavaFX Application Thread] INFO  c.e.s.c.OrderManagementController - Tải đơn hàng thành công: 7 đơn
2025-12-01 17:23:20.983 [JavaFX Application Thread] INFO  c.e.s.c.PromotionManagementController - Tải khuyến mãi thành công: 1 khuyến mãi
2025-12-01 17:23:21.931 [JavaFX Application Thread] INFO  c.e.s.c.PaymentManagementController - Loaded 3 payments
2025-12-01 17:23:21.932 [JavaFX Application Thread] INFO  c.e.s.c.PaymentManagementController - PaymentManagementController initialized
2025-12-01 17:23:25.559 [JavaFX Application Thread] INFO  c.e.s.c.PaymentManagementController - Loaded 3 payments
2025-12-01 17:23:25.559 [JavaFX Application Thread] INFO  c.e.s.c.PaymentManagementController - PaymentManagementController initialized
2025-12-01 17:23:47.925 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng xuất: admin
2025-12-01 17:23:49.095 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-01 17:23:49.103 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-13 10:06:46.727 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-13 10:06:46.886 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-13 10:06:46.909 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-13 10:06:46.927 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-13 10:06:47.144 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-13 10:06:47.150 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-13 10:06:47.150 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-13 10:06:47.150 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-13 10:06:47.150 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-13 10:06:47.151 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-13 10:06:47.330 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-13 10:06:47.705 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-13 10:06:48.466 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@3fe5ad73] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-13 10:06:48.610 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-13 10:06:48.856 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-13 10:06:48.926 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-13 10:06:48.926 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-13 10:06:51.725 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-13 10:06:51.735 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-13 10:17:36.731 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-13 10:17:36.921 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-13 10:17:36.950 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-13 10:17:36.973 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-13 10:17:37.217 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-13 10:17:37.224 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-13 10:17:37.224 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-13 10:17:37.224 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-13 10:17:37.224 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-13 10:17:37.226 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-13 10:17:37.422 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-13 10:17:37.842 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-13 10:17:38.648 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@3e0327dd] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-13 10:17:38.793 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-13 10:17:39.042 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-13 10:17:39.115 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-13 10:17:39.116 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-13 10:17:45.233 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: admin
2025-12-13 10:18:56.510 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-13 10:18:56.518 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-13 10:19:22.059 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-13 10:19:22.233 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-13 10:19:22.259 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-13 10:19:22.283 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-13 10:19:22.500 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-13 10:19:22.508 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-13 10:19:22.509 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-13 10:19:22.510 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-13 10:19:22.510 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-13 10:19:22.512 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-13 10:19:22.756 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-13 10:19:23.221 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-13 10:19:24.064 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@3361d286] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-13 10:19:24.214 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-13 10:19:24.474 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-13 10:19:24.552 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-13 10:19:24.552 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-13 10:19:30.389 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: admin
2025-12-13 10:19:31.285 [JavaFX Application Thread] INFO  c.e.s.c.UserManagementController - Loaded 3 accounts
2025-12-13 10:19:32.734 [JavaFX Application Thread] DEBUG c.e.s.controller.ReportController - Revenue chart loaded with 31 data points
2025-12-13 10:19:32.743 [JavaFX Application Thread] DEBUG c.e.s.controller.ReportController - Order status chart loaded with 4 statuses
2025-12-13 10:19:32.746 [JavaFX Application Thread] DEBUG c.e.s.controller.ReportController - Top products chart loaded with 0 products
2025-12-13 10:19:32.748 [JavaFX Application Thread] DEBUG c.e.s.controller.ReportController - Low stock data loaded with 0 items
2025-12-13 10:19:32.748 [JavaFX Application Thread] INFO  c.e.s.controller.ReportController - Dashboard data loaded successfully
2025-12-13 10:19:32.749 [JavaFX Application Thread] INFO  c.e.s.controller.ReportController - ReportController initialized
2025-12-13 10:20:20.755 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-13 10:20:20.891 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-13 10:20:20.917 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-13 10:20:20.939 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-13 10:20:21.180 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-13 10:20:21.184 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-13 10:20:21.184 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-13 10:20:21.184 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-13 10:20:21.185 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-13 10:20:21.186 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-13 10:20:21.334 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-13 10:20:21.702 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-13 10:20:22.435 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@3d2b13f] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-13 10:20:22.576 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-13 10:20:22.822 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-13 10:20:22.896 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-13 10:20:22.897 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-13 10:20:27.791 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: admin
2025-12-13 10:20:28.910 [JavaFX Application Thread] DEBUG c.e.s.controller.ReportController - Revenue chart loaded with 31 data points
2025-12-13 10:20:28.920 [JavaFX Application Thread] DEBUG c.e.s.controller.ReportController - Order status chart loaded with 4 statuses
2025-12-13 10:20:28.925 [JavaFX Application Thread] DEBUG c.e.s.controller.ReportController - Top products chart loaded with 0 products
2025-12-13 10:20:28.929 [JavaFX Application Thread] DEBUG c.e.s.controller.ReportController - Low stock data loaded with 0 items
2025-12-13 10:20:28.929 [JavaFX Application Thread] INFO  c.e.s.controller.ReportController - Dashboard data loaded successfully
2025-12-13 10:20:28.929 [JavaFX Application Thread] INFO  c.e.s.controller.ReportController - ReportController initialized
2025-12-13 10:20:48.948 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-13 10:20:48.957 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-13 10:28:49.897 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-13 10:28:50.021 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-13 10:28:50.051 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-13 10:28:50.073 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-13 10:28:50.303 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-13 10:28:50.308 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-13 10:28:50.308 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-13 10:28:50.308 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-13 10:28:50.308 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-13 10:28:50.310 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-13 10:28:50.469 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-13 10:28:50.828 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-13 10:28:51.589 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@2dfd157b] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-13 10:28:51.759 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-13 10:28:52.012 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-13 10:28:52.092 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-13 10:28:52.092 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-13 10:28:57.715 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: admin
2025-12-13 10:30:06.906 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-13 10:30:07.038 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-13 10:30:07.071 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-13 10:30:07.092 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-13 10:30:07.314 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-13 10:30:07.318 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-13 10:30:07.320 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-13 10:30:07.320 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-13 10:30:07.320 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-13 10:30:07.322 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-13 10:30:07.471 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-13 10:30:07.834 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-13 10:30:08.591 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@64381526] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-13 10:30:08.739 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-13 10:30:09.000 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-13 10:30:09.088 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-13 10:30:09.088 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-13 10:30:14.252 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: admin
2025-12-13 10:31:18.604 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-13 10:31:18.612 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-13 10:31:32.486 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-13 10:31:32.601 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-13 10:31:32.629 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-13 10:31:32.649 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-13 10:31:32.879 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-13 10:31:32.885 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-13 10:31:32.885 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-13 10:31:32.885 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-13 10:31:32.885 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-13 10:31:32.887 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-13 10:31:33.030 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-13 10:31:33.406 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-13 10:31:34.171 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@2dfd157b] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-13 10:31:34.331 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-13 10:31:34.593 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-13 10:31:34.691 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-13 10:31:34.691 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-13 10:31:39.378 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: admin
2025-12-13 10:32:08.539 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-13 10:32:08.557 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-13 10:32:57.635 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-13 10:32:57.941 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-13 10:32:58.024 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-13 10:32:58.093 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-13 10:32:58.665 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-13 10:32:58.681 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-13 10:32:58.684 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-13 10:32:58.684 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-13 10:32:58.684 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-13 10:32:58.689 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-13 10:32:59.026 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-13 10:32:59.687 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-13 10:33:00.543 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@2dfd157b] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-13 10:33:00.683 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-13 10:33:00.935 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-13 10:33:01.006 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-13 10:33:01.006 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-13 10:33:06.466 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: admin
2025-12-13 10:34:09.080 [JavaFX Application Thread] INFO  com.example.shopgaubong.dao.ItemDAO - Đã cập nhật entity: com.example.shopgaubong.entity.Item@4908e6ca
2025-12-13 10:34:09.080 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.ItemService - Cập nhật sản phẩm: gs4 - gau bong moc khoa mau vang
2025-12-13 10:34:14.838 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng xuất: admin
2025-12-13 10:34:26.892 [JavaFX Application Thread] WARN  c.e.shopgaubong.service.AuthService - Đăng nhập thất bại: Sai mật khẩu cho tài khoản customer
2025-12-13 10:34:30.779 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: customer
2025-12-13 10:34:32.439 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 0 sản phẩm
2025-12-13 10:34:39.753 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng xuất: customer
2025-12-13 10:34:56.125 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: admin
2025-12-13 10:35:01.558 [JavaFX Application Thread] INFO  com.example.shopgaubong.dao.ItemDAO - Đã cập nhật entity: com.example.shopgaubong.entity.Item@38c1aa55
2025-12-13 10:35:01.558 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.ItemService - Cập nhật sản phẩm: gs4 - gau bong moc khoa mau vang
2025-12-13 10:35:43.996 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-13 10:35:44.006 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-13 10:37:49.744 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-13 10:37:49.877 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-13 10:37:49.904 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-13 10:37:49.925 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-13 10:37:50.196 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-13 10:37:50.201 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-13 10:37:50.202 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-13 10:37:50.202 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-13 10:37:50.202 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-13 10:37:50.206 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-13 10:37:50.400 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-13 10:37:50.795 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-13 10:37:51.562 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@1238a074] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-13 10:37:51.698 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-13 10:37:51.935 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-13 10:37:52.003 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-13 10:37:52.004 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-13 10:37:59.896 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: customer
2025-12-13 10:38:15.163 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng xuất: customer
2025-12-13 10:38:16.332 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-13 10:38:16.340 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-13 10:42:15.704 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-13 10:42:15.834 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-13 10:42:15.861 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-13 10:42:15.883 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-13 10:42:16.118 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-13 10:42:16.124 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-13 10:42:16.124 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-13 10:42:16.126 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-13 10:42:16.126 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-13 10:42:16.128 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-13 10:42:16.281 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-13 10:42:16.677 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-13 10:42:17.462 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@46290193] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-13 10:42:17.654 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-13 10:42:17.957 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-13 10:42:18.046 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-13 10:42:18.046 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-13 10:42:25.116 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: admin
2025-12-13 10:42:28.030 [JavaFX Application Thread] INFO  c.e.s.c.UserManagementController - Loaded 3 accounts
2025-12-13 10:42:37.334 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tải kho thành công: 2 kho
2025-12-13 10:42:39.360 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 4 stock items
2025-12-13 10:42:39.360 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - StockManagementController initialized
2025-12-13 10:42:48.241 [JavaFX Application Thread] INFO  c.e.s.c.PromotionManagementController - Tải khuyến mãi thành công: 1 khuyến mãi
2025-12-13 10:42:53.815 [JavaFX Application Thread] INFO  c.e.s.c.PaymentManagementController - Loaded 3 payments
2025-12-13 10:42:53.815 [JavaFX Application Thread] INFO  c.e.s.c.PaymentManagementController - PaymentManagementController initialized
2025-12-13 10:43:08.855 [JavaFX Application Thread] DEBUG c.e.s.controller.ReportController - Revenue chart loaded with 31 data points
2025-12-13 10:43:08.863 [JavaFX Application Thread] DEBUG c.e.s.controller.ReportController - Order status chart loaded with 4 statuses
2025-12-13 10:43:08.866 [JavaFX Application Thread] DEBUG c.e.s.controller.ReportController - Top products chart loaded with 0 products
2025-12-13 10:43:08.867 [JavaFX Application Thread] DEBUG c.e.s.controller.ReportController - Low stock data loaded with 0 items
2025-12-13 10:43:08.868 [JavaFX Application Thread] INFO  c.e.s.controller.ReportController - Dashboard data loaded successfully
2025-12-13 10:43:08.868 [JavaFX Application Thread] INFO  c.e.s.controller.ReportController - ReportController initialized
2025-12-13 10:43:42.641 [JavaFX Application Thread] DEBUG c.e.s.controller.ReportController - Revenue chart loaded with 441 data points
2025-12-13 10:43:42.657 [JavaFX Application Thread] DEBUG c.e.s.controller.ReportController - Order status chart loaded with 4 statuses
2025-12-13 10:43:42.664 [JavaFX Application Thread] DEBUG c.e.s.controller.ReportController - Top products chart loaded with 0 products
2025-12-13 10:43:50.616 [JavaFX Application Thread] INFO  c.e.s.controller.ReportController - Filtered data loaded for period: 2024-09-29 to 2025-12-13
2025-12-13 10:43:58.160 [JavaFX Application Thread] DEBUG c.e.s.controller.ReportController - Revenue chart loaded with 441 data points
2025-12-13 10:43:58.167 [JavaFX Application Thread] DEBUG c.e.s.controller.ReportController - Order status chart loaded with 4 statuses
2025-12-13 10:43:58.170 [JavaFX Application Thread] DEBUG c.e.s.controller.ReportController - Top products chart loaded with 0 products
2025-12-13 10:43:58.171 [JavaFX Application Thread] DEBUG c.e.s.controller.ReportController - Low stock data loaded with 0 items
2025-12-13 10:43:58.171 [JavaFX Application Thread] INFO  c.e.s.controller.ReportController - Dashboard data loaded successfully
2025-12-13 10:44:17.782 [JavaFX Application Thread] INFO  c.e.s.c.PaymentManagementController - Loaded 3 payments
2025-12-13 10:44:17.782 [JavaFX Application Thread] INFO  c.e.s.c.PaymentManagementController - PaymentManagementController initialized
2025-12-13 10:44:24.484 [JavaFX Application Thread] INFO  c.e.s.c.PaymentManagementController - Loaded 3 payments
2025-12-13 10:44:24.484 [JavaFX Application Thread] INFO  c.e.s.c.PaymentManagementController - PaymentManagementController initialized
2025-12-13 10:44:33.740 [JavaFX Application Thread] DEBUG c.e.s.controller.ReportController - Revenue chart loaded with 31 data points
2025-12-13 10:44:33.747 [JavaFX Application Thread] DEBUG c.e.s.controller.ReportController - Order status chart loaded with 4 statuses
2025-12-13 10:44:33.749 [JavaFX Application Thread] DEBUG c.e.s.controller.ReportController - Top products chart loaded with 0 products
2025-12-13 10:44:33.751 [JavaFX Application Thread] DEBUG c.e.s.controller.ReportController - Low stock data loaded with 0 items
2025-12-13 10:44:33.751 [JavaFX Application Thread] INFO  c.e.s.controller.ReportController - Dashboard data loaded successfully
2025-12-13 10:44:33.751 [JavaFX Application Thread] INFO  c.e.s.controller.ReportController - ReportController initialized
2025-12-13 10:44:41.280 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tải kho thành công: 2 kho
2025-12-13 10:44:44.023 [JavaFX Application Thread] INFO  c.e.s.c.UserManagementController - Loaded 3 accounts
2025-12-13 10:44:53.139 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng xuất: admin
2025-12-13 10:45:38.862 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: customer
2025-12-13 10:45:41.523 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 0 sản phẩm
2025-12-13 10:45:43.966 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 0 sản phẩm
2025-12-13 10:45:45.296 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 0 sản phẩm
2025-12-13 10:45:49.471 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-13 10:45:49.499 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-13 13:49:54.925 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-13 13:49:55.107 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-13 13:49:55.147 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-13 13:49:55.169 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-13 13:49:55.450 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-13 13:49:55.455 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-13 13:49:55.455 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-13 13:49:55.456 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-13 13:49:55.456 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-13 13:49:55.458 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-13 13:49:55.540 [main] WARN  o.h.e.j.e.i.JdbcEnvironmentInitiator - HHH000342: Could not obtain connection to query metadata
java.lang.IllegalStateException: Cannot get a connection as the driver manager is not properly initialized
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.getConnection(DriverManagerConnectionProviderImpl.java:259)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:428)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:61)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:276)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:107)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.jdbc.internal.JdbcServicesImpl.configure(JdbcServicesImpl.java:52)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:136)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:247)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.convertSqlException(BasicConnectionCreator.java:132)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.jdbc.connections.internal.DriverConnectionCreator.makeConnection(DriverConnectionCreator.java:43)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.createConnection(BasicConnectionCreator.java:61)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections.addConnections(DriverManagerConnectionProviderImpl.java:499)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections.<init>(DriverManagerConnectionProviderImpl.java:372)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections$Builder.build(DriverManagerConnectionProviderImpl.java:550)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.buildPool(DriverManagerConnectionProviderImpl.java:102)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.configure(DriverManagerConnectionProviderImpl.java:82)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:136)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:247)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.buildJdbcConnectionAccess(JdbcEnvironmentInitiator.java:395)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:262)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:107)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:223)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:191)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:170)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1432)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1503)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:55)
	at jakarta.persistence@3.1.0/jakarta.persistence.Persistence.createEntityManagerFactory(Persistence.java:80)
	at jakarta.persistence@3.1.0/jakarta.persistence.Persistence.createEntityManagerFactory(Persistence.java:55)
	at com.example.shopgaubong/com.example.shopgaubong.util.HibernateUtil.<clinit>(HibernateUtil.java:16)
	at com.example.shopgaubong/com.example.shopgaubong.dao.BaseDAO.getEntityManager(BaseDAO.java:23)
	at com.example.shopgaubong/com.example.shopgaubong.dao.BaseDAO.findAll(BaseDAO.java:43)
	at com.example.shopgaubong/com.example.shopgaubong.service.AuthService.getAllAccounts(AuthService.java:154)
	at com.example.shopgaubong/com.example.shopgaubong.util.DatabaseInitializer.createDefaultAccounts(DatabaseInitializer.java:42)
	at com.example.shopgaubong/com.example.shopgaubong.util.DatabaseInitializer.initializeSampleData(DatabaseInitializer.java:25)
	at com.example.shopgaubong/com.example.shopgaubong.Launcher.main(Launcher.java:9)
2025-12-13 13:49:55.556 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-13 13:49:55.563 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 08S01
2025-12-13 13:49:55.563 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
2025-12-13 13:49:55.564 [main] ERROR c.e.shopgaubong.util.HibernateUtil - Lỗi khởi tạo EntityManagerFactory
org.hibernate.service.spi.ServiceException: Unable to create requested service [org.hibernate.engine.jdbc.env.spi.JdbcEnvironment] due to: Error calling Driver#connect [Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.] [null]
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:276)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:223)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:191)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:170)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1432)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1503)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:55)
	at jakarta.persistence@3.1.0/jakarta.persistence.Persistence.createEntityManagerFactory(Persistence.java:80)
	at jakarta.persistence@3.1.0/jakarta.persistence.Persistence.createEntityManagerFactory(Persistence.java:55)
	at com.example.shopgaubong/com.example.shopgaubong.util.HibernateUtil.<clinit>(HibernateUtil.java:16)
	at com.example.shopgaubong/com.example.shopgaubong.dao.BaseDAO.getEntityManager(BaseDAO.java:23)
	at com.example.shopgaubong/com.example.shopgaubong.dao.BaseDAO.findAll(BaseDAO.java:43)
	at com.example.shopgaubong/com.example.shopgaubong.service.AuthService.getAllAccounts(AuthService.java:154)
	at com.example.shopgaubong/com.example.shopgaubong.util.DatabaseInitializer.createDefaultAccounts(DatabaseInitializer.java:42)
	at com.example.shopgaubong/com.example.shopgaubong.util.DatabaseInitializer.initializeSampleData(DatabaseInitializer.java:25)
	at com.example.shopgaubong/com.example.shopgaubong.Launcher.main(Launcher.java:9)
Caused by: org.hibernate.exception.JDBCConnectionException: Error calling Driver#connect [Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.] [null]
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:100)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.convertSqlException(BasicConnectionCreator.java:134)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.jdbc.connections.internal.DriverConnectionCreator.makeConnection(DriverConnectionCreator.java:43)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.jdbc.connections.internal.BasicConnectionCreator.createConnection(BasicConnectionCreator.java:61)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections.addConnections(DriverManagerConnectionProviderImpl.java:499)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections.<init>(DriverManagerConnectionProviderImpl.java:372)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl$PooledConnections$Builder.build(DriverManagerConnectionProviderImpl.java:550)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.buildPool(DriverManagerConnectionProviderImpl.java:102)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.jdbc.connections.internal.DriverManagerConnectionProviderImpl.configure(DriverManagerConnectionProviderImpl.java:82)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.configureService(StandardServiceRegistryImpl.java:136)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:247)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.buildJdbcConnectionAccess(JdbcEnvironmentInitiator.java:395)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:262)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:107)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	... 18 common frames omitted
Caused by: com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:815)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:438)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:189)
	at org.hibernate.orm.core@6.4.4.Final/org.hibernate.engine.jdbc.connections.internal.DriverConnectionCreator.makeConnection(DriverConnectionCreator.java:40)
	... 33 common frames omitted
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:502)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:486)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:104)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:149)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:165)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:88)
	at com.mysql.cj.NativeSession.connect(NativeSession.java:120)
	at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:935)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:805)
	... 37 common frames omitted
Caused by: java.net.ConnectException: Connection refused: connect
	at java.base/sun.nio.ch.Net.connect0(Native Method)
	at java.base/sun.nio.ch.Net.connect(Net.java:589)
	at java.base/sun.nio.ch.Net.connect(Net.java:578)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:583)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:153)
	at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:62)
	... 40 common frames omitted
2025-12-13 13:50:17.182 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-13 13:50:17.309 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-13 13:50:17.338 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-13 13:50:17.360 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-13 13:50:17.587 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-13 13:50:17.593 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-13 13:50:17.593 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-13 13:50:17.593 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-13 13:50:17.593 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-13 13:50:17.595 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-13 13:50:17.784 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-13 13:50:18.225 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-13 13:50:19.141 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@64381526] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-13 13:50:19.362 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-13 13:50:19.643 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-13 13:50:19.731 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-13 13:50:19.731 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-13 13:50:27.946 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: customer
2025-12-13 13:50:30.593 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 0 sản phẩm
2025-12-13 13:50:31.865 [JavaFX Application Thread] INFO  c.e.s.c.CustomerOrderController - Tải đơn hàng thành công: 7 đơn
2025-12-13 13:50:39.848 [JavaFX Application Thread] INFO  c.e.s.c.CustomerOrderController - Tải đơn hàng thành công: 7 đơn
2025-12-13 13:50:51.705 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 0 sản phẩm
2025-12-13 13:50:53.081 [JavaFX Application Thread] ERROR c.e.s.controller.CartController - Lỗi khi quay lại catalog: class javafx.scene.layout.HBox cannot be cast to class javafx.scene.layout.VBox (javafx.scene.layout.HBox and javafx.scene.layout.VBox are in module javafx.graphics@21.0.6 of loader 'app')
java.lang.ClassCastException: class javafx.scene.layout.HBox cannot be cast to class javafx.scene.layout.VBox (javafx.scene.layout.HBox and javafx.scene.layout.VBox are in module javafx.graphics@21.0.6 of loader 'app')
	at com.example.shopgaubong/com.example.shopgaubong.controller.CartController.handleContinueShopping(CartController.java:235)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at javafx.base@21.0.6/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)
	at javafx.fxml@21.0.6/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1855)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1726)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Node.fireEvent(Node.java:8875)
	at javafx.controls@21.0.6/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-13 13:51:06.021 [JavaFX Application Thread] DEBUG c.e.shopgaubong.service.StockService - Check availability: Item ID 3, On Hand: 100, Reserved: 0, Available: 100, Required: 1, Result: true
2025-12-13 13:51:06.064 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.OrderService - Thêm sản phẩm vào đơn hàng ORD-20251201050724-525: gau bong moc khoa mau vang x1
2025-12-13 13:51:08.225 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-13 13:51:10.324 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Xóa khỏi giỏ hàng: OrderItem ID 15 cho khách hàng ID 3
2025-12-13 13:51:10.330 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 0 sản phẩm
2025-12-13 13:51:12.975 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 0 sản phẩm
2025-12-13 13:51:14.896 [JavaFX Application Thread] INFO  c.e.s.c.CustomerProfileController - Loaded account information for user: customer
2025-12-13 13:51:14.897 [JavaFX Application Thread] INFO  c.e.s.c.CustomerProfileController - Loaded profile data for user: customer
2025-12-13 13:51:22.067 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng xuất: customer
2025-12-13 13:51:45.428 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: admin
2025-12-13 13:52:16.409 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng xuất: admin
2025-12-13 13:52:18.468 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-13 13:52:18.477 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-13 17:01:40.100 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-13 17:01:40.334 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-13 17:01:40.362 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-13 17:01:40.388 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-13 17:01:40.724 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-13 17:01:40.734 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-13 17:01:40.735 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-13 17:01:40.736 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-13 17:01:40.736 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-13 17:01:40.740 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-13 17:01:40.978 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-13 17:01:41.395 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-13 17:01:42.198 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@399fd710] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-13 17:01:42.351 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-13 17:01:42.607 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-13 17:01:42.712 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-13 17:01:42.712 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-13 17:01:49.006 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: admin
2025-12-13 17:01:52.519 [JavaFX Application Thread] INFO  c.e.s.c.UserManagementController - Loaded 3 accounts
2025-12-13 17:02:26.179 [JavaFX Application Thread] INFO  c.e.shopgaubong.dao.CategoryDAO - Đã lưu entity: com.example.shopgaubong.entity.Category@1e4160a9
2025-12-13 17:02:26.179 [JavaFX Application Thread] INFO  c.e.s.service.CategoryService - Tạo danh mục mới: Gấu bông loại lớn
2025-12-13 17:03:15.357 [JavaFX Application Thread] INFO  com.example.shopgaubong.dao.ItemDAO - Đã lưu entity: com.example.shopgaubong.entity.Item@610becf1
2025-12-13 17:03:15.357 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.ItemService - Tạo sản phẩm mới: GB123 - Gấu bông loại lớn
2025-12-13 17:03:24.954 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tải kho thành công: 2 kho
2025-12-13 17:03:29.126 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tải kho thành công: 2 kho
2025-12-13 17:03:29.757 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 4 stock items
2025-12-13 17:03:29.757 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - StockManagementController initialized
2025-12-13 17:03:44.878 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 4 stock items
2025-12-13 17:03:44.878 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - StockManagementController initialized
2025-12-13 17:03:45.555 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tải kho thành công: 2 kho
2025-12-13 17:03:46.750 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 4 stock items
2025-12-13 17:03:46.751 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - StockManagementController initialized
2025-12-13 17:04:13.895 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.StockService - Tạo tồn kho mới: kho me linh - Gấu bông loại lớn (số lượng: 10)
2025-12-13 17:04:15.191 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 5 stock items
2025-12-13 17:04:23.403 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng xuất: admin
2025-12-13 17:04:31.898 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: customer
2025-12-13 17:04:40.675 [JavaFX Application Thread] DEBUG c.e.shopgaubong.service.StockService - Check availability: Item ID 4, On Hand: 10, Reserved: 0, Available: 10, Required: 1, Result: true
2025-12-13 17:04:40.695 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.OrderService - Thêm sản phẩm vào đơn hàng ORD-20251201050724-525: Gấu bông loại lớn x1
2025-12-13 17:04:43.190 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-13 17:05:02.363 [JavaFX Application Thread] ERROR c.e.s.controller.CheckoutController - Error viewing promotions: class javafx.scene.layout.HBox cannot be cast to class javafx.scene.layout.VBox (javafx.scene.layout.HBox and javafx.scene.layout.VBox are in module javafx.graphics@21.0.6 of loader 'app')
java.lang.ClassCastException: class javafx.scene.layout.HBox cannot be cast to class javafx.scene.layout.VBox (javafx.scene.layout.HBox and javafx.scene.layout.VBox are in module javafx.graphics@21.0.6 of loader 'app')
	at com.example.shopgaubong/com.example.shopgaubong.controller.CheckoutController.handleViewPromotions(CheckoutController.java:203)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at javafx.base@21.0.6/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)
	at javafx.fxml@21.0.6/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1855)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1726)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Node.fireEvent(Node.java:8875)
	at javafx.controls@21.0.6/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-13 17:05:10.401 [JavaFX Application Thread] ERROR c.e.s.controller.CheckoutController - Error applying promotion: Mã khuyến mãi không tồn tại
java.lang.IllegalArgumentException: Mã khuyến mãi không tồn tại
	at com.example.shopgaubong/com.example.shopgaubong.service.PromotionService.applyPromotion(PromotionService.java:147)
	at com.example.shopgaubong/com.example.shopgaubong.service.OrderService.applyPromotion(OrderService.java:246)
	at com.example.shopgaubong/com.example.shopgaubong.service.CartService.applyPromotionCode(CartService.java:79)
	at com.example.shopgaubong/com.example.shopgaubong.controller.CheckoutController.handleApplyPromotion(CheckoutController.java:148)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at javafx.base@21.0.6/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)
	at javafx.fxml@21.0.6/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1855)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1726)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Node.fireEvent(Node.java:8875)
	at javafx.controls@21.0.6/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-13 17:05:14.108 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.OrderService - DEBUG: Subtotal=5000000.00, ItemDiscount=0.00, PromotionDiscount=8.00, OldDiscount=0.00
2025-12-13 17:05:14.108 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.OrderService - DEBUG: After apply - NewDiscount=8.00, GrandTotal=5499991.20
2025-12-13 17:05:14.117 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Áp dụng mã khuyến mãi SUM123 cho khách hàng ID 3
2025-12-13 17:05:18.433 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.StockService - Giữ chỗ tồn kho cho Item ID 4: tổng giữ = 1
2025-12-13 17:05:18.450 [JavaFX Application Thread] INFO  c.e.shopgaubong.dao.PromotionDAO - Đã cập nhật entity: com.example.shopgaubong.entity.Promotion@7656a55a
2025-12-13 17:05:18.450 [JavaFX Application Thread] INFO  c.e.s.service.PromotionService - Tăng số lần sử dụng khuyến mãi: SUM123 (lần 1)
2025-12-13 17:05:18.456 [JavaFX Application Thread] INFO  c.e.s.controller.CheckoutController - Đặt hàng thành công: ORD-20251201050724-525
2025-12-13 17:05:19.754 [JavaFX Application Thread] INFO  c.e.s.controller.PaymentController - Displaying 1 items for order ORD-20251201050724-525
2025-12-13 17:05:19.754 [JavaFX Application Thread] INFO  c.e.s.service.PaymentService - Calculated fees for order ORD-20251201050724-525: COD=50000, Gateway=0, Total=5579991.20
2025-12-13 17:05:19.755 [JavaFX Application Thread] INFO  c.e.s.controller.PaymentController - Loaded order ORD-20251201050724-525 for payment
2025-12-13 17:05:23.327 [JavaFX Application Thread] INFO  c.e.s.service.PaymentService - Calculated fees for order ORD-20251201050724-525: COD=50000, Gateway=0, Total=5579991.20
2025-12-13 17:05:23.343 [JavaFX Application Thread] INFO  c.example.shopgaubong.dao.PaymentDAO - Đã lưu entity: com.example.shopgaubong.entity.Payment@424771fe
2025-12-13 17:05:23.343 [JavaFX Application Thread] INFO  c.e.s.service.PaymentService - Created payment 4 for order ORD-20251201050724-525 with method COD
2025-12-13 17:05:26.275 [JavaFX Application Thread] INFO  c.e.s.controller.PaymentController - Payment created successfully for order ORD-20251201050724-525
2025-12-13 17:05:30.774 [JavaFX Application Thread] INFO  c.e.s.c.CustomerOrderController - Tải đơn hàng thành công: 8 đơn
2025-12-13 17:05:33.862 [JavaFX Application Thread] INFO  c.e.s.c.CustomerProfileController - Loaded account information for user: customer
2025-12-13 17:05:33.862 [JavaFX Application Thread] INFO  c.e.s.c.CustomerProfileController - Loaded profile data for user: customer
2025-12-13 17:05:38.167 [JavaFX Application Thread] INFO  c.e.s.c.CustomerOrderController - Tải đơn hàng thành công: 8 đơn
2025-12-13 17:05:40.965 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng xuất: customer
2025-12-13 17:05:47.176 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: admin
2025-12-13 17:05:49.411 [JavaFX Application Thread] INFO  c.e.s.c.OrderManagementController - Tải đơn hàng thành công: 8 đơn
2025-12-13 17:05:58.687 [JavaFX Application Thread] INFO  c.e.s.c.PaymentManagementController - Loaded 4 payments
2025-12-13 17:05:58.687 [JavaFX Application Thread] INFO  c.e.s.c.PaymentManagementController - PaymentManagementController initialized
2025-12-13 17:06:06.002 [JavaFX Application Thread] INFO  c.example.shopgaubong.dao.PaymentDAO - Đã cập nhật entity: com.example.shopgaubong.entity.Payment@3802af11
2025-12-13 17:06:06.018 [JavaFX Application Thread] INFO  c.example.shopgaubong.dao.OrderDAO - Đã cập nhật entity: com.example.shopgaubong.entity.Order@6f52e958
2025-12-13 17:06:06.026 [JavaFX Application Thread] INFO  c.e.s.c.PaymentManagementController - Loaded 4 payments
2025-12-13 17:06:06.857 [JavaFX Application Thread] INFO  c.e.s.c.PaymentManagementController - Confirmed payment for order: ORD-20251201050724-525
2025-12-13 17:06:09.254 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng xuất: admin
2025-12-13 17:06:10.727 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-13 17:06:10.738 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-13 17:13:43.699 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-13 17:13:43.890 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-13 17:13:43.943 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-13 17:13:43.975 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-13 17:13:44.284 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-13 17:13:44.292 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-13 17:13:44.292 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-13 17:13:44.293 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-13 17:13:44.293 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-13 17:13:44.296 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-13 17:13:44.501 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-13 17:13:44.988 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-13 17:13:45.910 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@64381526] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-13 17:13:46.112 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-13 17:13:46.405 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-13 17:13:46.490 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-13 17:13:46.490 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-13 17:13:55.604 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: admin
2025-12-13 17:13:57.953 [JavaFX Application Thread] DEBUG c.e.s.controller.ReportController - Revenue chart loaded with 31 data points
2025-12-13 17:13:57.967 [JavaFX Application Thread] DEBUG c.e.s.controller.ReportController - Order status chart loaded with 4 statuses
2025-12-13 17:13:57.970 [JavaFX Application Thread] DEBUG c.e.s.controller.ReportController - Top products chart loaded with 0 products
2025-12-13 17:13:57.975 [JavaFX Application Thread] DEBUG c.e.s.controller.ReportController - Low stock data loaded with 1 items
2025-12-13 17:13:57.975 [JavaFX Application Thread] INFO  c.e.s.controller.ReportController - Dashboard data loaded successfully
2025-12-13 17:13:57.975 [JavaFX Application Thread] INFO  c.e.s.controller.ReportController - ReportController initialized
2025-12-13 17:14:11.921 [JavaFX Application Thread] DEBUG c.e.s.controller.ReportController - Revenue chart loaded with 1 data points
2025-12-13 17:14:11.932 [JavaFX Application Thread] DEBUG c.e.s.controller.ReportController - Order status chart loaded with 4 statuses
2025-12-13 17:14:11.937 [JavaFX Application Thread] DEBUG c.e.s.controller.ReportController - Top products chart loaded with 0 products
2025-12-13 17:14:13.201 [JavaFX Application Thread] INFO  c.e.s.controller.ReportController - Filtered data loaded for period: 2025-12-13 to 2025-12-13
2025-12-13 17:14:34.897 [JavaFX Application Thread] DEBUG c.e.s.controller.ReportController - Revenue chart loaded with 1 data points
2025-12-13 17:14:34.911 [JavaFX Application Thread] DEBUG c.e.s.controller.ReportController - Order status chart loaded with 4 statuses
2025-12-13 17:14:34.914 [JavaFX Application Thread] DEBUG c.e.s.controller.ReportController - Top products chart loaded with 0 products
2025-12-13 17:14:34.918 [JavaFX Application Thread] DEBUG c.e.s.controller.ReportController - Low stock data loaded with 1 items
2025-12-13 17:14:34.920 [JavaFX Application Thread] INFO  c.e.s.controller.ReportController - Dashboard data loaded successfully
2025-12-13 17:15:01.695 [JavaFX Application Thread] DEBUG c.e.s.controller.ReportController - Revenue chart loaded with 378 data points
2025-12-13 17:15:01.703 [JavaFX Application Thread] DEBUG c.e.s.controller.ReportController - Order status chart loaded with 4 statuses
2025-12-13 17:15:01.705 [JavaFX Application Thread] DEBUG c.e.s.controller.ReportController - Top products chart loaded with 0 products
2025-12-13 17:15:03.059 [JavaFX Application Thread] INFO  c.e.s.controller.ReportController - Filtered data loaded for period: 2024-12-01 to 2025-12-13
2025-12-13 17:15:15.515 [JavaFX Application Thread] INFO  c.e.s.c.OrderManagementController - Tải đơn hàng thành công: 8 đơn
2025-12-13 17:15:17.254 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tải kho thành công: 2 kho
2025-12-13 17:15:34.867 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tải kho thành công: 2 kho
2025-12-13 17:15:35.859 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 5 stock items
2025-12-13 17:15:35.860 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - StockManagementController initialized
2025-12-13 17:15:47.421 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tải kho thành công: 2 kho
2025-12-13 17:15:48.283 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 5 stock items
2025-12-13 17:15:48.283 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - StockManagementController initialized
2025-12-13 17:15:51.365 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng xuất: admin
2025-12-13 17:15:58.367 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: customer
2025-12-13 17:15:59.655 [JavaFX Application Thread] INFO  c.e.s.c.CustomerOrderController - Tải đơn hàng thành công: 8 đơn
2025-12-13 17:16:03.269 [JavaFX Application Thread] INFO  c.e.s.c.CustomerOrderController - Tải đơn hàng thành công: 8 đơn
2025-12-13 17:16:26.802 [JavaFX Application Thread] INFO  c.example.shopgaubong.dao.OrderDAO - Đã lưu entity: com.example.shopgaubong.entity.Order@206526bd
2025-12-13 17:16:26.828 [JavaFX Application Thread] DEBUG c.e.shopgaubong.service.StockService - Check availability: Item ID 4, On Hand: 10, Reserved: 1, Available: 9, Required: 1, Result: true
2025-12-13 17:16:26.852 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.OrderService - Thêm sản phẩm vào đơn hàng ORD-20251213171626-624: Gấu bông loại lớn x1
2025-12-13 17:16:30.362 [JavaFX Application Thread] INFO  c.e.s.c.CustomerOrderController - Tải đơn hàng thành công: 8 đơn
2025-12-13 17:16:31.598 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-13 17:16:33.677 [JavaFX Application Thread] DEBUG c.e.shopgaubong.service.StockService - Get available quantity: Item ID 4, On Hand: 10, Reserved: 1, Available: 9
2025-12-13 17:16:33.687 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 17 -> số lượng 2
2025-12-13 17:16:33.697 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-13 17:16:42.721 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.StockService - Giữ chỗ tồn kho cho Item ID 4: tổng giữ = 2
2025-12-13 17:16:42.728 [JavaFX Application Thread] INFO  c.e.s.controller.CheckoutController - Đặt hàng thành công: ORD-20251213171626-624
2025-12-13 17:16:43.640 [JavaFX Application Thread] INFO  c.e.s.controller.PaymentController - Displaying 1 items for order ORD-20251213171626-624
2025-12-13 17:16:43.640 [JavaFX Application Thread] INFO  c.e.s.service.PaymentService - Calculated fees for order ORD-20251213171626-624: COD=50000, Gateway=0, Total=11080000.00
2025-12-13 17:16:43.641 [JavaFX Application Thread] INFO  c.e.s.controller.PaymentController - Loaded order ORD-20251213171626-624 for payment
2025-12-13 17:16:45.403 [JavaFX Application Thread] INFO  c.e.s.service.PaymentService - Calculated fees for order ORD-20251213171626-624: COD=50000, Gateway=0, Total=11080000.00
2025-12-13 17:16:45.413 [JavaFX Application Thread] INFO  c.example.shopgaubong.dao.PaymentDAO - Đã lưu entity: com.example.shopgaubong.entity.Payment@4c9398be
2025-12-13 17:16:45.413 [JavaFX Application Thread] INFO  c.e.s.service.PaymentService - Created payment 5 for order ORD-20251213171626-624 with method COD
2025-12-13 17:16:46.072 [JavaFX Application Thread] INFO  c.e.s.controller.PaymentController - Payment created successfully for order ORD-20251213171626-624
2025-12-13 17:16:52.029 [JavaFX Application Thread] INFO  c.e.s.c.CustomerOrderController - Tải đơn hàng thành công: 9 đơn
2025-12-13 17:16:57.721 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng xuất: customer
2025-12-13 17:17:04.894 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: admin
2025-12-13 17:17:06.573 [JavaFX Application Thread] INFO  c.e.s.c.PaymentManagementController - Loaded 5 payments
2025-12-13 17:17:06.573 [JavaFX Application Thread] INFO  c.e.s.c.PaymentManagementController - PaymentManagementController initialized
2025-12-13 17:17:28.989 [JavaFX Application Thread] INFO  c.example.shopgaubong.dao.PaymentDAO - Đã cập nhật entity: com.example.shopgaubong.entity.Payment@64779712
2025-12-13 17:17:29.010 [JavaFX Application Thread] INFO  c.example.shopgaubong.dao.OrderDAO - Đã cập nhật entity: com.example.shopgaubong.entity.Order@1771f3f4
2025-12-13 17:17:29.020 [JavaFX Application Thread] INFO  c.e.s.c.PaymentManagementController - Loaded 5 payments
2025-12-13 17:17:31.174 [JavaFX Application Thread] INFO  c.e.s.c.PaymentManagementController - Confirmed payment for order: ORD-20251213171626-624
2025-12-13 17:17:33.804 [JavaFX Application Thread] DEBUG c.e.s.controller.ReportController - Revenue chart loaded with 31 data points
2025-12-13 17:17:33.811 [JavaFX Application Thread] DEBUG c.e.s.controller.ReportController - Order status chart loaded with 4 statuses
2025-12-13 17:17:33.813 [JavaFX Application Thread] DEBUG c.e.s.controller.ReportController - Top products chart loaded with 0 products
2025-12-13 17:17:33.818 [JavaFX Application Thread] DEBUG c.e.s.controller.ReportController - Low stock data loaded with 1 items
2025-12-13 17:17:33.819 [JavaFX Application Thread] INFO  c.e.s.controller.ReportController - Dashboard data loaded successfully
2025-12-13 17:17:33.819 [JavaFX Application Thread] INFO  c.e.s.controller.ReportController - ReportController initialized
2025-12-13 17:17:45.024 [JavaFX Application Thread] DEBUG c.e.s.controller.ReportController - Revenue chart loaded with 31 data points
2025-12-13 17:17:45.030 [JavaFX Application Thread] DEBUG c.e.s.controller.ReportController - Order status chart loaded with 4 statuses
2025-12-13 17:17:45.032 [JavaFX Application Thread] DEBUG c.e.s.controller.ReportController - Top products chart loaded with 0 products
2025-12-13 17:17:45.034 [JavaFX Application Thread] DEBUG c.e.s.controller.ReportController - Low stock data loaded with 1 items
2025-12-13 17:17:45.034 [JavaFX Application Thread] INFO  c.e.s.controller.ReportController - Dashboard data loaded successfully
2025-12-13 17:17:45.034 [JavaFX Application Thread] INFO  c.e.s.controller.ReportController - ReportController initialized
2025-12-13 17:17:48.630 [JavaFX Application Thread] INFO  c.e.s.c.PaymentManagementController - Loaded 5 payments
2025-12-13 17:17:48.630 [JavaFX Application Thread] INFO  c.e.s.c.PaymentManagementController - PaymentManagementController initialized
2025-12-13 17:18:12.969 [JavaFX Application Thread] INFO  c.e.s.c.PaymentManagementController - Loaded 5 payments
2025-12-13 17:18:12.969 [JavaFX Application Thread] INFO  c.e.s.c.PaymentManagementController - PaymentManagementController initialized
2025-12-13 17:18:14.509 [JavaFX Application Thread] INFO  c.e.s.c.PromotionManagementController - Tải khuyến mãi thành công: 1 khuyến mãi
2025-12-13 17:18:15.489 [JavaFX Application Thread] INFO  c.e.s.c.OrderManagementController - Tải đơn hàng thành công: 9 đơn
2025-12-13 17:18:16.164 [JavaFX Application Thread] INFO  c.e.s.c.PromotionManagementController - Tải khuyến mãi thành công: 1 khuyến mãi
2025-12-13 17:18:27.204 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng xuất: admin
2025-12-13 17:18:35.116 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: staff
2025-12-13 17:18:36.439 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 5 stock items
2025-12-13 17:18:36.439 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - StockManagementController initialized
2025-12-13 17:18:40.880 [JavaFX Application Thread] INFO  c.e.s.c.PaymentManagementController - Loaded 5 payments
2025-12-13 17:18:40.880 [JavaFX Application Thread] INFO  c.e.s.c.PaymentManagementController - PaymentManagementController initialized
2025-12-13 17:18:50.694 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-13 17:18:50.703 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-13 17:19:49.833 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-13 17:19:49.968 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-13 17:19:50.000 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-13 17:19:50.028 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-13 17:19:50.306 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-13 17:19:50.312 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-13 17:19:50.312 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-13 17:19:50.312 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-13 17:19:50.312 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-13 17:19:50.315 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-13 17:19:50.458 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-13 17:19:50.886 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-13 17:19:51.682 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@64381526] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-13 17:19:51.842 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-13 17:19:52.096 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-13 17:19:52.197 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-13 17:19:52.197 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-13 17:20:07.514 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: staff
2025-12-13 17:20:11.148 [JavaFX Application Thread] INFO  c.e.s.c.PaymentManagementController - Loaded 5 payments
2025-12-13 17:20:11.149 [JavaFX Application Thread] INFO  c.e.s.c.PaymentManagementController - PaymentManagementController initialized
2025-12-13 17:20:13.756 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 5 stock items
2025-12-13 17:20:13.756 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - StockManagementController initialized
2025-12-13 17:20:14.566 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tải kho thành công: 2 kho
2025-12-13 17:20:16.562 [JavaFX Application Thread] INFO  c.e.s.c.OrderManagementController - Tải đơn hàng thành công: 9 đơn
2025-12-13 17:20:17.857 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tải kho thành công: 2 kho
2025-12-13 17:20:18.992 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 5 stock items
2025-12-13 17:20:18.992 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - StockManagementController initialized
2025-12-13 17:20:19.927 [JavaFX Application Thread] INFO  c.e.s.c.PaymentManagementController - Loaded 5 payments
2025-12-13 17:20:19.927 [JavaFX Application Thread] INFO  c.e.s.c.PaymentManagementController - PaymentManagementController initialized
2025-12-13 17:20:23.350 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng xuất: staff
2025-12-13 17:20:25.366 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-13 17:20:25.373 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-13 17:24:44.068 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-13 17:24:44.299 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-13 17:24:44.351 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-13 17:24:44.392 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-13 17:24:44.759 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-13 17:24:44.767 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-13 17:24:44.768 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-13 17:24:44.768 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-13 17:24:44.768 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-13 17:24:44.770 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-13 17:24:44.979 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-13 17:24:45.592 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-13 17:24:46.758 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@46290193] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-13 17:24:46.991 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-13 17:24:47.347 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-13 17:24:47.453 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-13 17:24:47.454 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-13 17:24:54.578 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: admin
2025-12-13 17:24:58.121 [JavaFX Application Thread] INFO  c.e.s.c.UserManagementController - Loaded 3 accounts
2025-12-13 17:25:32.057 [JavaFX Application Thread] INFO  c.e.shopgaubong.dao.CategoryDAO - Đã lưu entity: com.example.shopgaubong.entity.Category@29934c70
2025-12-13 17:25:32.057 [JavaFX Application Thread] INFO  c.e.s.service.CategoryService - Tạo danh mục mới: Gấu bông loại nhỏ
2025-12-13 17:26:07.357 [JavaFX Application Thread] INFO  com.example.shopgaubong.dao.ItemDAO - Đã lưu entity: com.example.shopgaubong.entity.Item@3a3ce1e0
2025-12-13 17:26:07.357 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.ItemService - Tạo sản phẩm mới: GB124 - Gấu bông loại nhỏ màu xám
2025-12-13 17:26:13.420 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tải kho thành công: 2 kho
2025-12-13 17:26:23.962 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 5 stock items
2025-12-13 17:26:23.962 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - StockManagementController initialized
2025-12-13 17:26:42.939 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.StockService - Tạo tồn kho mới: da nang - Gấu bông loại nhỏ màu xám (số lượng: 20)
2025-12-13 17:26:44.057 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 6 stock items
2025-12-13 17:26:48.257 [JavaFX Application Thread] INFO  c.e.s.c.OrderManagementController - Tải đơn hàng thành công: 9 đơn
2025-12-13 17:26:50.002 [JavaFX Application Thread] INFO  c.e.s.c.PromotionManagementController - Tải khuyến mãi thành công: 1 khuyến mãi
2025-12-13 17:27:00.574 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng xuất: admin
2025-12-13 17:27:08.739 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: customer
2025-12-13 17:27:21.042 [JavaFX Application Thread] INFO  c.example.shopgaubong.dao.OrderDAO - Đã lưu entity: com.example.shopgaubong.entity.Order@e33770d
2025-12-13 17:27:21.067 [JavaFX Application Thread] WARN  c.e.shopgaubong.service.StockService - Không tìm thấy StockItem cho Warehouse ID 1 và Item ID 5
2025-12-13 17:27:21.071 [JavaFX Application Thread] WARN  c.e.shopgaubong.service.StockService - Không tìm thấy StockItem cho Warehouse ID 1 và Item ID 5 khi lấy available quantity
2025-12-13 17:27:21.072 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi thêm sản phẩm: Không đủ hàng trong kho. Sản phẩm: Gấu bông loại nhỏ màu xám, Tồn kho khả dụng: 0, Tổng yêu cầu: 1 (trong giỏ: 0 + thêm: 1)
2025-12-13 17:27:24.489 [JavaFX Application Thread] WARN  c.e.shopgaubong.service.StockService - Không tìm thấy StockItem cho Warehouse ID 1 và Item ID 5
2025-12-13 17:27:24.491 [JavaFX Application Thread] WARN  c.e.shopgaubong.service.StockService - Không tìm thấy StockItem cho Warehouse ID 1 và Item ID 5 khi lấy available quantity
2025-12-13 17:27:24.491 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi thêm sản phẩm: Không đủ hàng trong kho. Sản phẩm: Gấu bông loại nhỏ màu xám, Tồn kho khả dụng: 0, Tổng yêu cầu: 1 (trong giỏ: 0 + thêm: 1)
2025-12-13 17:27:48.371 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng xuất: customer
2025-12-13 17:27:54.882 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: admin
2025-12-13 17:27:57.285 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tải kho thành công: 2 kho
2025-12-13 17:28:32.245 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-13 17:28:32.258 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-13 17:28:45.807 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-13 17:28:45.999 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-13 17:28:46.037 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-13 17:28:46.073 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-13 17:28:46.360 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-13 17:28:46.369 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-13 17:28:46.369 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-13 17:28:46.369 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-13 17:28:46.369 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-13 17:28:46.374 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-13 17:28:46.612 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-13 17:28:47.163 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-13 17:28:48.195 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@64381526] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-13 17:28:48.385 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-13 17:28:48.715 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-13 17:28:48.826 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-13 17:28:48.826 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-13 17:28:54.925 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: admin
2025-12-13 17:28:57.505 [JavaFX Application Thread] INFO  c.e.s.c.UserManagementController - Loaded 3 accounts
2025-12-13 17:29:25.860 [JavaFX Application Thread] INFO  c.e.shopgaubong.dao.CategoryDAO - Đã lưu entity: com.example.shopgaubong.entity.Category@2f17e315
2025-12-13 17:29:25.860 [JavaFX Application Thread] INFO  c.e.s.service.CategoryService - Tạo danh mục mới: Gau bong
2025-12-13 17:29:30.164 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tải kho thành công: 2 kho
2025-12-13 17:29:36.009 [JavaFX Application Thread] INFO  c.e.shopgaubong.dao.WarehouseDAO - Đã cập nhật entity: com.example.shopgaubong.entity.Warehouse@7e9ce97b
2025-12-13 17:29:36.010 [JavaFX Application Thread] INFO  c.e.s.service.WarehouseService - Xóa kho: DN123 - da nang
2025-12-13 17:29:36.999 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Xóa kho: da nang
2025-12-13 17:29:37.004 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tải kho thành công: 2 kho
2025-12-13 17:29:43.201 [JavaFX Application Thread] INFO  c.e.shopgaubong.dao.WarehouseDAO - Đã cập nhật entity: com.example.shopgaubong.entity.Warehouse@26c25eb
2025-12-13 17:29:43.202 [JavaFX Application Thread] INFO  c.e.s.service.WarehouseService - Xóa kho: DN123 - da nang
2025-12-13 17:29:44.138 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Xóa kho: da nang
2025-12-13 17:29:44.144 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tải kho thành công: 2 kho
2025-12-13 17:29:46.619 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tải kho thành công: 2 kho
2025-12-13 17:29:47.109 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 6 stock items
2025-12-13 17:29:47.109 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - StockManagementController initialized
2025-12-13 17:29:49.208 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tải kho thành công: 2 kho
2025-12-13 17:29:50.343 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tải kho thành công: 2 kho
2025-12-13 17:29:52.465 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tải kho thành công: 2 kho
2025-12-13 17:30:21.959 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-13 17:30:21.969 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-13 17:30:48.011 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-13 17:30:48.185 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-13 17:30:48.212 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-13 17:30:48.240 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-13 17:30:48.508 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-13 17:30:48.514 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-13 17:30:48.515 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-13 17:30:48.516 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-13 17:30:48.516 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-13 17:30:48.519 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-13 17:30:48.753 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-13 17:30:49.255 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-13 17:30:50.265 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@64381526] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-13 17:30:50.440 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-13 17:30:50.759 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-13 17:30:50.883 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-13 17:30:50.884 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-13 17:30:56.285 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: admin
2025-12-13 17:30:58.765 [JavaFX Application Thread] INFO  c.e.s.c.UserManagementController - Loaded 3 accounts
2025-12-13 17:31:18.668 [JavaFX Application Thread] INFO  c.e.shopgaubong.dao.CategoryDAO - Đã lưu entity: com.example.shopgaubong.entity.Category@2c05aec
2025-12-13 17:31:18.669 [JavaFX Application Thread] INFO  c.e.s.service.CategoryService - Tạo danh mục mới: gau bong
2025-12-13 17:31:55.611 [JavaFX Application Thread] INFO  com.example.shopgaubong.dao.ItemDAO - Đã lưu entity: com.example.shopgaubong.entity.Item@fa124fa
2025-12-13 17:31:55.612 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.ItemService - Tạo sản phẩm mới: GB12345 - Gấu bông màu xám
2025-12-13 17:31:59.647 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tải kho thành công: 2 kho
2025-12-13 17:32:06.527 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 6 stock items
2025-12-13 17:32:06.527 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - StockManagementController initialized
2025-12-13 17:32:21.902 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.StockService - Tạo tồn kho mới: kho me linh - Gấu bông màu xám (số lượng: 20)
2025-12-13 17:32:22.871 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 7 stock items
2025-12-13 17:32:27.969 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng xuất: admin
2025-12-13 17:32:35.838 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: customer
2025-12-13 17:32:50.951 [JavaFX Application Thread] DEBUG c.e.shopgaubong.service.StockService - Check availability: Item ID 6, On Hand: 20, Reserved: 0, Available: 20, Required: 1, Result: true
2025-12-13 17:32:50.986 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.OrderService - Thêm sản phẩm vào đơn hàng ORD-20251213172721-227: Gấu bông màu xám x1
2025-12-13 17:32:54.448 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-13 17:32:55.649 [JavaFX Application Thread] DEBUG c.e.shopgaubong.service.StockService - Get available quantity: Item ID 6, On Hand: 20, Reserved: 0, Available: 20
2025-12-13 17:32:55.659 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Cập nhật giỏ hàng: OrderItem ID 18 -> số lượng 2
2025-12-13 17:32:55.671 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-13 17:33:08.214 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.OrderService - DEBUG: Subtotal=40000.00, ItemDiscount=0.00, PromotionDiscount=8.00, OldDiscount=0.00
2025-12-13 17:33:08.215 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.OrderService - DEBUG: After apply - NewDiscount=8.00, GrandTotal=43991.20
2025-12-13 17:33:08.227 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.CartService - Áp dụng mã khuyến mãi SUM123 cho khách hàng ID 3
2025-12-13 17:33:11.380 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.StockService - Giữ chỗ tồn kho cho Item ID 6: tổng giữ = 2
2025-12-13 17:33:11.413 [JavaFX Application Thread] INFO  c.e.shopgaubong.dao.PromotionDAO - Đã cập nhật entity: com.example.shopgaubong.entity.Promotion@764266a8
2025-12-13 17:33:11.413 [JavaFX Application Thread] INFO  c.e.s.service.PromotionService - Tăng số lần sử dụng khuyến mãi: SUM123 (lần 2)
2025-12-13 17:33:11.422 [JavaFX Application Thread] INFO  c.e.s.controller.CheckoutController - Đặt hàng thành công: ORD-20251213172721-227
2025-12-13 17:33:12.423 [JavaFX Application Thread] INFO  c.e.s.controller.PaymentController - Displaying 1 items for order ORD-20251213172721-227
2025-12-13 17:33:12.423 [JavaFX Application Thread] INFO  c.e.s.service.PaymentService - Calculated fees for order ORD-20251213172721-227: COD=10000, Gateway=0, Total=83991.20
2025-12-13 17:33:12.423 [JavaFX Application Thread] INFO  c.e.s.controller.PaymentController - Loaded order ORD-20251213172721-227 for payment
2025-12-13 17:33:16.272 [JavaFX Application Thread] INFO  c.e.s.service.PaymentService - Calculated fees for order ORD-20251213172721-227: COD=0, Gateway=0, Total=73991.20
2025-12-13 17:33:16.273 [JavaFX Application Thread] DEBUG c.e.s.controller.PaymentController - Updated payment method details for: BANK_TRANSFER
2025-12-13 17:33:20.106 [JavaFX Application Thread] INFO  c.e.s.service.PaymentService - Calculated fees for order ORD-20251213172721-227: COD=10000, Gateway=0, Total=83991.20
2025-12-13 17:33:20.107 [JavaFX Application Thread] DEBUG c.e.s.controller.PaymentController - Updated payment method details for: COD
2025-12-13 17:33:21.712 [JavaFX Application Thread] INFO  c.e.s.service.PaymentService - Calculated fees for order ORD-20251213172721-227: COD=10000, Gateway=0, Total=83991.20
2025-12-13 17:33:21.724 [JavaFX Application Thread] INFO  c.example.shopgaubong.dao.PaymentDAO - Đã lưu entity: com.example.shopgaubong.entity.Payment@605e68d2
2025-12-13 17:33:21.724 [JavaFX Application Thread] INFO  c.e.s.service.PaymentService - Created payment 6 for order ORD-20251213172721-227 with method COD
2025-12-13 17:33:22.526 [JavaFX Application Thread] INFO  c.e.s.controller.PaymentController - Payment created successfully for order ORD-20251213172721-227
2025-12-13 17:33:24.483 [JavaFX Application Thread] INFO  c.e.s.c.CustomerOrderController - Tải đơn hàng thành công: 10 đơn
2025-12-13 17:33:28.130 [JavaFX Application Thread] INFO  c.e.s.c.CustomerProfileController - Loaded account information for user: customer
2025-12-13 17:33:28.130 [JavaFX Application Thread] INFO  c.e.s.c.CustomerProfileController - Loaded profile data for user: customer
2025-12-13 17:33:32.031 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng xuất: customer
2025-12-13 17:33:37.249 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: staff
2025-12-13 17:33:38.287 [JavaFX Application Thread] INFO  c.e.s.c.OrderManagementController - Tải đơn hàng thành công: 10 đơn
2025-12-13 17:33:53.631 [JavaFX Application Thread] INFO  c.e.s.c.OrderManagementController - Tải đơn hàng thành công: 10 đơn
2025-12-13 17:33:56.435 [JavaFX Application Thread] INFO  c.e.s.c.WarehouseManagementController - Tải kho thành công: 2 kho
2025-12-13 17:34:01.536 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - Loaded 7 stock items
2025-12-13 17:34:01.536 [JavaFX Application Thread] INFO  c.e.s.c.StockManagementController - StockManagementController initialized
2025-12-13 17:34:04.746 [JavaFX Application Thread] INFO  c.e.s.c.PaymentManagementController - Loaded 6 payments
2025-12-13 17:34:04.747 [JavaFX Application Thread] INFO  c.e.s.c.PaymentManagementController - PaymentManagementController initialized
2025-12-13 17:34:14.217 [JavaFX Application Thread] INFO  c.example.shopgaubong.dao.PaymentDAO - Đã cập nhật entity: com.example.shopgaubong.entity.Payment@5eea5f64
2025-12-13 17:34:14.248 [JavaFX Application Thread] INFO  c.example.shopgaubong.dao.OrderDAO - Đã cập nhật entity: com.example.shopgaubong.entity.Order@d9c971f
2025-12-13 17:34:14.268 [JavaFX Application Thread] INFO  c.e.s.c.PaymentManagementController - Loaded 6 payments
2025-12-13 17:34:15.122 [JavaFX Application Thread] INFO  c.e.s.c.PaymentManagementController - Confirmed payment for order: ORD-20251213172721-227
2025-12-13 17:34:17.002 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng xuất: staff
2025-12-13 17:34:22.593 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: admin
2025-12-13 17:34:24.000 [JavaFX Application Thread] INFO  c.e.s.c.OrderManagementController - Tải đơn hàng thành công: 10 đơn
2025-12-13 17:34:34.297 [JavaFX Application Thread] INFO  c.e.s.c.PromotionManagementController - Tải khuyến mãi thành công: 1 khuyến mãi
2025-12-13 17:34:43.573 [JavaFX Application Thread] INFO  c.e.s.c.PaymentManagementController - Loaded 6 payments
2025-12-13 17:34:43.573 [JavaFX Application Thread] INFO  c.e.s.c.PaymentManagementController - PaymentManagementController initialized
2025-12-13 17:34:49.483 [JavaFX Application Thread] DEBUG c.e.s.controller.ReportController - Revenue chart loaded with 31 data points
2025-12-13 17:34:49.502 [JavaFX Application Thread] DEBUG c.e.s.controller.ReportController - Order status chart loaded with 4 statuses
2025-12-13 17:34:49.510 [JavaFX Application Thread] DEBUG c.e.s.controller.ReportController - Top products chart loaded with 0 products
2025-12-13 17:34:49.520 [JavaFX Application Thread] DEBUG c.e.s.controller.ReportController - Low stock data loaded with 1 items
2025-12-13 17:34:49.520 [JavaFX Application Thread] INFO  c.e.s.controller.ReportController - Dashboard data loaded successfully
2025-12-13 17:34:49.520 [JavaFX Application Thread] INFO  c.e.s.controller.ReportController - ReportController initialized
2025-12-13 17:34:53.833 [JavaFX Application Thread] DEBUG c.e.s.controller.ReportController - Revenue chart loaded with 31 data points
2025-12-13 17:34:53.856 [JavaFX Application Thread] DEBUG c.e.s.controller.ReportController - Order status chart loaded with 4 statuses
2025-12-13 17:34:53.865 [JavaFX Application Thread] DEBUG c.e.s.controller.ReportController - Top products chart loaded with 0 products
2025-12-13 17:34:53.869 [JavaFX Application Thread] DEBUG c.e.s.controller.ReportController - Low stock data loaded with 1 items
2025-12-13 17:34:53.869 [JavaFX Application Thread] INFO  c.e.s.controller.ReportController - Dashboard data loaded successfully
2025-12-13 17:35:33.517 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-13 17:35:33.527 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-13 17:55:03.438 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-13 17:55:03.645 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-13 17:55:03.699 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-13 17:55:03.736 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-13 17:55:04.110 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-13 17:55:04.120 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-13 17:55:04.121 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-13 17:55:04.121 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-13 17:55:04.121 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-13 17:55:04.124 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-13 17:55:04.537 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-13 17:55:05.088 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-13 17:55:06.046 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@399fd710] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-13 17:55:06.404 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-13 17:55:06.680 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-13 17:55:06.787 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-13 17:55:06.787 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-13 17:55:18.704 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: customer
2025-12-13 17:55:21.045 [JavaFX Application Thread] INFO  c.e.s.c.CustomerOrderController - Tải đơn hàng thành công: 10 đơn
2025-12-13 17:55:22.273 [JavaFX Application Thread] INFO  c.example.shopgaubong.dao.OrderDAO - Đã lưu entity: com.example.shopgaubong.entity.Order@765b1ee2
2025-12-13 17:55:22.289 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 0 sản phẩm
2025-12-13 17:55:26.652 [JavaFX Application Thread] INFO  c.e.s.c.CustomerOrderController - Tải đơn hàng thành công: 10 đơn
2025-12-13 17:55:28.247 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 0 sản phẩm
2025-12-13 17:55:31.813 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 0 sản phẩm
2025-12-13 17:55:36.683 [JavaFX Application Thread] WARN  c.e.shopgaubong.service.StockService - Không tìm thấy StockItem cho Warehouse ID 1 và Item ID 5
2025-12-13 17:55:36.684 [JavaFX Application Thread] WARN  c.e.shopgaubong.service.StockService - Không tìm thấy StockItem cho Warehouse ID 1 và Item ID 5 khi lấy available quantity
2025-12-13 17:55:36.686 [JavaFX Application Thread] ERROR c.e.shopgaubong.service.OrderService - Lỗi khi thêm sản phẩm: Không đủ hàng trong kho. Sản phẩm: Gấu bông loại nhỏ màu xám, Tồn kho khả dụng: 0, Tổng yêu cầu: 1 (trong giỏ: 0 + thêm: 1)
2025-12-13 17:55:46.636 [JavaFX Application Thread] DEBUG c.e.shopgaubong.service.StockService - Check availability: Item ID 4, On Hand: 10, Reserved: 3, Available: 7, Required: 1, Result: true
2025-12-13 17:55:46.659 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.OrderService - Thêm sản phẩm vào đơn hàng ORD-20251213175522-677: Gấu bông loại lớn x1
2025-12-13 17:55:48.828 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-13 17:55:52.223 [JavaFX Application Thread] ERROR c.e.s.controller.CheckoutController - Error viewing promotions: class javafx.scene.layout.HBox cannot be cast to class javafx.scene.layout.VBox (javafx.scene.layout.HBox and javafx.scene.layout.VBox are in module javafx.graphics@21.0.6 of loader 'app')
java.lang.ClassCastException: class javafx.scene.layout.HBox cannot be cast to class javafx.scene.layout.VBox (javafx.scene.layout.HBox and javafx.scene.layout.VBox are in module javafx.graphics@21.0.6 of loader 'app')
	at com.example.shopgaubong/com.example.shopgaubong.controller.CheckoutController.handleViewPromotions(CheckoutController.java:203)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at javafx.base@21.0.6/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)
	at javafx.fxml@21.0.6/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1855)
	at javafx.fxml@21.0.6/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1726)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Node.fireEvent(Node.java:8875)
	at javafx.controls@21.0.6/javafx.scene.control.Button.fire(Button.java:203)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)
	at javafx.controls@21.0.6/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)
	at javafx.base@21.0.6/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)
	at javafx.base@21.0.6/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)
	at javafx.base@21.0.6/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)
	at javafx.base@21.0.6/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)
	at javafx.base@21.0.6/javafx.event.Event.fireEvent(Event.java:198)
	at javafx.graphics@21.0.6/javafx.scene.Scene$MouseHandler.process(Scene.java:3984)
	at javafx.graphics@21.0.6/javafx.scene.Scene.processMouseEvent(Scene.java:1890)
	at javafx.graphics@21.0.6/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2708)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)
	at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)
	at javafx.graphics@21.0.6/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.handleMouseEvent(View.java:551)
	at javafx.graphics@21.0.6/com.sun.glass.ui.View.notifyMouse(View.java:937)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)
	at javafx.graphics@21.0.6/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-12-13 17:57:44.814 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-13 17:57:44.827 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
2025-12-13 18:00:17.674 [main] INFO  c.e.s.util.DatabaseInitializer - Bắt đầu khởi tạo dữ liệu mẫu...
2025-12-13 18:00:17.831 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: shopgaubongPU]
2025-12-13 18:00:17.861 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version [WORKING]
2025-12-13 18:00:17.887 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-12-13 18:00:18.158 [main] WARN  o.hibernate.orm.connections.pooling - HHH10001002: Using built-in connection pool (not intended for production use)
2025-12-13 18:00:18.167 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Loaded JDBC driver class: com.mysql.cj.jdbc.Driver
2025-12-13 18:00:18.167 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001012: Connecting with JDBC URL [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-13 18:00:18.168 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001001: Connection properties: {password=****, useUnicode=true, characterEncoding=UTF-8, user=root}
2025-12-13 18:00:18.168 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001003: Autocommit mode: false
2025-12-13 18:00:18.170 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001115: Connection pool size: 10 (min=1)
2025-12-13 18:00:18.442 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-12-13 18:00:18.843 [main] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator null
2025-12-13 18:00:19.687 [main] INFO  o.hibernate.orm.connections.access - HHH10001501: Connection obtained from JdbcConnectionAccess [org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess@176e839e] for (non-JTA) DDL execution was not in auto-commit mode; the Connection 'local transaction' will be committed and the Connection will be set into auto-commit mode.
2025-12-13 18:00:19.830 [main] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được khởi tạo thành công
2025-12-13 18:00:20.095 [main] INFO  c.e.s.util.DatabaseInitializer - Sử dụng kho: kho me linh (ID: 1)
2025-12-13 18:00:20.214 [main] INFO  c.e.s.util.DatabaseInitializer - Đã tạo 0 mục tồn kho trong kho kho me linh
2025-12-13 18:00:20.214 [main] INFO  c.e.s.util.DatabaseInitializer - Hoàn tất khởi tạo dữ liệu mẫu
2025-12-13 18:00:27.900 [JavaFX Application Thread] INFO  c.e.shopgaubong.service.AuthService - Đăng nhập thành công: customer
2025-12-13 18:00:29.066 [JavaFX Application Thread] INFO  c.e.s.controller.CartController - Tải giỏ hàng thành công: 1 sản phẩm
2025-12-13 18:00:54.870 [JavaFX Application Thread] INFO  o.hibernate.orm.connections.pooling - HHH10001008: Cleaning up connection pool [jdbc:mysql://localhost:3306/shopgaubong?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=utf8mb4]
2025-12-13 18:00:54.877 [JavaFX Application Thread] INFO  c.e.shopgaubong.util.HibernateUtil - EntityManagerFactory đã được đóng
